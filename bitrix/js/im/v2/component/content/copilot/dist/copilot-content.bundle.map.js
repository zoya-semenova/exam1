{"version":3,"file":"copilot-content.bundle.map.js","names":["this","BX","Messenger","v2","Component","exports","im_v2_lib_logger","im_v2_lib_theme","im_v2_lib_textarea","im_v2_component_sidebar","im_v2_lib_analytics","ui_notification","main_core_events","im_v2_lib_promo","im_v2_component_entitySelector","main_popup","im_public","im_v2_const","im_v2_provider_service","im_v2_component_textarea","im_v2_lib_draft","ui_vue3","im_v2_component_dialog_chat","im_v2_component_elements","main_core","im_v2_component_messageList","im_v2_lib_copilot","POPUP_ID","AddToChatHint","name","components","MessengerPopup","props","bindElement","type","Object","required","emits","computed","config","darkMode","angle","width","closeIcon","offsetLeft","className","contentBorderRadius","methods","loc","phraseCode","$Bitrix","Loc","getMessage","template","ChatHeader","EditableChatTitle","AddToChat","ChatAvatar","dialogId","String","default","currentSidebarPanel","data","showAddToChatPopup","showAddToChatHint","AvatarSize","dialog","$store","getters","chatId","userCounter","getMessagePlural","isInited","inited","isGroupCopilotChat","isSidebarOpened","length","copilotRole","role","mounted","PromoManager","getInstance","needToShow","PromoId","addUsersToCopilotChat","onNewTitleSubmit","newTitle","getChatService","renameChat","catch","UI","Notification","Center","notify","content","chatService","ChatService","replacements","openAddToChatPopup","onMembersClick","SidebarDetailBlock","members","EventEmitter","emit","EventType","sidebar","close","panel","open","toggleRightPanel","main","onHintHide","markAsWatched","BUTTON_BACKGROUND_COLOR","BUTTON_HOVER_COLOR","BUTTON_TEXT_COLOR","EmptyState","ChatButton","Button","CopilotRolesDialog","isCreatingChat","showRolesDialog","ButtonSize","preparedText","buttonColorScheme","borderColor","Color","transparent","backgroundColor","iconColor","textColor","hoverColor","onCreateChatClick","async","roleCode","code","newDialogId","getCopilotService","createChat","showCreateChatError","openCopilot","copilotService","CopilotService","CopilotTextarea","ChatTextarea","CopilotDraftManager","CopilotChatContext","freeze","personal","group","CopilotMessageMenu","MessageMenu","getMenuItems","getCopyItem","getFavoriteItem","getForwardItem","getSendFeedbackItem","getDeleteItem","copilotManager","CopilotManager","isCopilotBot","context","authorId","text","onclick","openForm","menuInstance","formId","Math","round","random","Runtime","loadExtension","Feedback","Form","id","forms","zones","lang","sec","presets","sender_page","getCopilotChatContext","language","cp_answer","chat","store","CopilotMessageList","MessageList","DialogStatus","CopilotDialog","BitrixVue","cloneComponent","ChatDialog","messageListComponent","CopilotContent","ChatSidebar","directives","element","binding","instance","textareaResizeManager","observeTextarea","beforeUnmount","unobserveTextarea","entityId","contextMessageId","Number","textareaHeight","layout","containerClasses","alignment","Settings","appearance","backgroundStyle","COPILOT_BACKGROUND_ID","ThemeManager","getBackgroundStyleById","dialogContainerStyle","CHAT_HEADER_HEIGHT","height","watch","newValue","oldValue","Logger","warn","onChatChange","scrollToBottom","animation","created","initTextareaResizeManager","Analytics","onOpenChat","loading","contextId","loadChatWithContext","loadChat","onTextareaMount","textareaContainer","$refs","clientHeight","then","error","showNotification","loadChatWithMessages","firstError","ResizeManager","subscribe","events","onHeightChange","event","newHeight","getData","onChangeSidebarPanel","Content","Lib","Event","EntitySelector","Main","Const","Provider","Service","Vue3","Dialog","Elements"],"sources":["copilot-content.bundle.js"],"mappings":"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"}