{"version":3,"file":"create-chat-content.bundle.js","sources":["../src/components/elements/title-input.js","../src/components/elements/chat-avatar.js","../src/components/elements/chat-members.js","../src/components/elements/button-panel.js","../src/components/elements/heading.js","../src/components/sections/section.js","../src/components/elements/textarea.js","../src/components/elements/radio.js","../src/components/sections/settings/settings-section.js","../src/components/sections/rights/components/role-selector.js","../src/components/sections/rights/components/user-selector/user-selector.js","../src/components/sections/rights/components/user-selector/owner.js","../src/components/sections/rights/components/user-selector/managers.js","../src/components/sections/rights/const/dropdown-items.js","../src/components/sections/rights/const/config.js","../src/components/sections/rights/rights-section.js","../src/components/sections/appearance/appearance-section.js","../src/components/group-chat.js","../src/components/sections/conference/conference-section.js","../src/components/conference.js","../src/components/sections/privacy/privacy-section.js","../src/components/channel.js","../src/create-chat-content.js"],"sourcesContent":["import type { JsonObject } from 'main.core';\n\n// @vue/component\nexport const TitleInput = {\n\tname: 'TitleInput',\n\tprops:\n\t{\n\t\tmodelValue: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\tplaceholder: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\temits: ['update:modelValue'],\n\tdata(): JsonObject\n\t{\n\t\treturn {};\n\t},\n\tmounted()\n\t{\n\t\tthis.$refs.titleInput.focus();\n\t},\n\tmethods:\n\t{\n\t\tonInput(event: Event)\n\t\t{\n\t\t\tthis.$emit('update:modelValue', event.target.value);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-content-create-chat__title_container\">\n\t\t\t<input\n\t\t\t\t:value=\"modelValue\"\n\t\t\t\t:placeholder=\"placeholder\"\n\t\t\t\t@input=\"onInput\"\n\t\t\t\tclass=\"bx-im-content-create-chat__title_input\"\n\t\t\t\tref=\"titleInput\"\n\t\t\t/>\n\t\t</div>\n\t`,\n};\n","import { Type } from 'main.core';\n\nimport { ChatService } from 'im.v2.provider.service';\n\nimport type { JsonObject } from 'main.core';\n\n// @vue/component\nexport const ChatAvatar = {\n\tname: 'ChatAvatar',\n\tprops:\n\t{\n\t\tavatarFile: {\n\t\t\trequired: true,\n\t\t\tvalidator(value): boolean\n\t\t\t{\n\t\t\t\treturn (value instanceof File) || Type.isNull(value);\n\t\t\t},\n\t\t},\n\t\tchatTitle: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tsquared: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\temits: ['avatarChange'],\n\tdata(): JsonObject\n\t{\n\t\treturn {};\n\t},\n\tcomputed:\n\t{\n\t\tpreparedAvatar(): string | null\n\t\t{\n\t\t\tif (!this.avatarFile)\n\t\t\t{\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn URL.createObjectURL(this.avatarFile);\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\tonAvatarChangeClick()\n\t\t{\n\t\t\tthis.$refs.avatarInput.click();\n\t\t},\n\t\tasync onAvatarSelect(event: Event)\n\t\t{\n\t\t\tconst input: HTMLInputElement = event.target;\n\t\t\tconst file: File = input.files[0];\n\t\t\tif (!file)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst preparedAvatar = await this.getChatService().prepareAvatar(file);\n\t\t\tif (!preparedAvatar)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.$emit('avatarChange', preparedAvatar);\n\t\t},\n\t\tgetChatService(): ChatService\n\t\t{\n\t\t\tif (!this.chatService)\n\t\t\t{\n\t\t\t\tthis.chatService = new ChatService();\n\t\t\t}\n\n\t\t\treturn this.chatService;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-content-create-chat__avatar_container\" :class=\"{'--squared': squared}\" @click=\"onAvatarChangeClick\">\n\t\t\t<img v-if=\"preparedAvatar\" class=\"bx-im-content-create-chat__avatar_image\" :src=\"preparedAvatar\" :alt=\"chatTitle\" />\n\t\t</div>\n\t\t<input type=\"file\" @change=\"onAvatarSelect\" accept=\"image/*\" class=\"bx-im-content-create-chat__avatar_input\" ref=\"avatarInput\">\n\t`,\n};\n","import { BaseEvent } from 'main.core.events';\nimport {\n\tTagSelector,\n\ttype Dialog as SelectorDialog,\n\ttype Item as SelectorItem,\n\ttype EntityOptions,\n} from 'ui.entity-selector';\n\nimport { Core } from 'im.v2.application.core';\nimport { ChatType } from 'im.v2.const';\nimport { Feature, FeatureManager } from 'im.v2.lib.feature';\n\n// @vue/component\nexport const ChatMembersSelector = {\n\tprops:\n\t{\n\t\tchatMembers: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tchatType: {\n\t\t\ttype: String,\n\t\t\tdefault: ChatType.chat,\n\t\t},\n\t},\n\temits: ['membersChange'],\n\tcreated()\n\t{\n\t\tconst preselectedItems = [['user', Core.getUserId()], ...this.chatMembers];\n\t\tconst addButtonCaption = this.loc('IM_CREATE_CHAT_USER_SELECTOR_ADD_MEMBERS_V2');\n\n\t\tthis.membersSelector = new TagSelector({\n\t\t\tmaxHeight: 99,\n\t\t\tplaceholder: '',\n\t\t\taddButtonCaption,\n\t\t\taddButtonCaptionMore: addButtonCaption,\n\t\t\tshowCreateButton: false,\n\t\t\tdialogOptions: {\n\t\t\t\tenableSearch: true,\n\t\t\t\tcontext: 'IM_CHAT_CREATE',\n\t\t\t\tentities: this.getEntitiesConfig(),\n\t\t\t\tpreselectedItems,\n\t\t\t\tundeselectedItems: [['user', Core.getUserId()]],\n\t\t\t\tevents: {\n\t\t\t\t\t'Item:onSelect': this.onItemsChange,\n\t\t\t\t\t'Item:onDeselect': this.onItemsChange,\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t},\n\tmounted()\n\t{\n\t\tthis.membersSelector.renderTo(this.$refs.members);\n\t},\n\tmethods:\n\t{\n\t\tgetEntitiesConfig(): EntityOptions[]\n\t\t{\n\t\t\tconst entitiesConfig = [{ id: 'user' }];\n\t\t\tconst allowDepartments = FeatureManager.isFeatureAvailable(Feature.chatDepartments);\n\t\t\tif (allowDepartments)\n\t\t\t{\n\t\t\t\tentitiesConfig.push({\n\t\t\t\t\tid: 'department',\n\t\t\t\t\toptions: {\n\t\t\t\t\t\tselectMode: 'usersAndDepartments',\n\t\t\t\t\t\tallowFlatDepartments: true,\n\t\t\t\t\t\tallowSelectRootDepartment: true,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tentitiesConfig.push({ id: 'department' });\n\t\t\t}\n\n\t\t\treturn entitiesConfig;\n\t\t},\n\t\tonItemsChange(event: BaseEvent)\n\t\t{\n\t\t\tconst dialog: SelectorDialog = event.getTarget();\n\t\t\tconst selectedItems: SelectorItem[] = dialog.getSelectedItems();\n\t\t\tthis.$emit('membersChange', selectedItems.map((item) => this.prepareTag(item)));\n\t\t},\n\t\tprepareTag(tag: SelectorItem): [string, number | string]\n\t\t{\n\t\t\treturn [tag.getEntityId(), tag.getId()];\n\t\t},\n\t\tloc(phraseCode: string): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-content-create-chat__members\" ref=\"members\"></div>\n\t`,\n};\n","import { Button as MessengerButton, ButtonSize, ButtonColor } from 'im.v2.component.elements';\n\n// @vue/component\nexport const ButtonPanel = {\n\tcomponents: { MessengerButton },\n\tprops:\n\t{\n\t\tisCreating: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t\tcreateButtonTitle: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\temits: ['create', 'cancel'],\n\tdata()\n\t{\n\t\treturn {};\n\t},\n\tcomputed:\n\t{\n\t\tButtonSize: () => ButtonSize,\n\t\tButtonColor: () => ButtonColor,\n\t},\n\tmethods:\n\t{\n\t\tloc(phraseCode: string): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-content-create-chat__buttons\">\n\t\t\t<div class=\"bx-im-content-create-chat__buttons_create\">\n\t\t\t\t<MessengerButton\n\t\t\t\t\t:size=\"ButtonSize.XL\"\n\t\t\t\t\t:color=\"ButtonColor.Success\"\n\t\t\t\t\t:text=\"createButtonTitle\"\n\t\t\t\t\t:isLoading=\"isCreating\"\n\t\t\t\t\t:isDisabled=\"isCreating\"\n\t\t\t\t\t@click=\"$emit('create')\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div class=\"bx-im-content-create-chat__buttons_cancel\">\n\t\t\t\t<MessengerButton\n\t\t\t\t\t:size=\"ButtonSize.XL\"\n\t\t\t\t\t:color=\"ButtonColor.Link\"\n\t\t\t\t\t:text=\"loc('IM_CREATE_CHAT_CANCEL')\"\n\t\t\t\t\t:isDisabled=\"isCreating\"\n\t\t\t\t\t@click=\"$emit('cancel')\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n","import { ChatHint } from 'im.v2.component.elements';\n\nimport '../../css/heading.css';\n\n// @vue/component\nexport const CreateChatHeading = {\n\tname: 'CreateChatHeading',\n\tcomponents: { ChatHint },\n\tprops:\n\t{\n\t\ttext: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\thintText: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: '',\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tpreparedText(): string\n\t\t{\n\t\t\treturn this.text\n\t\t\t\t.replace('#SUBTITLE_START#', '<span class=\"bx-im-content-create-chat__subheading\">')\n\t\t\t\t.replace('#SUBTITLE_END#', '</span>');\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-content-create-chat__heading_container\">\n\t\t\t<div class=\"bx-im-content-create-chat__heading\" v-html=\"preparedText\"></div>\n\t\t\t<ChatHint v-if=\"hintText\" :text=\"hintText\" />\n\t\t</div>\n\t`,\n};\n","import { ExpandAnimation } from 'im.v2.component.animation';\n\nimport '../../css/section.css';\n\nimport type { JsonObject } from 'main.core';\n\n// @vue/component\nexport const CreateChatSection = {\n\tcomponents: { ExpandAnimation },\n\tprops: {\n\t\tname: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\talwaysOpened: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata(): JsonObject\n\t{\n\t\treturn {\n\t\t\tisOpened: false,\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\tcontainerClasses(): string[]\n\t\t{\n\t\t\treturn [`--${this.name}`, { '--active': this.isOpened }];\n\t\t},\n\t},\n\tcreated()\n\t{\n\t\tif (this.alwaysOpened)\n\t\t{\n\t\t\tthis.isOpened = true;\n\t\t}\n\t},\n\tmethods:\n\t{\n\t\tonHeaderClick()\n\t\t{\n\t\t\tif (this.alwaysOpened)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.isOpened = !this.isOpened;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div :class=\"containerClasses\" class=\"bx-im-content-create-chat__section bx-im-content-create-chat__section_scope\">\n\t\t\t<div @click=\"onHeaderClick\" class=\"bx-im-content-create-chat__section_header\">\n\t\t\t\t<div class=\"bx-im-content-create-chat__section_left\">\n\t\t\t\t\t<div class=\"bx-im-content-create-chat__section_icon\"></div>\n\t\t\t\t\t<div class=\"bx-im-content-create-chat__section_text\">{{ title }}</div>\n\t\t\t\t</div>\n\t\t\t\t<div v-if=\"!alwaysOpened\" class=\"bx-im-content-create-chat__section_right\"></div>\t\n\t\t\t</div>\n\t\t\t<ExpandAnimation>\n\t\t\t\t<div v-if=\"isOpened\" class=\"bx-im-content-create-chat__section_content_container\">\n\t\t\t\t\t<div class=\"bx-im-content-create-chat__section_content\">\n\t\t\t\t\t\t<slot></slot>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</ExpandAnimation>\n\t\t</div>\n\t`,\n};\n","import '../../css/textarea.css';\n\nimport type { JsonObject } from 'main.core';\n\n// @vue/component\nexport const TextareaInput = {\n\tname: 'TextareaInput',\n\tprops:\n\t{\n\t\tvalue: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\tplaceholder: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tborder: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: true,\n\t\t},\n\t\trounded: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: true,\n\t\t},\n\t},\n\temits: ['input'],\n\tdata(): JsonObject\n\t{\n\t\treturn {};\n\t},\n\tcomputed:\n\t{\n\t\tcontainerClasses(): { [className: string]: boolean }\n\t\t{\n\t\t\treturn { '--no-border': !this.border, '--rounded': this.rounded };\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\tonInput(event: Event)\n\t\t{\n\t\t\tthis.$emit('input', event.target.value);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-content-create-chat__textarea_container\" :class=\"containerClasses\">\n\t\t\t<div class=\"ui-ctl ui-ctl-textarea ui-ctl-w100 ui-ctl-no-resize\">\n\t\t\t\t<textarea\n\t\t\t\t\t:value=\"value\"\n\t\t\t\t\t:placeholder=\"placeholder\"\n\t\t\t\t\t@input=\"onInput\"\n\t\t\t\t\tclass=\"bx-im-content-create-chat__textarea ui-ctl-element\"\n\t\t\t\t></textarea>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n","import { Text } from 'main.core';\n\nimport '../../css/radio.css';\n\nexport type RadioOptionItem = {\n\tvalue: OptionValue,\n\ttext: string,\n\tselected: boolean,\n\tsubtext?: string,\n\thtml?: boolean,\n};\n\ntype OptionValue = string | number | boolean;\n\n// @vue/component\nexport const RadioOption = {\n\tname: 'RadioOption',\n\tprops:\n\t{\n\t\titems: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t},\n\temits: ['change'],\n\tdata(): { groupName: string }\n\t{\n\t\treturn {\n\t\t\tgroupName: Text.getRandom(),\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\toptions(): RadioOptionItem[]\n\t\t{\n\t\t\treturn this.items;\n\t\t},\n\t\tselectedValue(): OptionValue\n\t\t{\n\t\t\treturn this.options.find((option) => {\n\t\t\t\treturn option.selected === true;\n\t\t\t});\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\tonInput(option: RadioOptionItem): void\n\t\t{\n\t\t\tthis.$emit('change', option.value);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-content-create-chat-radio__container\">\n\t\t\t<label v-for=\"option in options\" class=\"bx-im-content-create-chat-radio__item ui-ctl ui-ctl-radio\">\n\t\t\t\t<input type=\"radio\" class=\"ui-ctl-element\" :name=\"groupName\" :checked=\"option.selected\" @input=\"onInput(option)\">\n\t\t\t\t<div class=\"ui-ctl-label-text\">\n\t\t\t\t\t<!-- Text -->\n\t\t\t\t\t<div v-if=\"option.html\" class=\"bx-im-content-create-chat-radio__label_title\" v-html=\"option.text\"></div>\n\t\t\t\t\t<div v-else class=\"bx-im-content-create-chat-radio__label_title\">{{ option.text }}</div>\n\t\t\t\t\t<!-- Subtext -->\n\t\t\t\t\t<template v-if=\"option.subtext\">\n\t\t\t\t\t\t<div v-if=\"option.html\" class=\"bx-im-content-create-chat-radio__label_subtitle\" v-html=\"option.subtext\"></div>\n\t\t\t\t\t\t<div v-else class=\"bx-im-content-create-chat-radio__label_subtitle\">{{ option.subtext }}</div>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</label>\n\t\t</div>\n\t`,\n};\n","import 'ui.forms';\n\nimport { Dropdown } from 'im.v2.component.elements';\n\nimport { CreateChatSection } from '../section';\nimport { TextareaInput } from '../../elements/textarea';\nimport { RadioOption, type RadioOptionItem } from '../../elements/radio';\nimport { CreateChatHeading } from '../../elements/heading';\n\nimport type { JsonObject } from 'main.core';\n\n// @vue/component\nexport const SettingsSection = {\n\tcomponents: { CreateChatSection, CreateChatHeading, Dropdown, TextareaInput, RadioOption },\n\tprops: {\n\t\tdescription: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\twithSearchOption: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tisAvailableInSearch: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\temits: ['chatTypeChange', 'descriptionChange'],\n\tdata(): JsonObject\n\t{\n\t\treturn {};\n\t},\n\tcomputed:\n\t{\n\t\tprivacyOptions(): RadioOptionItem[]\n\t\t{\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tvalue: false,\n\t\t\t\t\ttext: this.loc('IM_CREATE_CHAT_SETTINGS_SECTION_PRIVATE_TITLE'),\n\t\t\t\t\tsubtext: this.loc('IM_CREATE_CHAT_SETTINGS_SECTION_PRIVATE_SUBTITLE'),\n\t\t\t\t\tselected: !this.isAvailableInSearch,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: true,\n\t\t\t\t\ttext: this.loc('IM_CREATE_CHAT_SETTINGS_SECTION_OPEN_TITLE'),\n\t\t\t\t\tsubtext: this.loc('IM_CREATE_CHAT_SETTINGS_SECTION_OPEN_SUBTITLE'),\n\t\t\t\t\tselected: this.isAvailableInSearch,\n\t\t\t\t},\n\t\t\t];\n\t\t},\n\t\tdescriptionPlaceholderText(): string\n\t\t{\n\t\t\treturn this.loc('IM_CREATE_CHAT_SETTINGS_SECTION_DESCRIPTION_PLACEHOLDER', {\n\t\t\t\t'#BR#': '\\n',\n\t\t\t\t'#QUOTE_START#': '\"',\n\t\t\t\t'#QUOTE_END#': '\"',\n\t\t\t});\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\tonTypeChange(isAvailableInSearch: boolean)\n\t\t{\n\t\t\tthis.$emit('chatTypeChange', isAvailableInSearch);\n\t\t},\n\t\tonDescriptionChange(description: string)\n\t\t{\n\t\t\tthis.$emit('descriptionChange', description);\n\t\t},\n\t\tloc(phraseCode: string, replacements: {[p: string]: string} = {}): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode, replacements);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<CreateChatSection name=\"settings\" :title=\"loc('IM_CREATE_CHAT_SETTINGS_SECTION')\">\n\t\t\t<div v-if=\"withSearchOption\" class=\"bx-im-content-create-chat__section_block\">\n\t\t\t\t<CreateChatHeading :text=\"loc('IM_CREATE_CHAT_SETTINGS_SECTION_PRIVACY')\" />\n\t\t\t\t<RadioOption :items=\"privacyOptions\" @change=\"onTypeChange\" />\n\t\t\t</div>\n\t\t\t<div class=\"bx-im-content-create-chat__section_block\">\n\t\t\t\t<CreateChatHeading :text=\"loc('IM_CREATE_CHAT_SETTINGS_SECTION_DESCRIPTION')\" />\n\t\t\t\t<div class=\"bx-im-content-create-chat-settings__description_container\">\n\t\t\t\t\t<TextareaInput\n\t\t\t\t\t\t:value=\"description\"\n\t\t\t\t\t\t:placeholder=\"descriptionPlaceholderText\"\n\t\t\t\t\t\t:rounded=\"false\"\n\t\t\t\t\t\t@input=\"onDescriptionChange\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</CreateChatSection>\n\t`,\n};\n","import { Dropdown, ChatHint } from 'im.v2.component.elements';\n\n// @vue/component\nexport const RoleSelector = {\n\tname: 'RoleSelector',\n\tcomponents: { Dropdown, ChatHint },\n\tprops:\n\t{\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tdropdownItems: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tdropdownId: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\thintText: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: '',\n\t\t},\n\t},\n\temits: ['itemChange'],\n\ttemplate: `\n\t\t<div class=\"bx-im-content-create-chat__section_block\">\n\t\t\t<div class=\"bx-im-content-create-chat__section-header\">\n\t\t\t\t<div class=\"bx-im-content-create-chat__section-heading\">\n\t\t\t\t\t{{ title }}\n\t\t\t\t</div>\n\t\t\t\t<ChatHint v-if=\"hintText\" :text=\"hintText\" />\n\t\t\t</div>\n\t\t\t<div class=\"bx-im-content-create-chat-settings__manage-select\">\n\t\t\t\t<Dropdown\n\t\t\t\t\t:items=\"dropdownItems\"\n\t\t\t\t\t:id=\"dropdownId\" \n\t\t\t\t\t@itemChange=\"$emit('itemChange', $event)\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n","import { ChatHint } from 'im.v2.component.elements';\n\n// @vue/component\nexport const UserSelector = {\n\tname: 'UserSelector',\n\tcomponents: { ChatHint },\n\tprops:\n\t{\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\thintText: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: '',\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-content-create-chat__section_block\">\n\t\t\t<div class=\"bx-im-content-create-chat__section-header\">\n\t\t\t\t<div class=\"bx-im-content-create-chat__section-heading\">\n\t\t\t\t\t{{ title }}\n\t\t\t\t</div>\n\t\t\t\t<ChatHint v-if=\"hintText\" :text=\"hintText\" />\n\t\t\t</div>\n\t\t\t<slot></slot>\n\t\t</div>\n\t`,\n};\n","import { TagSelector } from 'ui.entity-selector';\n\n// @vue/component\nexport const OwnerSelector = {\n\tname: 'OwnerSelector',\n\tprops:\n\t{\n\t\townerId: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t},\n\temits: ['ownerChange'],\n\tdata()\n\t{\n\t\treturn {};\n\t},\n\tcreated()\n\t{\n\t\tthis.membersSelector = new TagSelector({\n\t\t\tmultiple: false,\n\t\t\tmaxHeight: 33,\n\t\t\tplaceholder: '',\n\t\t\taddButtonCaption: this.loc('IM_CREATE_CHAT_USER_SELECTOR_CHANGE_OWNER'),\n\t\t\taddButtonCaptionMore: this.loc('IM_CREATE_CHAT_USER_SELECTOR_CHANGE_OWNER'),\n\t\t\tshowCreateButton: false,\n\t\t\tdialogOptions: {\n\t\t\t\tenableSearch: false,\n\t\t\t\tcontext: 'IM_CHAT_CREATE',\n\t\t\t\tentities: [\n\t\t\t\t\t{ id: 'user' },\n\t\t\t\t\t{ id: 'department' },\n\t\t\t\t],\n\t\t\t\tpreselectedItems: [['user', this.ownerId]],\n\t\t\t},\n\t\t\tevents: {\n\t\t\t\tonBeforeTagAdd: (event) => {\n\t\t\t\t\tconst { tag } = event.getData();\n\t\t\t\t\ttag.setDeselectable(false);\n\t\t\t\t},\n\t\t\t\tonAfterTagAdd: (event) => {\n\t\t\t\t\tconst { tag } = event.getData();\n\t\t\t\t\tthis.$emit('ownerChange', tag.id);\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t},\n\tmounted()\n\t{\n\t\tthis.membersSelector.renderTo(this.$refs.owner);\n\t},\n\tmethods:\n\t{\n\t\tloc(phraseCode: string): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-content-create-chat__owner\" ref=\"owner\"></div>\n\t`,\n};\n","import { TagSelector } from 'ui.entity-selector';\n\nimport { Core } from 'im.v2.application.core';\n\n// @vue/component\nexport const ManagersSelector = {\n\tprops:\n\t{\n\t\tmanagerIds: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t},\n\temits: ['managersChange'],\n\tdata()\n\t{\n\t\treturn {};\n\t},\n\tcomputed:\n\t{\n\t\tcurrentUserId(): number\n\t\t{\n\t\t\treturn Core.getUserId();\n\t\t},\n\t},\n\tcreated()\n\t{\n\t\tconst preselectedItems = this.managerIds.map((userId: number) => {\n\t\t\treturn ['user', userId];\n\t\t});\n\n\t\tthis.membersSelector = new TagSelector({\n\t\t\tmaxHeight: 99,\n\t\t\tplaceholder: '',\n\t\t\taddButtonCaption: this.loc('IM_CREATE_CHAT_RIGHTS_SECTION_ADD_MANAGERS'),\n\t\t\taddButtonCaptionMore: this.loc('IM_CREATE_CHAT_RIGHTS_SECTION_ADD_MANAGERS'),\n\t\t\tshowCreateButton: false,\n\t\t\tdialogOptions: {\n\t\t\t\tenableSearch: false,\n\t\t\t\tcontext: 'IM_CHAT_CREATE',\n\t\t\t\tentities: [\n\t\t\t\t\t{ id: 'user' },\n\t\t\t\t\t{ id: 'department' },\n\t\t\t\t],\n\t\t\t\tpreselectedItems,\n\t\t\t},\n\t\t\tevents: {\n\t\t\t\tonAfterTagAdd: (event) => {\n\t\t\t\t\tconst selector = event.getTarget();\n\t\t\t\t\tthis.$emit('managersChange', selector.getTags().map((tag) => tag.id));\n\t\t\t\t},\n\t\t\t\tonAfterTagRemove: (event) => {\n\t\t\t\t\tconst selector = event.getTarget();\n\t\t\t\t\tthis.$emit('managersChange', selector.getTags().map((tag) => tag.id));\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\t},\n\tmounted()\n\t{\n\t\tthis.membersSelector.renderTo(this.$refs.managers);\n\t},\n\tmethods:\n\t{\n\t\tloc(phraseCode: string): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-content-create-chat__managers\" ref=\"managers\"></div>\n\t`,\n};\n","import { Loc } from 'main.core';\n\nimport { UserRole } from 'im.v2.const';\n\nimport type { DropdownItem } from 'im.v2.component.elements';\n\nexport const rightsDropdownItems: DropdownItem[] = [\n\t{\n\t\tvalue: UserRole.member,\n\t\ttext: Loc.getMessage('IM_CREATE_CHAT_RIGHTS_SECTION_ROLE_MEMBER'),\n\t},\n\t{\n\t\tvalue: UserRole.manager,\n\t\ttext: Loc.getMessage('IM_CREATE_CHAT_RIGHTS_SECTION_ROLE_MANAGER_V2'),\n\t},\n\t{\n\t\tvalue: UserRole.owner,\n\t\ttext: Loc.getMessage('IM_CREATE_CHAT_RIGHTS_SECTION_ROLE_OWNER'),\n\t\tdefault: true,\n\t},\n];\n","import { Loc } from 'main.core';\n\nimport { ChatType, ChatActionGroup } from 'im.v2.const';\n\nexport const BlocksByChatType = {\n\t[ChatType.channel]: new Set([\n\t\tChatActionGroup.manageUsersAdd,\n\t\tChatActionGroup.manageUsersDelete,\n\t\tChatActionGroup.manageMessages,\n\t]),\n\tdefault: new Set([\n\t\tChatActionGroup.manageUsersAdd,\n\t\tChatActionGroup.manageUsersDelete,\n\t\tChatActionGroup.manageUi,\n\t\tChatActionGroup.manageMessages,\n\t]),\n};\n\nexport const CanAddUsersCaptionByChatType = {\n\t[ChatType.channel]: Loc.getMessage('IM_CREATE_CHANNEL_RIGHTS_SECTION_MANAGE_USERS_ADD'),\n\tdefault: Loc.getMessage('IM_CREATE_CHAT_RIGHTS_SECTION_MANAGE_USERS_ADD'),\n};\n\nexport const CanKickUsersCaptionByChatType = {\n\t[ChatType.channel]: Loc.getMessage('IM_CREATE_CHANNEL_RIGHTS_SECTION_MANAGE_USERS_DELETE'),\n\tdefault: Loc.getMessage('IM_CREATE_CHAT_RIGHTS_SECTION_MANAGE_USERS_DELETE'),\n};\n\nexport const CanSendMessageCaptionByChatType = {\n\t[ChatType.channel]: Loc.getMessage('IM_CREATE_CHANNEL_RIGHTS_SECTION_MANAGE_SENDING'),\n\tdefault: Loc.getMessage('IM_CREATE_CHAT_RIGHTS_SECTION_MANAGE_SENDING_MSGVER_1'),\n};\n\nexport const OwnerHintByChatType = {\n\t[ChatType.channel]: Loc.getMessage('IM_CREATE_CHANNEL_OWNER_HINT'),\n\tdefault: Loc.getMessage('IM_CREATE_CHAT_OWNER_HINT'),\n};\n\nexport const ManagerHintByChatType = {\n\t[ChatType.channel]: Loc.getMessage('IM_CREATE_CHANNEL_MANAGER_HINT'),\n\tdefault: Loc.getMessage('IM_CREATE_CHAT_MANAGER_HINT'),\n};\n\nexport const AddUsersHintByChatType = {\n\t[ChatType.channel]: Loc.getMessage('IM_CREATE_CHANNEL_MANAGE_USERS_ADD_HINT'),\n\tdefault: Loc.getMessage('IM_CREATE_CHAT_MANAGE_USERS_ADD_HINT'),\n};\n\nexport const DeleteUsersHintByChatType = {\n\t[ChatType.channel]: Loc.getMessage('IM_CREATE_CHANNEL_MANAGE_USERS_DELETE_HINT'),\n\tdefault: Loc.getMessage('IM_CREATE_CHAT_MANAGE_USERS_DELETE_HINT'),\n};\n\nexport const ManageUiHintByChatType = {\n\t[ChatType.channel]: Loc.getMessage('IM_CREATE_CHANNEL_MANAGE_UI_HINT'),\n\tdefault: Loc.getMessage('IM_CREATE_CHAT_MANAGE_UI_HINT'),\n};\n\nexport const SendMessagesHintByChatType = {\n\t[ChatType.channel]: Loc.getMessage('IM_CREATE_CHANNEL_MANAGE_SENDING_HINT'),\n\tdefault: Loc.getMessage('IM_CREATE_CHAT_MANAGE_SENDING_HINT'),\n};","import { UserRole, PopupType, ChatType, ChatActionGroup } from 'im.v2.const';\n\nimport { CreateChatSection } from '../section';\nimport { RoleSelector } from './components/role-selector';\nimport { UserSelector } from './components/user-selector/user-selector';\nimport { OwnerSelector } from './components/user-selector/owner';\nimport { ManagersSelector } from './components/user-selector/managers';\nimport { rightsDropdownItems } from './const/dropdown-items';\nimport {\n\tBlocksByChatType,\n\tCanAddUsersCaptionByChatType,\n\tCanSendMessageCaptionByChatType,\n\tCanKickUsersCaptionByChatType,\n\tOwnerHintByChatType,\n\tManagerHintByChatType,\n\tAddUsersHintByChatType,\n\tDeleteUsersHintByChatType,\n\tManageUiHintByChatType,\n\tSendMessagesHintByChatType,\n} from './const/config';\n\nimport type { DropdownItem } from 'im.v2.component.elements';\n\ntype UserRoleItem = $Keys<typeof UserRole>;\n\n// @vue/component\nexport const RightsSection = {\n\tname: 'RightsSection',\n\tcomponents: { CreateChatSection, RoleSelector, UserSelector, OwnerSelector, ManagersSelector },\n\tprops: {\n\t\townerId: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t\tmanagerIds: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tmanageUsersAdd: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tmanageUsersDelete: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tmanageSettings: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tmanageUi: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tmanageMessages: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tchatType: {\n\t\t\ttype: String,\n\t\t\tdefault: ChatType.chat,\n\t\t},\n\t},\n\temits: ['ownerChange', 'managersChange', 'manageUsersAddChange', 'manageUsersDeleteChange', 'manageUiChange', 'manageMessagesChange'],\n\tcomputed:\n\t{\n\t\tPopupType: () => PopupType,\n\t\tmanageUsersAddItems(): DropdownItem[]\n\t\t{\n\t\t\treturn this.prepareDropdownItems(this.manageUsersAdd);\n\t\t},\n\t\tmanageUsersDeleteItems(): DropdownItem[]\n\t\t{\n\t\t\treturn this.prepareDropdownItems(this.manageUsersDelete);\n\t\t},\n\t\tmanageUiItems(): DropdownItem[]\n\t\t{\n\t\t\treturn this.prepareDropdownItems(this.manageUi);\n\t\t},\n\t\tmanageMessagesItems(): DropdownItem[]\n\t\t{\n\t\t\treturn this.prepareDropdownItems(this.manageMessages);\n\t\t},\n\t\tshowManageUiBlock(): boolean\n\t\t{\n\t\t\tconst blocksByType = BlocksByChatType[this.chatType] ?? BlocksByChatType.default;\n\n\t\t\treturn blocksByType.has(ChatActionGroup.manageUi);\n\t\t},\n\t\tcanAddUsersCaption(): string\n\t\t{\n\t\t\treturn CanAddUsersCaptionByChatType[this.chatType] ?? CanAddUsersCaptionByChatType.default;\n\t\t},\n\t\tcanKickUsersCaption(): string\n\t\t{\n\t\t\treturn CanKickUsersCaptionByChatType[this.chatType] ?? CanKickUsersCaptionByChatType.default;\n\t\t},\n\t\tcanSendCaption(): string\n\t\t{\n\t\t\treturn CanSendMessageCaptionByChatType[this.chatType] ?? CanSendMessageCaptionByChatType.default;\n\t\t},\n\t\townerHint(): string\n\t\t{\n\t\t\treturn OwnerHintByChatType[this.chatType] ?? OwnerHintByChatType.default;\n\t\t},\n\t\tmanagerHint(): string\n\t\t{\n\t\t\treturn ManagerHintByChatType[this.chatType] ?? ManagerHintByChatType.default;\n\t\t},\n\t\taddUsersHint(): string\n\t\t{\n\t\t\treturn AddUsersHintByChatType[this.chatType] ?? AddUsersHintByChatType.default;\n\t\t},\n\t\tdeleteUsersHint(): string\n\t\t{\n\t\t\treturn DeleteUsersHintByChatType[this.chatType] ?? DeleteUsersHintByChatType.default;\n\t\t},\n\t\tmanageUiHint(): string\n\t\t{\n\t\t\treturn ManageUiHintByChatType[this.chatType] ?? ManageUiHintByChatType.default;\n\t\t},\n\t\tsendMessagesHint(): string\n\t\t{\n\t\t\treturn SendMessagesHintByChatType[this.chatType] ?? SendMessagesHintByChatType.default;\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\tprepareDropdownItems(defaultValue: UserRoleItem): DropdownItem[]\n\t\t{\n\t\t\treturn rightsDropdownItems.map((item) => {\n\t\t\t\treturn {\n\t\t\t\t\t...item,\n\t\t\t\t\tdefault: item.value === defaultValue,\n\t\t\t\t};\n\t\t\t});\n\t\t},\n\t\tonOwnerChange(ownerId: number)\n\t\t{\n\t\t\tthis.$emit('ownerChange', ownerId);\n\t\t},\n\t\tonManagersChange(managerIds: number[])\n\t\t{\n\t\t\tthis.$emit('managersChange', managerIds);\n\t\t},\n\t\tonManageUsersAddChange(newValue: UserRoleItem)\n\t\t{\n\t\t\tthis.$emit('manageUsersAddChange', newValue);\n\t\t},\n\t\tonManageUsersDeleteChange(newValue: UserRoleItem)\n\t\t{\n\t\t\tthis.$emit('manageUsersDeleteChange', newValue);\n\t\t},\n\t\tonManageUiChange(newValue: UserRoleItem)\n\t\t{\n\t\t\tthis.$emit('manageUiChange', newValue);\n\t\t},\n\t\tonManageMessagesChange(newValue: UserRoleItem)\n\t\t{\n\t\t\tthis.$emit('manageMessagesChange', newValue);\n\t\t},\n\t\tloc(phraseCode: string, replacements: {[p: string]: string} = {}): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode, replacements);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<CreateChatSection name=\"rights\" :title=\"loc('IM_CREATE_CHAT_RIGHTS_SECTION')\">\n\t\t\t<UserSelector :title=\"loc('IM_CREATE_CHAT_SETTINGS_SECTION_OWNER')\" :hintText=\"ownerHint\">\n\t\t\t\t<OwnerSelector :ownerId=\"ownerId\" @ownerChange=\"onOwnerChange\" />\n\t\t\t</UserSelector>\n\t\t\t<UserSelector :title=\"loc('IM_CREATE_CHAT_RIGHTS_SECTION_MANAGERS')\" :hintText=\"managerHint\">\n\t\t\t\t<ManagersSelector :managerIds=\"managerIds\" @managersChange=\"onManagersChange\" />\n\t\t\t</UserSelector>\n\t\t\t<RoleSelector\n\t\t\t\t:title=\"canAddUsersCaption\"\n\t\t\t\t:hintText=\"addUsersHint\"\n\t\t\t\t:dropdownId=\"PopupType.createChatManageUsersAddMenu\"\n\t\t\t\t:dropdownItems=\"manageUsersAddItems\"\n\t\t\t\t@itemChange=\"onManageUsersAddChange\"\n\t\t\t/>\n\t\t\t<RoleSelector\n\t\t\t\t:title=\"canKickUsersCaption\"\n\t\t\t\t:hintText=\"deleteUsersHint\"\n\t\t\t\t:dropdownId=\"PopupType.createChatManageUsersDeleteMenu\"\n\t\t\t\t:dropdownItems=\"manageUsersDeleteItems\"\n\t\t\t\t@itemChange=\"onManageUsersDeleteChange\"\n\t\t\t/>\n\t\t\t<RoleSelector\n\t\t\t\tv-if=\"showManageUiBlock\"\n\t\t\t\t:title=\"loc('IM_CREATE_CHAT_RIGHTS_SECTION_MANAGE_UI_MSGVER_2')\"\n\t\t\t\t:hintText=\"manageUiHint\"\n\t\t\t\t:dropdownId=\"PopupType.createChatManageUiMenu\"\n\t\t\t\t:dropdownItems=\"manageUiItems\"\n\t\t\t\t@itemChange=\"onManageUiChange\"\n\t\t\t/>\n\t\t\t<RoleSelector\n\t\t\t\t:title=\"canSendCaption\"\n\t\t\t\t:hintText=\"sendMessagesHint\"\n\t\t\t\t:dropdownId=\"PopupType.createChatManageMessagesMenu\"\n\t\t\t\t:dropdownItems=\"manageMessagesItems\"\n\t\t\t\t@itemChange=\"onManageMessagesChange\"\n\t\t\t/>\n\t\t</CreateChatSection>\n\t`,\n};\n","import { CreateChatSection } from '../section';\n\n// @vue/component\nexport const AppearanceSection = {\n\tcomponents: { CreateChatSection },\n\tdata()\n\t{\n\t\treturn {};\n\t},\n\ttemplate: `\n\t\t<Section name=\"appearance\" title=\"Appearance\" />\n\t`,\n};\n","import 'ui.notification';\n\nimport { BaseEvent, EventEmitter } from 'main.core.events';\nimport { MenuManager } from 'main.popup';\n\nimport { Messenger } from 'im.public';\nimport { Core } from 'im.v2.application.core';\nimport { CreateChatManager } from 'im.v2.lib.create-chat';\nimport { PermissionManager } from 'im.v2.lib.permission';\nimport { ChatService } from 'im.v2.provider.service';\nimport { UserRole, PopupType, ChatType, EventType, Layout, type OnLayoutChangeEvent } from 'im.v2.const';\n\nimport { TitleInput } from './elements/title-input';\nimport { ChatAvatar } from './elements/chat-avatar';\nimport { ChatMembersSelector } from './elements/chat-members';\nimport { ButtonPanel } from './elements/button-panel';\nimport { CreateChatHeading } from './elements/heading';\nimport { SettingsSection } from './sections/settings/settings-section';\nimport { RightsSection } from './sections/rights/rights-section';\nimport { AppearanceSection } from './sections/appearance/appearance-section';\n\nimport type { JsonObject } from 'main.core';\n\ntype UserRoleItem = $Keys<typeof UserRole>;\n\n// @vue/component\nexport const GroupChatCreation = {\n\tname: 'GroupChatCreation',\n\tcomponents: {\n\t\tTitleInput,\n\t\tChatAvatar,\n\t\tChatMembersSelector,\n\t\tSettingsSection,\n\t\tRightsSection,\n\t\tAppearanceSection,\n\t\tButtonPanel,\n\t\tCreateChatHeading,\n\t},\n\tdata(): JsonObject\n\t{\n\t\treturn {\n\t\t\tisCreating: false,\n\t\t\tavatarFile: null,\n\t\t\tchatTitle: '',\n\t\t\tchatMembers: [],\n\t\t\tsettings: {\n\t\t\t\tisAvailableInSearch: false,\n\t\t\t\tdescription: '',\n\t\t\t},\n\t\t\trights: {\n\t\t\t\townerId: 0,\n\t\t\t\tmanagerIds: [],\n\t\t\t\tmanageUsersAdd: '',\n\t\t\t\tmanageUsersDelete: '',\n\t\t\t\tmanageSettings: '',\n\t\t\t\tmanageUi: '',\n\t\t\t\tmanageMessages: '',\n\t\t\t},\n\t\t};\n\t},\n\twatch:\n\t{\n\t\tchatTitle(newValue)\n\t\t{\n\t\t\tCreateChatManager.getInstance().setChatTitle(newValue);\n\t\t},\n\t},\n\tcreated()\n\t{\n\t\tEventEmitter.subscribe(EventType.layout.onLayoutChange, this.onLayoutChange);\n\n\t\tthis.rights.ownerId = Core.getUserId();\n\t\tthis.initDefaultRolesForRights();\n\n\t\tthis.restoreFields();\n\t\tCreateChatManager.getInstance().setChatType(ChatType.chat);\n\t\tCreateChatManager.getInstance().setCreationStatus(true);\n\t\tCreateChatManager.getInstance().setChatAvatar(this.avatarFile);\n\t},\n\tbeforeUnmount()\n\t{\n\t\tif (this.exitByCancel || this.exitByChatTypeSwitch || this.exitByCreation)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tthis.saveFields();\n\t},\n\tmethods:\n\t{\n\t\tonMembersChange(currentTags: [string, number | string][])\n\t\t{\n\t\t\tthis.chatMembers = currentTags;\n\t\t},\n\t\tonOwnerChange(ownerId: number)\n\t\t{\n\t\t\tthis.rights.ownerId = ownerId;\n\t\t},\n\t\tonManagersChange(managerIds: number[])\n\t\t{\n\t\t\tthis.rights.managerIds = managerIds;\n\t\t},\n\t\tonChatTypeChange(isAvailableInSearch: boolean)\n\t\t{\n\t\t\tthis.settings.isAvailableInSearch = isAvailableInSearch;\n\t\t},\n\t\tonDescriptionChange(description: string)\n\t\t{\n\t\t\tthis.settings.description = description;\n\t\t},\n\t\tonManageUsersAddChange(newValue: UserRoleItem)\n\t\t{\n\t\t\tthis.rights.manageUsersAdd = newValue;\n\t\t},\n\t\tonManageUsersDeleteChange(newValue: UserRoleItem)\n\t\t{\n\t\t\tthis.rights.manageUsersDelete = newValue;\n\t\t},\n\t\tonManageUiChange(newValue: UserRoleItem)\n\t\t{\n\t\t\tthis.rights.manageUi = newValue;\n\t\t},\n\t\tonManageMessagesChange(newValue: UserRoleItem)\n\t\t{\n\t\t\tthis.rights.manageMessages = newValue;\n\t\t},\n\t\tasync onCreateClick()\n\t\t{\n\t\t\tthis.isCreating = true;\n\n\t\t\tconst { newDialogId } = await this.getChatService().createChat({\n\t\t\t\ttitle: this.chatTitle,\n\t\t\t\tavatar: this.avatarFile,\n\t\t\t\tmemberEntities: this.chatMembers,\n\t\t\t\townerId: this.rights.ownerId,\n\t\t\t\tmanagers: this.rights.managerIds,\n\t\t\t\tisAvailableInSearch: this.settings.isAvailableInSearch,\n\t\t\t\tdescription: this.settings.description,\n\t\t\t\tmanageUsersAdd: this.rights.manageUsersAdd,\n\t\t\t\tmanageUsersDelete: this.rights.manageUsersDelete,\n\t\t\t\tmanageUi: this.rights.manageUi,\n\t\t\t\tmanageSettings: this.rights.manageSettings,\n\t\t\t\tmanageMessages: this.rights.manageMessages,\n\t\t\t}).catch(() => {\n\t\t\t\tthis.isCreating = false;\n\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\tcontent: this.loc('IM_CREATE_CHAT_ERROR'),\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tthis.isCreating = false;\n\t\t\tthis.exitByCreation = true;\n\t\t\tCreateChatManager.getInstance().setCreationStatus(false);\n\t\t\tvoid Messenger.openChat(newDialogId);\n\t\t},\n\t\tonCancelClick()\n\t\t{\n\t\t\tthis.exitByCancel = true;\n\t\t\tCreateChatManager.getInstance().setCreationStatus(false);\n\t\t\tMessenger.openChat();\n\t\t},\n\t\tonAvatarChange(newAvatarFile: File)\n\t\t{\n\t\t\tthis.avatarFile = newAvatarFile;\n\t\t\tCreateChatManager.getInstance().setChatAvatar(this.avatarFile);\n\t\t},\n\t\tonScroll()\n\t\t{\n\t\t\tMenuManager.getMenuById(PopupType.createChatManageUsersAddMenu)?.close();\n\t\t\tMenuManager.getMenuById(PopupType.createChatManageUsersDeleteMenu)?.close();\n\t\t\tMenuManager.getMenuById(PopupType.createChatManageUiMenu)?.close();\n\t\t\tMenuManager.getMenuById(PopupType.createChatManageMessagesMenu)?.close();\n\t\t},\n\t\tonLayoutChange(event: BaseEvent<OnLayoutChangeEvent>)\n\t\t{\n\t\t\tconst { to } = event.getData();\n\t\t\tif (to.name === Layout.createChat.name && to.entityId !== ChatType.chat)\n\t\t\t{\n\t\t\t\tthis.exitByChatTypeSwitch = true;\n\t\t\t}\n\t\t},\n\t\tsaveFields()\n\t\t{\n\t\t\tCreateChatManager.getInstance().saveFields({\n\t\t\t\tchatTitle: this.chatTitle,\n\t\t\t\tavatarFile: this.avatarFile,\n\t\t\t\tchatMembers: this.chatMembers,\n\t\t\t\tsettings: this.settings,\n\t\t\t\trights: this.rights,\n\t\t\t});\n\t\t},\n\t\trestoreFields()\n\t\t{\n\t\t\tconst savedFields = CreateChatManager.getInstance().getFields();\n\t\t\tif (!savedFields)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst { chatTitle, avatarFile, chatMembers, settings, rights } = savedFields;\n\t\t\tthis.chatTitle = chatTitle;\n\t\t\tthis.avatarFile = avatarFile;\n\t\t\tthis.chatMembers = chatMembers;\n\t\t\tthis.settings = settings;\n\t\t\tthis.rights = rights;\n\t\t},\n\t\tinitDefaultRolesForRights()\n\t\t{\n\t\t\tconst {\n\t\t\t\tmanageUsersAdd,\n\t\t\t\tmanageUsersDelete,\n\t\t\t\tmanageUi,\n\t\t\t\tmanageSettings,\n\t\t\t\tmanageMessages,\n\t\t\t} = PermissionManager.getInstance().getDefaultRolesForActionGroups();\n\n\t\t\tthis.rights.manageUsersAdd = manageUsersAdd;\n\t\t\tthis.rights.manageUsersDelete = manageUsersDelete;\n\t\t\tthis.rights.manageUi = manageUi;\n\t\t\tthis.rights.manageSettings = manageSettings;\n\t\t\tthis.rights.manageMessages = manageMessages;\n\t\t},\n\t\tgetChatService(): ChatService\n\t\t{\n\t\t\tif (!this.chatService)\n\t\t\t{\n\t\t\t\tthis.chatService = new ChatService();\n\t\t\t}\n\n\t\t\treturn this.chatService;\n\t\t},\n\t\tloc(phraseCode: string): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-content-create-chat__content --chat\" @scroll=\"onScroll\">\n\t\t\t<div class=\"bx-im-content-create-chat__header\">\n\t\t\t\t<ChatAvatar :avatarFile=\"avatarFile\" :chatTitle=\"chatTitle\" @avatarChange=\"onAvatarChange\" />\n\t\t\t\t<TitleInput v-model=\"chatTitle\" :placeholder=\"loc('IM_CREATE_CHAT_TITLE_PLACEHOLDER')\" />\n\t\t\t</div>\n\t\t\t<CreateChatHeading :text=\"loc('IM_CREATE_CHAT_MEMBERS_TITLE')\" />\n\t\t\t<div class=\"bx-im-content-create-chat__members_container\">\n\t\t\t\t<ChatMembersSelector :chatMembers=\"chatMembers\" @membersChange=\"onMembersChange\" />\n\t\t\t</div>\n\t\t\t<SettingsSection\n\t\t\t\t:isAvailableInSearch=\"settings.isAvailableInSearch\"\n\t\t\t\t:description=\"settings.description\"\n\t\t\t\t@chatTypeChange=\"onChatTypeChange\"\n\t\t\t\t@descriptionChange=\"onDescriptionChange\"\n\t\t\t/>\n\t\t\t<RightsSection\n\t\t\t\t:ownerId=\"rights.ownerId\"\n\t\t\t\t:managerIds=\"rights.managerIds\"\n\t\t\t\t:manageUsersAdd=\"rights.manageUsersAdd\"\n\t\t\t\t:manageUsersDelete=\"rights.manageUsersDelete\"\n\t\t\t\t:manageUi=\"rights.manageUi\"\n\t\t\t\t:manageSettings=\"rights.manageSettings\"\n\t\t\t\t:manageMessages=\"rights.manageMessages\"\n\t\t\t\t@ownerChange=\"onOwnerChange\"\n\t\t\t\t@managersChange=\"onManagersChange\"\n\t\t\t\t@manageUsersAddChange=\"onManageUsersAddChange\"\n\t\t\t\t@manageUsersDeleteChange=\"onManageUsersDeleteChange\"\n\t\t\t\t@manageUiChange=\"onManageUiChange\"\n\t\t\t\t@manageMessagesChange=\"onManageMessagesChange\"\n\t\t\t/> \n\t\t</div>\n\t\t<ButtonPanel\n\t\t\t:isCreating=\"isCreating\"\n\t\t\t:createButtonTitle=\"loc('IM_CREATE_CHAT_CONFIRM')\"\n\t\t\t@create=\"onCreateClick\"\n\t\t\t@cancel=\"onCancelClick\"\n\t\t/>\n\t`,\n};\n","import 'ui.forms';\n\nimport { Dropdown, Toggle, ToggleSize } from 'im.v2.component.elements';\n\nimport { CreateChatSection } from '../section';\nimport { CreateChatHeading } from '../../elements/heading';\n\nimport type { JsonObject } from 'main.core';\n\n// @vue/component\nexport const ConferenceSection = {\n\tcomponents: { CreateChatSection, CreateChatHeading, Dropdown, Toggle },\n\tprops: {\n\t\tpasswordNeeded: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t\tpassword: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\temits: ['passwordNeededChange', 'passwordChange'],\n\tdata(): JsonObject\n\t{\n\t\treturn {};\n\t},\n\tcomputed:\n\t{\n\t\tToggleSize: () => ToggleSize,\n\t},\n\tmethods:\n\t{\n\t\tonPasswordNeededChange(passwordNeeded: boolean)\n\t\t{\n\t\t\tthis.$emit('passwordNeededChange', passwordNeeded);\n\t\t},\n\t\tonPasswordChange(event: Event)\n\t\t{\n\t\t\tthis.$emit('passwordChange', event.target.value);\n\t\t},\n\t\tonToggleLabelClick()\n\t\t{\n\t\t\tthis.onPasswordNeededChange(!this.passwordNeeded);\n\t\t},\n\t\tloc(phraseCode: string, replacements: {[p: string]: string} = {}): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode, replacements);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<CreateChatSection name=\"conference\" :title=\"loc('IM_CREATE_CHAT_CONFERENCE_SECTION')\">\n\t\t\t<div class=\"bx-im-content-create-chat__section_block\">\n\t\t\t\t<CreateChatHeading :text=\"loc('IM_CREATE_CHAT_CONFERENCE_SECTION_PRIVACY')\" />\n\t\t\t\t<div @click=\"onToggleLabelClick\" class=\"bx-im-content-create-chat-settings__type-select\">\n\t\t\t\t\t<Toggle :size=\"ToggleSize.M\" :isEnabled=\"passwordNeeded\" />\n\t\t\t\t\t<div class=\"bx-im-content-create-chat-settings__type-select_label\">\n\t\t\t\t\t\t{{ loc('IM_CREATE_CHAT_CONFERENCE_SECTION_USE_PASSWORD') }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div v-if=\"passwordNeeded\" class=\"bx-im-content-create-chat-conference__password-container ui-ctl ui-ctl-textbox\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclass=\"bx-im-content-create-chat-conference__password-input ui-ctl-element\"\n\t\t\t\t\t\t:value=\"password\"\n\t\t\t\t\t\t:placeholder=\"loc('IM_CREATE_CHAT_CONFERENCE_SECTION_PASSWORD_PLACEHOLDER')\"\n\t\t\t\t\t\t@input=\"onPasswordChange\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</CreateChatSection>\n\t`,\n};\n","import 'ui.notification';\n\nimport { BaseEvent, EventEmitter } from 'main.core.events';\nimport { MenuManager } from 'main.popup';\n\nimport { Messenger } from 'im.public';\nimport { Core } from 'im.v2.application.core';\nimport { CreateChatManager } from 'im.v2.lib.create-chat';\nimport { PermissionManager } from 'im.v2.lib.permission';\nimport { ChatService } from 'im.v2.provider.service';\nimport { UserRole, PopupType, ChatType, EventType, Layout } from 'im.v2.const';\n\nimport { TitleInput } from './elements/title-input';\nimport { ChatAvatar } from './elements/chat-avatar';\nimport { ChatMembersSelector } from './elements/chat-members';\nimport { ButtonPanel } from './elements/button-panel';\nimport { CreateChatHeading } from './elements/heading';\nimport { SettingsSection } from './sections/settings/settings-section';\nimport { RightsSection } from './sections/rights/rights-section';\nimport { AppearanceSection } from './sections/appearance/appearance-section';\nimport { ConferenceSection } from './sections/conference/conference-section';\n\nimport '../css/conference.css';\n\nimport type { JsonObject } from 'main.core';\nimport type { OnLayoutChangeEvent } from 'im.v2.const';\n\ntype UserRoleItem = $Keys<typeof UserRole>;\n\n// @vue/component\nexport const ConferenceCreation = {\n\tname: 'ConferenceCreation',\n\tcomponents: {\n\t\tTitleInput,\n\t\tChatAvatar,\n\t\tChatMembersSelector,\n\t\tSettingsSection,\n\t\tRightsSection,\n\t\tAppearanceSection,\n\t\tConferenceSection,\n\t\tButtonPanel,\n\t\tCreateChatHeading,\n\t},\n\tdata(): JsonObject\n\t{\n\t\treturn {\n\t\t\tisCreating: false,\n\t\t\tavatarFile: null,\n\t\t\tchatTitle: '',\n\t\t\tchatMembers: [],\n\t\t\tconference: {\n\t\t\t\tpasswordNeeded: false,\n\t\t\t\tpassword: '',\n\t\t\t},\n\t\t\tsettings: {\n\t\t\t\tdescription: '',\n\t\t\t},\n\t\t\trights: {\n\t\t\t\townerId: 0,\n\t\t\t\tmanagerIds: [],\n\t\t\t\tmanageUsersAdd: '',\n\t\t\t\tmanageUsersDelete: '',\n\t\t\t\tmanageSettings: '',\n\t\t\t\tmanageUi: '',\n\t\t\t\tmanageMessages: '',\n\t\t\t},\n\t\t};\n\t},\n\twatch:\n\t{\n\t\tchatTitle(newValue)\n\t\t{\n\t\t\tCreateChatManager.getInstance().setChatTitle(newValue);\n\t\t},\n\t},\n\tcreated()\n\t{\n\t\tEventEmitter.subscribe(EventType.layout.onLayoutChange, this.onLayoutChange);\n\n\t\tthis.rights.ownerId = Core.getUserId();\n\t\tthis.initDefaultRolesForRights();\n\n\t\tthis.restoreFields();\n\t\tCreateChatManager.getInstance().setChatType(ChatType.videoconf);\n\t\tCreateChatManager.getInstance().setCreationStatus(true);\n\t\tCreateChatManager.getInstance().setChatAvatar(this.avatarFile);\n\t},\n\tbeforeUnmount()\n\t{\n\t\tif (this.exitByCancel || this.exitByChatTypeSwitch)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tthis.saveFields();\n\t},\n\tmethods:\n\t{\n\t\tonMembersChange(currentTags: [string, number | string][])\n\t\t{\n\t\t\tthis.chatMembers = currentTags;\n\t\t},\n\t\tonOwnerChange(ownerId: number)\n\t\t{\n\t\t\tthis.rights.ownerId = ownerId;\n\t\t},\n\t\tonManagersChange(managerIds: number[])\n\t\t{\n\t\t\tthis.rights.managerIds = managerIds;\n\t\t},\n\t\tonDescriptionChange(description: string)\n\t\t{\n\t\t\tthis.settings.description = description;\n\t\t},\n\t\tonManageUsersAddChange(newValue: UserRoleItem)\n\t\t{\n\t\t\tthis.rights.manageUsersAdd = newValue;\n\t\t},\n\t\tonManageUsersDeleteChange(newValue: UserRoleItem)\n\t\t{\n\t\t\tthis.rights.manageUsersDelete = newValue;\n\t\t},\n\t\tonManageUiChange(newValue: UserRoleItem)\n\t\t{\n\t\t\tthis.rights.manageUi = newValue;\n\t\t},\n\t\tonManageMessagesChange(newValue: UserRoleItem)\n\t\t{\n\t\t\tthis.rights.manageMessages = newValue;\n\t\t},\n\t\tonAvatarChange(newAvatarFile: File)\n\t\t{\n\t\t\tthis.avatarFile = newAvatarFile;\n\t\t\tCreateChatManager.getInstance().setChatAvatar(this.avatarFile);\n\t\t},\n\t\tonPasswordNeededChange(passwordNeeded: boolean)\n\t\t{\n\t\t\tthis.conference.passwordNeeded = passwordNeeded;\n\t\t},\n\t\tonPasswordChange(newPassword: string)\n\t\t{\n\t\t\tthis.conference.password = newPassword;\n\t\t},\n\t\tasync onCreateClick()\n\t\t{\n\t\t\tif (!this.checkPassword())\n\t\t\t{\n\t\t\t\tthis.showPasswordError();\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.isCreating = true;\n\n\t\t\tconst { newDialogId } = await this.getChatService().createChat({\n\t\t\t\tentityType: ChatType.videoconf,\n\t\t\t\ttitle: this.chatTitle,\n\t\t\t\tavatar: this.avatarFile,\n\t\t\t\tmemberEntities: this.chatMembers,\n\t\t\t\townerId: this.rights.ownerId,\n\t\t\t\tmanagers: this.rights.managerIds,\n\t\t\t\tdescription: this.settings.description,\n\t\t\t\tmanageUsersAdd: this.rights.manageUsersAdd,\n\t\t\t\tmanageUsersDelete: this.rights.manageUsersDelete,\n\t\t\t\tmanageUi: this.rights.manageUi,\n\t\t\t\tmanageSettings: this.rights.manageSettings,\n\t\t\t\tmanageMessages: this.rights.manageMessages,\n\t\t\t\tconferencePassword: this.conference.passwordNeeded ? this.conference.password : '',\n\t\t\t}).catch(() => {\n\t\t\t\tthis.isCreating = false;\n\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\tcontent: this.loc('IM_CREATE_CHAT_ERROR'),\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tthis.isCreating = false;\n\t\t\tCreateChatManager.getInstance().setCreationStatus(false);\n\t\t\tvoid Messenger.openChat(newDialogId);\n\t\t},\n\t\tonCancelClick()\n\t\t{\n\t\t\tthis.exitByCancel = true;\n\t\t\tCreateChatManager.getInstance().setCreationStatus(false);\n\t\t\tMessenger.openChat();\n\t\t},\n\t\tonScroll()\n\t\t{\n\t\t\tMenuManager.getMenuById(PopupType.createChatManageUsersAddMenu)?.close();\n\t\t\tMenuManager.getMenuById(PopupType.createChatManageUsersDeleteMenu)?.close();\n\t\t\tMenuManager.getMenuById(PopupType.createChatManageUiMenu)?.close();\n\t\t\tMenuManager.getMenuById(PopupType.createChatManageMessagesMenu)?.close();\n\t\t},\n\t\tonLayoutChange(event: BaseEvent<OnLayoutChangeEvent>)\n\t\t{\n\t\t\tconst { to } = event.getData();\n\t\t\tif (to.name === Layout.createChat.name && to.entityId !== ChatType.videoconf)\n\t\t\t{\n\t\t\t\tthis.exitByChatTypeSwitch = true;\n\t\t\t}\n\t\t},\n\t\tsaveFields()\n\t\t{\n\t\t\tCreateChatManager.getInstance().saveFields({\n\t\t\t\tchatTitle: this.chatTitle,\n\t\t\t\tavatarFile: this.avatarFile,\n\t\t\t\tchatMembers: this.chatMembers,\n\t\t\t\tsettings: this.settings,\n\t\t\t\trights: this.rights,\n\t\t\t\tconference: this.conference,\n\t\t\t});\n\t\t},\n\t\trestoreFields()\n\t\t{\n\t\t\tconst savedFields = CreateChatManager.getInstance().getFields();\n\t\t\tif (!savedFields)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst { chatTitle, avatarFile, chatMembers, conference, settings, rights } = savedFields;\n\t\t\tthis.chatTitle = chatTitle;\n\t\t\tthis.avatarFile = avatarFile;\n\t\t\tthis.chatMembers = chatMembers;\n\t\t\tthis.conference = conference;\n\t\t\tthis.settings = settings;\n\t\t\tthis.rights = rights;\n\t\t},\n\t\tinitDefaultRolesForRights()\n\t\t{\n\t\t\tconst {\n\t\t\t\tmanageUsersAdd,\n\t\t\t\tmanageUsersDelete,\n\t\t\t\tmanageUi,\n\t\t\t\tmanageSettings,\n\t\t\t\tmanageMessages,\n\t\t\t} = PermissionManager.getInstance().getDefaultRolesForActionGroups();\n\n\t\t\tthis.rights.manageUsersAdd = manageUsersAdd;\n\t\t\tthis.rights.manageUsersDelete = manageUsersDelete;\n\t\t\tthis.rights.manageUi = manageUi;\n\t\t\tthis.rights.manageSettings = manageSettings;\n\t\t\tthis.rights.manageMessages = manageMessages;\n\t\t},\n\t\tcheckPassword(): boolean\n\t\t{\n\t\t\tconst PASSWORD_MIN_LENGTH = 3;\n\t\t\tif (!this.conference.passwordNeeded)\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tconst password = this.conference.password.trim();\n\n\t\t\treturn password !== '' && password.length >= PASSWORD_MIN_LENGTH;\n\t\t},\n\t\tshowPasswordError()\n\t\t{\n\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\tcontent: this.loc('IM_CREATE_CHAT_CONFERENCE_PASSWORD_ERROR'),\n\t\t\t});\n\t\t},\n\t\tgetChatService(): ChatService\n\t\t{\n\t\t\tif (!this.chatService)\n\t\t\t{\n\t\t\t\tthis.chatService = new ChatService();\n\t\t\t}\n\n\t\t\treturn this.chatService;\n\t\t},\n\t\tloc(phraseCode: string): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-content-create-chat__content --conference\" @scroll=\"onScroll\">\n\t\t\t<div class=\"bx-im-content-create-chat__header\">\n\t\t\t\t<ChatAvatar :avatarFile=\"avatarFile\" :chatTitle=\"chatTitle\" @avatarChange=\"onAvatarChange\" :squared=\"true\" />\n\t\t\t\t<TitleInput v-model=\"chatTitle\" :placeholder=\"loc('IM_CREATE_CONFERENCE_TITLE_PLACEHOLDER')\" />\n\t\t\t</div>\n\t\t\t<CreateChatHeading :text=\"loc('IM_CREATE_CHAT_MEMBERS_TITLE')\" />\n\t\t\t<div class=\"bx-im-content-create-chat__members_container\">\n\t\t\t\t<ChatMembersSelector :chatMembers=\"chatMembers\" @membersChange=\"onMembersChange\" />\n\t\t\t</div>\n\t\t\t<ConferenceSection\n\t\t\t\t:passwordNeeded=\"conference.passwordNeeded\"\n\t\t\t\t:password=\"conference.password\"\n\t\t\t\t@passwordNeededChange=\"onPasswordNeededChange\"\n\t\t\t\t@passwordChange=\"onPasswordChange\"\n\t\t\t/>\n\t\t\t<SettingsSection\n\t\t\t\t:withSearchOption=\"false\"\n\t\t\t\t:description=\"settings.description\"\n\t\t\t\t@descriptionChange=\"onDescriptionChange\"\n\t\t\t/>\n\t\t\t<RightsSection\n\t\t\t\t:ownerId=\"rights.ownerId\"\n\t\t\t\t:managerIds=\"rights.managerIds\"\n\t\t\t\t:manageUsersAdd=\"rights.manageUsersAdd\"\n\t\t\t\t:manageUsersDelete=\"rights.manageUsersDelete\"\n\t\t\t\t:manageUi=\"rights.manageUi\"\n\t\t\t\t:manageSettings=\"rights.manageSettings\"\n\t\t\t\t:manageMessages=\"rights.manageMessages\"\n\t\t\t\t@ownerChange=\"onOwnerChange\"\n\t\t\t\t@managersChange=\"onManagersChange\"\n\t\t\t\t@manageUsersAddChange=\"onManageUsersAddChange\"\n\t\t\t\t@manageUsersDeleteChange=\"onManageUsersDeleteChange\"\n\t\t\t\t@manageUiChange=\"onManageUiChange\"\n\t\t\t\t@manageMessagesChange=\"onManageMessagesChange\"\n\t\t\t/>\n\t\t</div>\n\t\t<ButtonPanel\n\t\t\t:isCreating=\"isCreating\"\n\t\t\t:createButtonTitle=\"loc('IM_CREATE_CONFERENCE_CONFIRM')\"\n\t\t\t@create=\"onCreateClick\"\n\t\t\t@cancel=\"onCancelClick\"\n\t\t/>\n\t`,\n};\n","import 'ui.forms';\n\nimport { CreateChatSection } from '../section';\nimport { RadioOption, type RadioOptionItem } from '../../elements/radio';\n\nimport type { JsonObject } from 'main.core';\n\n// @vue/component\nexport const PrivacySection = {\n\tcomponents: { CreateChatSection, RadioOption },\n\tprops: {\n\t\twithSearchOption: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tisAvailableInSearch: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\temits: ['chatTypeChange'],\n\tdata(): JsonObject\n\t{\n\t\treturn {};\n\t},\n\tcomputed:\n\t{\n\t\tprivacyOptions(): RadioOptionItem[]\n\t\t{\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tvalue: true,\n\t\t\t\t\ttext: this.loc('IM_CREATE_CHAT_PRIVACY_SECTION_OPEN_TITLE'),\n\t\t\t\t\tsubtext: this.loc('IM_CREATE_CHAT_PRIVACY_SECTION_OPEN_SUBTITLE_V2'),\n\t\t\t\t\tselected: this.isAvailableInSearch,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvalue: false,\n\t\t\t\t\ttext: this.loc('IM_CREATE_CHAT_PRIVACY_SECTION_PRIVATE_TITLE'),\n\t\t\t\t\tsubtext: this.loc('IM_CREATE_CHAT_PRIVACY_SECTION_PRIVATE_SUBTITLE_V2'),\n\t\t\t\t\tselected: !this.isAvailableInSearch,\n\t\t\t\t},\n\t\t\t];\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\tonTypeChange(isAvailableInSearch: boolean)\n\t\t{\n\t\t\tthis.$emit('chatTypeChange', isAvailableInSearch);\n\t\t},\n\t\tloc(phraseCode: string, replacements: {[p: string]: string} = {}): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode, replacements);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<CreateChatSection\n\t\t\tname=\"privacy\"\n\t\t\t:title=\"loc('IM_CREATE_CHAT_PRIVACY_SECTION_V2')\"\n\t\t\t:alwaysOpened=\"true\"\n\t\t>\n\t\t\t<div class=\"bx-im-content-create-chat__section_block\">\n\t\t\t\t<RadioOption :items=\"privacyOptions\" @change=\"onTypeChange\" />\n\t\t\t</div>\n\t\t</CreateChatSection>\n\t`,\n};\n","import 'ui.notification';\n\nimport { BaseEvent, EventEmitter } from 'main.core.events';\nimport { MenuManager } from 'main.popup';\n\nimport { Messenger } from 'im.public';\nimport { Core } from 'im.v2.application.core';\nimport { CreateChatManager } from 'im.v2.lib.create-chat';\nimport { PermissionManager } from 'im.v2.lib.permission';\nimport { ChatService } from 'im.v2.provider.service';\nimport { UserRole, PopupType, ChatType, EventType, Layout, type OnLayoutChangeEvent } from 'im.v2.const';\n\nimport { TitleInput } from './elements/title-input';\nimport { ChatAvatar } from './elements/chat-avatar';\nimport { ChatMembersSelector } from './elements/chat-members';\nimport { ButtonPanel } from './elements/button-panel';\nimport { TextareaInput } from './elements/textarea';\nimport { CreateChatHeading } from './elements/heading';\nimport { SettingsSection } from './sections/settings/settings-section';\nimport { RightsSection } from './sections/rights/rights-section';\nimport { AppearanceSection } from './sections/appearance/appearance-section';\nimport { PrivacySection } from './sections/privacy/privacy-section';\n\nimport '../css/channel.css';\n\nimport type { JsonObject } from 'main.core';\n\ntype UserRoleItem = $Keys<typeof UserRole>;\n\n// @vue/component\nexport const ChannelCreation = {\n\tname: 'ChannelCreation',\n\tcomponents: {\n\t\tTitleInput,\n\t\tChatAvatar,\n\t\tChatMembersSelector,\n\t\tSettingsSection,\n\t\tRightsSection,\n\t\tAppearanceSection,\n\t\tPrivacySection,\n\t\tButtonPanel,\n\t\tTextareaInput,\n\t\tCreateChatHeading,\n\t},\n\tdata(): JsonObject\n\t{\n\t\treturn {\n\t\t\tisCreating: false,\n\t\t\tavatarFile: null,\n\t\t\tchatTitle: '',\n\t\t\tchatMembers: [],\n\t\t\tsettings: {\n\t\t\t\tisAvailableInSearch: true,\n\t\t\t\tdescription: '',\n\t\t\t},\n\t\t\trights: {\n\t\t\t\townerId: 0,\n\t\t\t\tmanagerIds: [],\n\t\t\t\tmanageUsersAdd: '',\n\t\t\t\tmanageUsersDelete: '',\n\t\t\t\tmanageSettings: '',\n\t\t\t\tmanageUi: '',\n\t\t\t\tmanageMessages: '',\n\t\t\t},\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\tChatType: () => ChatType,\n\t},\n\twatch:\n\t{\n\t\tchatTitle(newValue)\n\t\t{\n\t\t\tCreateChatManager.getInstance().setChatTitle(newValue);\n\t\t},\n\t},\n\tcreated()\n\t{\n\t\tEventEmitter.subscribe(EventType.layout.onLayoutChange, this.onLayoutChange);\n\n\t\tthis.rights.ownerId = Core.getUserId();\n\t\tthis.initDefaultRolesForRights();\n\n\t\tthis.restoreFields();\n\t\tCreateChatManager.getInstance().setChatType(ChatType.channel);\n\t\tCreateChatManager.getInstance().setCreationStatus(true);\n\t\tCreateChatManager.getInstance().setChatAvatar(this.avatarFile);\n\t},\n\tbeforeUnmount()\n\t{\n\t\tEventEmitter.unsubscribe(EventType.layout.onLayoutChange, this.onLayoutChange);\n\n\t\tif (this.exitByCancel || this.exitByChatTypeSwitch || this.exitByCreation)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tthis.saveFields();\n\t},\n\tmethods:\n\t{\n\t\tonMembersChange(currentTags: [string, number | string][])\n\t\t{\n\t\t\tthis.chatMembers = currentTags;\n\t\t},\n\t\tonOwnerChange(ownerId: number)\n\t\t{\n\t\t\tthis.rights.ownerId = ownerId;\n\t\t},\n\t\tonManagersChange(managerIds: number[])\n\t\t{\n\t\t\tthis.rights.managerIds = managerIds;\n\t\t},\n\t\tonChatTypeChange(isAvailableInSearch: boolean)\n\t\t{\n\t\t\tthis.settings.isAvailableInSearch = isAvailableInSearch;\n\t\t},\n\t\tonDescriptionChange(description: string)\n\t\t{\n\t\t\tthis.settings.description = description;\n\t\t},\n\t\tonManageUsersAddChange(newValue: UserRoleItem)\n\t\t{\n\t\t\tthis.rights.manageUsersAdd = newValue;\n\t\t},\n\t\tonManageUsersDeleteChange(newValue: UserRoleItem)\n\t\t{\n\t\t\tthis.rights.manageUsersDelete = newValue;\n\t\t},\n\t\tonManageUiChange(newValue: UserRoleItem)\n\t\t{\n\t\t\tthis.rights.manageUi = newValue;\n\t\t},\n\t\tonManageMessagesChange(newValue: UserRoleItem)\n\t\t{\n\t\t\tthis.rights.manageMessages = newValue;\n\t\t},\n\t\tasync onCreateClick()\n\t\t{\n\t\t\tthis.isCreating = true;\n\n\t\t\tconst { newDialogId } = await this.getChatService().createChat({\n\t\t\t\ttype: ChatType.channel,\n\t\t\t\ttitle: this.chatTitle,\n\t\t\t\tavatar: this.avatarFile,\n\t\t\t\tmemberEntities: this.chatMembers,\n\t\t\t\townerId: this.rights.ownerId,\n\t\t\t\tmanagers: this.rights.managerIds,\n\t\t\t\tisAvailableInSearch: this.settings.isAvailableInSearch,\n\t\t\t\tdescription: this.settings.description,\n\t\t\t\tmanageUsersAdd: this.rights.manageUsersAdd,\n\t\t\t\tmanageUsersDelete: this.rights.manageUsersDelete,\n\t\t\t\tmanageUi: this.rights.manageUi,\n\t\t\t\tmanageSettings: this.rights.manageSettings,\n\t\t\t\tmanageMessages: this.rights.manageMessages,\n\t\t\t}).catch(() => {\n\t\t\t\tthis.isCreating = false;\n\t\t\t\tBX.UI.Notification.Center.notify({\n\t\t\t\t\tcontent: this.loc('IM_CREATE_CHAT_ERROR'),\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tthis.isCreating = false;\n\t\t\tthis.exitByCreation = true;\n\t\t\tCreateChatManager.getInstance().setCreationStatus(false);\n\t\t\tvoid Messenger.openChat(newDialogId);\n\t\t},\n\t\tonCancelClick()\n\t\t{\n\t\t\tthis.exitByCancel = true;\n\t\t\tCreateChatManager.getInstance().setCreationStatus(false);\n\t\t\tMessenger.openChat();\n\t\t},\n\t\tonAvatarChange(newAvatarFile: File)\n\t\t{\n\t\t\tthis.avatarFile = newAvatarFile;\n\t\t\tCreateChatManager.getInstance().setChatAvatar(this.avatarFile);\n\t\t},\n\t\tonScroll()\n\t\t{\n\t\t\tMenuManager.getMenuById(PopupType.createChatManageUsersAddMenu)?.close();\n\t\t\tMenuManager.getMenuById(PopupType.createChatManageUsersDeleteMenu)?.close();\n\t\t\tMenuManager.getMenuById(PopupType.createChatManageUiMenu)?.close();\n\t\t\tMenuManager.getMenuById(PopupType.createChatManageMessagesMenu)?.close();\n\t\t},\n\t\tonLayoutChange(event: BaseEvent<OnLayoutChangeEvent>)\n\t\t{\n\t\t\tconst { to } = event.getData();\n\t\t\tif (to.name === Layout.createChat.name && to.entityId !== ChatType.channel)\n\t\t\t{\n\t\t\t\tthis.exitByChatTypeSwitch = true;\n\t\t\t}\n\t\t},\n\t\tsaveFields()\n\t\t{\n\t\t\tCreateChatManager.getInstance().saveFields({\n\t\t\t\tchatTitle: this.chatTitle,\n\t\t\t\tavatarFile: this.avatarFile,\n\t\t\t\tchatMembers: this.chatMembers,\n\t\t\t\tsettings: this.settings,\n\t\t\t\trights: this.rights,\n\t\t\t});\n\t\t},\n\t\trestoreFields()\n\t\t{\n\t\t\tconst savedFields = CreateChatManager.getInstance().getFields();\n\t\t\tif (!savedFields)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst { chatTitle, avatarFile, chatMembers, settings, rights } = savedFields;\n\t\t\tthis.chatTitle = chatTitle;\n\t\t\tthis.avatarFile = avatarFile;\n\t\t\tthis.chatMembers = chatMembers;\n\t\t\tthis.settings = settings;\n\t\t\tthis.rights = rights;\n\t\t},\n\t\tinitDefaultRolesForRights()\n\t\t{\n\t\t\tconst {\n\t\t\t\tmanageUsersAdd,\n\t\t\t\tmanageUsersDelete,\n\t\t\t\tmanageUi,\n\t\t\t\tmanageSettings,\n\t\t\t\tmanageMessages,\n\t\t\t} = PermissionManager.getInstance().getDefaultRolesForActionGroups(ChatType.channel);\n\n\t\t\tthis.rights.manageUsersAdd = manageUsersAdd;\n\t\t\tthis.rights.manageUsersDelete = manageUsersDelete;\n\t\t\tthis.rights.manageUi = manageUi;\n\t\t\tthis.rights.manageSettings = manageSettings;\n\t\t\tthis.rights.manageMessages = manageMessages;\n\t\t},\n\t\tgetChatService(): ChatService\n\t\t{\n\t\t\tif (!this.chatService)\n\t\t\t{\n\t\t\t\tthis.chatService = new ChatService();\n\t\t\t}\n\n\t\t\treturn this.chatService;\n\t\t},\n\t\tloc(phraseCode: string, replacements: {[string]: string} = {}): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode, replacements);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-content-create-chat__content --channel\" @scroll=\"onScroll\">\n\t\t\t<div class=\"bx-im-content-create-chat__header\">\n\t\t\t\t<ChatAvatar :avatarFile=\"avatarFile\" :chatTitle=\"chatTitle\" @avatarChange=\"onAvatarChange\" :squared=\"true\" />\n\t\t\t\t<TitleInput v-model=\"chatTitle\" :placeholder=\"loc('IM_CREATE_CHANNEL_TITLE_PLACEHOLDER_V2')\" />\n\t\t\t</div>\n\t\t\t<CreateChatHeading :text=\"loc('IM_CREATE_CHANNEL_DESCRIPTION_TITLE')\" />\n\t\t\t<div class=\"bx-im-content-create-channel__description_container\">\n\t\t\t\t<TextareaInput\n\t\t\t\t\t:value=\"settings.description\"\n\t\t\t\t\t:placeholder=\"loc('IM_CREATE_CHANNEL_DESCRIPTION_PLACEHOLDER_V3')\"\n\t\t\t\t\t:border=\"false\"\n\t\t\t\t\t@input=\"onDescriptionChange\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<PrivacySection\n\t\t\t\t:isAvailableInSearch=\"settings.isAvailableInSearch\"\n\t\t\t\t@chatTypeChange=\"onChatTypeChange\"\n\t\t\t/>\n\t\t\t<CreateChatHeading\n\t\t\t\t:text=\"loc('IM_CREATE_CHANNEL_MEMBERS_TITLE')\"\n\t\t\t\t:hintText=\"loc('IM_CREATE_CHANNEL_MEMBERS_HINT')\"\n\t\t\t/>\n\t\t\t<div class=\"bx-im-content-create-channel__members_container\">\n\t\t\t\t<ChatMembersSelector :chatType=\"ChatType.channel\" :chatMembers=\"chatMembers\" @membersChange=\"onMembersChange\" />\n\t\t\t</div>\n\t\t\t<RightsSection\n\t\t\t\t:chatType=\"ChatType.channel\"\n\t\t\t\t:ownerId=\"rights.ownerId\"\n\t\t\t\t:managerIds=\"rights.managerIds\"\n\t\t\t\t:manageUsersAdd=\"rights.manageUsersAdd\"\n\t\t\t\t:manageUsersDelete=\"rights.manageUsersDelete\"\n\t\t\t\t:manageUi=\"rights.manageUi\"\n\t\t\t\t:manageSettings=\"rights.manageSettings\"\n\t\t\t\t:manageMessages=\"rights.manageMessages\"\n\t\t\t\t@ownerChange=\"onOwnerChange\"\n\t\t\t\t@managersChange=\"onManagersChange\"\n\t\t\t\t@manageUsersAddChange=\"onManageUsersAddChange\"\n\t\t\t\t@manageUsersDeleteChange=\"onManageUsersDeleteChange\"\n\t\t\t\t@manageUiChange=\"onManageUiChange\"\n\t\t\t\t@manageMessagesChange=\"onManageMessagesChange\"\n\t\t\t/>\n\t\t</div>\n\t\t<ButtonPanel\n\t\t\t:isCreating=\"isCreating\"\n\t\t\t:createButtonTitle=\"loc('IM_CREATE_CHANNEL_CONFIRM')\"\n\t\t\t@create=\"onCreateClick\"\n\t\t\t@cancel=\"onCancelClick\"\n\t\t/>\n\t`,\n};\n","import { ChatType } from 'im.v2.const';\n\nimport { GroupChatCreation } from './components/group-chat';\nimport { ConferenceCreation } from './components/conference';\nimport { ChannelCreation } from './components/channel';\n\nimport './css/create-chat-content.css';\n\nimport type { JsonObject } from 'main.core';\n\n// @vue/component\nexport const CreateChatContent = {\n\tname: 'CreateChatContent',\n\tcomponents: { GroupChatCreation, ConferenceCreation, ChannelCreation },\n\tprops:\n\t{\n\t\tentityId: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata(): JsonObject\n\t{\n\t\treturn {};\n\t},\n\tcomputed:\n\t{\n\t\tChatType: () => ChatType,\n\t\tchatType(): $Values<typeof ChatType>\n\t\t{\n\t\t\treturn this.entityId;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-content-create-chat__container bx-im-content-create-chat__scope\">\n\t\t\t<GroupChatCreation v-if=\"chatType === ChatType.chat\" />\n\t\t\t<ConferenceCreation v-else-if=\"chatType === ChatType.videoconf\" />\n\t\t\t<ChannelCreation v-else-if=\"chatType === ChatType.channel\" />\n\t\t</div>\n\t`,\n};\n"],"names":["TitleInput","name","props","modelValue","type","String","default","placeholder","required","emits","data","mounted","$refs","titleInput","focus","methods","onInput","event","$emit","target","value","template","ChatAvatar","avatarFile","validator","File","Type","isNull","chatTitle","squared","Boolean","computed","preparedAvatar","URL","createObjectURL","onAvatarChangeClick","avatarInput","click","onAvatarSelect","input","file","files","getChatService","prepareAvatar","chatService","ChatService","ChatMembersSelector","chatMembers","Array","chatType","ChatType","chat","created","preselectedItems","Core","getUserId","addButtonCaption","loc","membersSelector","TagSelector","maxHeight","addButtonCaptionMore","showCreateButton","dialogOptions","enableSearch","context","entities","getEntitiesConfig","undeselectedItems","events","onItemsChange","renderTo","members","entitiesConfig","id","allowDepartments","FeatureManager","isFeatureAvailable","Feature","chatDepartments","push","options","selectMode","allowFlatDepartments","allowSelectRootDepartment","dialog","getTarget","selectedItems","getSelectedItems","map","item","prepareTag","tag","getEntityId","getId","phraseCode","$Bitrix","Loc","getMessage","ButtonPanel","components","MessengerButton","isCreating","createButtonTitle","ButtonSize","ButtonColor","CreateChatHeading","ChatHint","text","hintText","preparedText","replace","CreateChatSection","ExpandAnimation","title","alwaysOpened","isOpened","containerClasses","onHeaderClick","TextareaInput","border","rounded","RadioOption","items","groupName","Text","getRandom","selectedValue","find","option","selected","SettingsSection","Dropdown","description","withSearchOption","isAvailableInSearch","privacyOptions","subtext","descriptionPlaceholderText","onTypeChange","onDescriptionChange","replacements","RoleSelector","dropdownItems","dropdownId","UserSelector","OwnerSelector","ownerId","Number","multiple","onBeforeTagAdd","getData","setDeselectable","onAfterTagAdd","owner","ManagersSelector","managerIds","currentUserId","userId","selector","getTags","onAfterTagRemove","managers","rightsDropdownItems","UserRole","member","manager","BlocksByChatType","channel","Set","ChatActionGroup","manageUsersAdd","manageUsersDelete","manageMessages","manageUi","CanAddUsersCaptionByChatType","CanKickUsersCaptionByChatType","CanSendMessageCaptionByChatType","OwnerHintByChatType","ManagerHintByChatType","AddUsersHintByChatType","DeleteUsersHintByChatType","ManageUiHintByChatType","SendMessagesHintByChatType","RightsSection","manageSettings","PopupType","manageUsersAddItems","prepareDropdownItems","manageUsersDeleteItems","manageUiItems","manageMessagesItems","showManageUiBlock","blocksByType","has","canAddUsersCaption","canKickUsersCaption","canSendCaption","ownerHint","managerHint","addUsersHint","deleteUsersHint","manageUiHint","sendMessagesHint","defaultValue","onOwnerChange","onManagersChange","onManageUsersAddChange","newValue","onManageUsersDeleteChange","onManageUiChange","onManageMessagesChange","AppearanceSection","GroupChatCreation","settings","rights","watch","CreateChatManager","getInstance","setChatTitle","EventEmitter","subscribe","EventType","layout","onLayoutChange","initDefaultRolesForRights","restoreFields","setChatType","setCreationStatus","setChatAvatar","beforeUnmount","exitByCancel","exitByChatTypeSwitch","exitByCreation","saveFields","onMembersChange","currentTags","onChatTypeChange","onCreateClick","newDialogId","createChat","avatar","memberEntities","catch","BX","UI","Notification","Center","notify","content","Messenger","openChat","onCancelClick","onAvatarChange","newAvatarFile","onScroll","MenuManager","getMenuById","createChatManageUsersAddMenu","close","createChatManageUsersDeleteMenu","createChatManageUiMenu","createChatManageMessagesMenu","to","Layout","entityId","savedFields","getFields","PermissionManager","getDefaultRolesForActionGroups","ConferenceSection","Toggle","passwordNeeded","password","ToggleSize","onPasswordNeededChange","onPasswordChange","onToggleLabelClick","ConferenceCreation","conference","videoconf","newPassword","checkPassword","showPasswordError","entityType","conferencePassword","PASSWORD_MIN_LENGTH","trim","length","PrivacySection","ChannelCreation","unsubscribe","CreateChatContent"],"mappings":"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"}