{"version":3,"file":"copilot-list.bundle.map.js","names":["this","BX","Messenger","v2","Component","exports","im_v2_lib_draft","main_date","im_v2_lib_utils","im_v2_lib_parser","im_v2_component_elements","im_v2_lib_dateFormatter","im_v2_application_core","im_v2_const","im_v2_lib_logger","im_v2_provider_service","main_core","im_public","im_v2_lib_menu","MessageText","name","components","MessageAvatar","props","item","type","Object","required","data","computed","AvatarSize","recentItem","dialog","$store","getters","dialogId","user","message","showLastMessage","Settings","recent","hiddenMessageText","$Bitrix","Loc","getMessage","isLastMessageAuthor","authorId","Core","getUserId","lastMessageAuthorAvatar","authorDialog","avatar","lastMessageAuthorAvatarStyle","backgroundImage","messageText","formattedText","Parser","purifyRecent","formattedMessageText","SPLIT_INDEX","Utils","text","insertUnseenWhitespace","preparedDraftContent","phrase","loc","PLACEHOLDER_LENGTH","length","prefix","slice","formattedDraftText","purify","draft","showIconIfEmptyText","methods","phraseCode","replacements","template","CopilotItem","ChatAvatar","ChatTitle","formattedDate","formatDate","date","formattedCounter","counter","toString","layout","isChatSelected","Layout","copilot","entityId","isChatMuted","isMuted","muteList","find","element","Boolean","isSomeoneTyping","writingList","showPinnedIcon","pinned","unread","showCounter","wrapClasses","itemClasses","DateFormatter","formatByTemplate","DateTemplate","CopilotRecentService","RecentService","getQueryParams","firstPage","ONLY_COPILOT","LIMIT","itemsPerPage","LAST_MESSAGE_DATE","lastMessageDate","GET_ORIGINAL_TEXT","PARSE_TEXT","getModelSaveMethod","getCollection","getStore","getExtractorOptions","withBirthdays","hideChat","Logger","warn","dispatch","id","chatIsOpened","openCopilot","getRestClient","callMethod","RestMethod","imRecentHide","DIALOG_ID","catch","error","console","CopilotRecentMenu","RecentMenu","getMenuItems","getOpenItem","getPinMessageItem","getHideItem","onclick","context","menuInstance","close","getRecentService","service","CopilotList","LoadingState","ListLoadingState","emits","isLoading","isLoadingNextPage","collection","sortedItems","sort","a","b","firstDate","secondDate","pinnedItems","filter","generalItems","isEmptyCollection","async","contextMenuManager","loadFirstPage","CopilotDraftManager","getInstance","initDraftHistory","beforeUnmount","destroy","event","dom","isOneScreenRemaining","target","hasMoreItemsToLoad","loadNextPage","onClick","$emit","onRightClick","preventDefault","openMenu","currentTarget","List","Lib","Main","Elements","Application","Const","Provider","Service"],"sources":["copilot-list.bundle.js"],"mappings":"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"}