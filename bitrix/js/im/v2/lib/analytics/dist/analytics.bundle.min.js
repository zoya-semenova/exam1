this.BX=this.BX||{};this.BX.Messenger=this.BX.Messenger||{};this.BX.Messenger.v2=this.BX.Messenger.v2||{};(function(e,t,a,o){"use strict";const s=Object.freeze({private:"chatType_private",multiuser:"chatType_multiuser"});const n=Object.freeze({openMessenger:"open_messenger",openChat:"open_chat",createNewChat:"create_new_chat",audioUse:"audio_use",openTab:"open_tab",popupOpen:"popup_open",openPrices:"open_prices",openSettings:"open_settings",clickCreateNew:"click_create_new",openExisting:"open_existing"});const i=Object.freeze({ai:"ai",checkin:"checkin",im:"im",infoHelper:"InfoHelper"});const c=Object.freeze({chatOperations:"chat_operations",shift:"shift",messenger:"messenger",chat:"chat",channel:"channel",videoconf:"videoconf",copilot:"copilot",limit:"limit",toolOff:"tool_off"});const r=Object.freeze({ai:"ai",chat:"chat",channel:"channel",videoconf:"videoconf",copilot:"copilot"});const l=Object.freeze({copilotTab:"copilot_tab",chat:"chat"});const p="custom";var h=babelHelpers.classPrivateFieldLooseKey("createdChats");var d=babelHelpers.classPrivateFieldLooseKey("currentTab");var b=babelHelpers.classPrivateFieldLooseKey("instance");var g=babelHelpers.classPrivateFieldLooseKey("getCategoryByChatType");var y=babelHelpers.classPrivateFieldLooseKey("getChatType");class v{constructor(){Object.defineProperty(this,y,{value:C});Object.defineProperty(this,g,{value:u});Object.defineProperty(this,h,{writable:true,value:new Set});Object.defineProperty(this,d,{writable:true,value:""})}static getInstance(){if(!babelHelpers.classPrivateFieldLooseBase(this,b)[b]){babelHelpers.classPrivateFieldLooseBase(this,b)[b]=new this}return babelHelpers.classPrivateFieldLooseBase(this,b)[b]}onOpenMessenger(){t.sendData({event:n.openMessenger,tool:i.im,category:c.messenger})}onCreateCopilotChat({chatId:e,dialogId:a}){babelHelpers.classPrivateFieldLooseBase(this,h)[h].add(a);t.sendData({event:n.createNewChat,tool:i.ai,category:c.chatOperations,c_section:l.copilotTab,type:r.ai,p3:s.private,p5:`chatId_${e}`})}onOpenCopilotChat(e){const a=o.Core.getStore().getters["chats/get"](e);const p=a.userCounter<=2?s.private:s.multiuser;t.sendData({event:n.openChat,tool:i.ai,category:c.chatOperations,c_section:l.copilotTab,type:r.ai,p3:p,p5:`chatId_${a.chatId}`})}onOpenCopilotTab(){t.sendData({event:n.openTab,tool:i.ai,category:c.chatOperations,c_section:l.copilotTab})}onOpenTab(e){const o=[a.Layout.chat.name,a.Layout.copilot.name,a.Layout.channel.name,a.Layout.notification.name,a.Layout.settings.name,a.Layout.openlines.name];if(!o.includes(e)){return}if(babelHelpers.classPrivateFieldLooseBase(this,d)[d]===e){return}babelHelpers.classPrivateFieldLooseBase(this,d)[d]=e;t.sendData({event:n.openTab,tool:i.im,category:c.messenger,type:e})}onUseCopilotAudioInput(){t.sendData({event:n.audioUse,tool:i.ai,category:c.chatOperations,c_section:l.copilotTab})}onOpenCheckInPopup(){t.sendData({event:n.popupOpen,tool:i.checkin,category:c.shift,c_section:l.chat})}onOpenPriceTable(e){t.sendData({tool:i.infoHelper,category:c.limit,event:n.openPrices,type:e,c_section:l.chat})}onOpenToolsSettings(e){t.sendData({tool:i.infoHelper,category:c.toolOff,event:n.openSettings,type:e,c_section:l.chat})}onStartCreateNewChat(e){const a=o.Core.getStore().getters["application/getLayout"].name;t.sendData({tool:i.im,category:babelHelpers.classPrivateFieldLooseBase(this,g)[g](e),event:n.clickCreateNew,type:e,c_section:`${a}_tab`})}onCreateChat(e){babelHelpers.classPrivateFieldLooseBase(this,h)[h].add(e)}onOpenChat(e){if(babelHelpers.classPrivateFieldLooseBase(this,h)[h].has(e.dialogId)){babelHelpers.classPrivateFieldLooseBase(this,h)[h].delete(e.dialogId);return}const s=babelHelpers.classPrivateFieldLooseBase(this,y)[y](e);if(s===a.ChatType.copilot){this.onOpenCopilotChat(e.dialogId)}const c=o.Core.getStore().getters["application/getLayout"].name;const r=e.role===a.UserRole.guest?"N":"Y";const l={tool:i.im,category:babelHelpers.classPrivateFieldLooseBase(this,g)[g](s),event:n.openExisting,type:s,c_section:`${c}_tab`,p3:`isMember_${r}`,p5:`chatId_${e.chatId}`};if(s===a.ChatType.comment){const t=o.Core.getStore().getters["chats/getByChatId"](e.parentChatId);l.p1=`chatType_${t.type}`;l.p4=`parentChatId_${e.parentChatId}`}t.sendData(l)}}function u(e){switch(e){case a.ChatType.channel:case a.ChatType.openChannel:case a.ChatType.comment:case a.ChatType.generalChannel:return c.channel;case a.ChatType.copilot:return c.copilot;case a.ChatType.videoconf:return c.videoconf;default:return c.chat}}function C(e){var t;return(t=a.ChatType[e.type])!=null?t:p}Object.defineProperty(v,b,{writable:true,value:void 0});e.Analytics=v})(this.BX.Messenger.v2.Lib=this.BX.Messenger.v2.Lib||{},BX.UI.Analytics,BX.Messenger.v2.Const,BX.Messenger.v2.Application);
//# sourceMappingURL=analytics.bundle.map.js