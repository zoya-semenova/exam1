{"version":3,"file":"model.bundle.map.js","names":["this","BX","UI","exports","ui_bbcode_encoder","main_core","getByIndex","array","index","Type","isArray","TypeError","isInteger","preparedIndex","length","privateMap","WeakMap","nameSymbol","Symbol","BBCodeNode","constructor","options","children","set","delayedChildren","setName","name","get","scheme","setParent","parent","setChildren","ELEMENT_NODE","TEXT_NODE","ROOT_NODE","FRAGMENT_NODE","static","node","property","value","enumerable","Object","defineProperty","writable","configurable","isArrayFilled","flatMap","getType","getChildren","setScheme","onUnknown","getScheme","getTagScheme","getName","getEncoder","prepareCase","currentCase","getOutputTagCase","toUpperCase","toLowerCase","isString","getDisplayedName","mounted","hasParent","onNodeDidMount","getParent","type","Boolean","remove","removeChild","appendChild","getLastChild","getLastChildOfType","reverse","find","getLastChildOfName","getFirstChild","getFirstChildOfType","getFirstChildOfName","getPreviewsSibling","parentChildren","currentIndex","indexOf","getPreviewsSiblings","filter","child","getNextSibling","getNextSiblings","getChildrenCount","hasChildren","isEmpty","adjustChildren","setDelayedChildren","addDelayedChildren","getDelayedChildren","hasDelayedChildren","flattenedChildren","flattenChildren","forEach","push","prependChild","unshift","insertBefore","nodes","currentNodeIndex","deleteCount","splice","insertAfter","startIndex","propagateChild","includes","reduce","acc","replaceChild","targetNode","map","replace","clone","deep","createNode","toPlainText","join","getTextContent","getPlainTextLength","removePreviewsSiblings","previewsSiblings","sibling","removeNextSiblings","nextSiblings","findByTextIndex","endIndex","flattenAst","getLength","split","offset","byWord","plainTextLength","leftTree","tree","leftNode","rightNode","rightTree","ast","flat","traverse","toJSON","voidSymbol","BBCodeElementNode","super","attributes","tagScheme","isVoid","setValue","setAttributes","isAllowedTag","filterChildren","filteredChildren","resolved","unresolved","isChildAllowed","convertChildren","childConverter","getChildConverter","isNumber","isBoolean","getValue","canBeEmpty","hasGroup","groupName","isPlainObject","entries","key","fromEntries","setAttribute","isStringFilled","preparedName","isNil","getAttribute","getAttributes","convertedChildren","isAllowedUnresolvedNodesHoisting","toStringValue","encodedValue","encodeAttribute","toStringAttributes","attrValue","preparedKey","getContent","toString","getOpeningTag","displayedName","tagValue","formattedAttributes","getClosingTag","createElement","void","splitByChildIndex","childrenCount","leftChildren","childIndex","rightChildren","stringifier","getStringifier","isFunction","openingTag","content","closingTag","BBCodeRootNode","makeNonEnumerableProperty","freezeProperty","createRoot","BBCodeFragmentNode","createFragment","contentSymbol","BBCodeTextNode","nodeOptions","setContent","isTextNodeContent","String","createText","sourceOffset","contentLength","lastIndex","lastIndexOf","slice","encodeText","BBCodeNewLineNode","createNewLine","BBCodeTabNode","createTab","BBCodeNodeScheme","group","serializer","allowedIn","setGroup","setAllowedIn","setStringifier","stringify","setSerializer","serialize","removeName","names","removeGroup","groups","getGroup","isNull","getSerializer","allowedParents","getAllowedIn","isAllowedIn","tagName","canBeEmptySymbol","voidSymbol$1","BBCodeTagScheme","allowedChildren","setVoid","setCanBeEmpty","setChildConverter","convertChild","setAllowedChildren","isAllowNewlineBeforeOpeningTag","previewsSibling","isAllowNewlineAfterOpeningTag","firstChild","isAllowNewlineBeforeClosingTag","lastChild","isAllowNewlineAfterClosingTag","nextSibling","converter","getAllowedChildren","BBCodeScheme","isObject","tagSchemes","outputTagCase","Case","LOWER","unresolvedNodesHoisting","encoder","BBCodeEncoder","setTagSchemes","setOutputTagCase","setUnresolvedNodesHoisting","setEncoder","invalidSchemeIndex","findIndex","isNodeScheme","setTagScheme","newTagSchemesNames","currentTagSchemes","getTagSchemes","filteredCurrentTagSchemes","getTagName","tagCase","allowedCases","values","getAllowedTags","allowedTags","isElement","isRoot","isFragment","isAnyText","isText","isNewLine","isTab","getParentChildMap","Map","schemeNames","has","Set","aliases","entry","newEntry","parentName","childName","parentChildMap","parentMap","childMap","size","some","preparedOptions","UPPER","BBCodeTextScheme","BBCodeNewLineScheme","BBCodeTabScheme","DefaultBBCodeScheme","defaultBlockStringifier","trim","fileTag","BBCode"],"sources":["model.bundle.js"],"mappings":"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"}