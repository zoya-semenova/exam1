this.BX=this.BX||{},this.BX.UI=this.BX.UI||{},function(exports){"use strict";const CAN_USE_DOM="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,documentMode=CAN_USE_DOM&&"documentMode"in document?document.documentMode:null,IS_CHROME=(CAN_USE_DOM&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),CAN_USE_DOM&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),!(!CAN_USE_DOM||!("InputEvent"in window)||documentMode)&&new window.InputEvent("input"),CAN_USE_DOM&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),CAN_USE_DOM&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,CAN_USE_DOM&&/Android/.test(navigator.userAgent),CAN_USE_DOM&&/^(?=.*Chrome).*/i.test(navigator.userAgent));CAN_USE_DOM&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent),Object.freeze({});const e={},r={},i={},s={},o={},l={},c={},u={},a={},f={},d={},h={},g={},_={},p={},y={},m={},x={},v={},T={},S={},k={},C={},b={},N={},w={},F={},O={},L={},A={},M={},W={},z={},U={},V={},$={};var H=function(t){const e=new URLSearchParams;e.append("code",t);for(let t=1;t<arguments.length;t++)e.append("v",arguments[t]);throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)};const j="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,q=j&&"documentMode"in document?document.documentMode:null,Q=j&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),X=j&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Y=!(!j||!("InputEvent"in window)||q)&&"getTargetRanges"in new window.InputEvent("input"),Z=j&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),G=j&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,tt=j&&/Android/.test(navigator.userAgent),et=j&&/^(?=.*Chrome).*/i.test(navigator.userAgent),nt=j&&tt&&et,rt=j&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!et,Tt=Z||G||rt?" ":"​",St="\n\n",kt=X?" ":Tt,Ct="֑-߿יִ-﷽ﹰ-ﻼ",bt="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",Nt=new RegExp("^[^"+bt+"]*["+Ct+"]"),wt=new RegExp("^[^"+Ct+"]*["+bt+"]"),Et={bold:1,code:16,highlight:128,italic:2,strikethrough:4,subscript:32,superscript:64,underline:8},Pt={directionless:1,unmergeable:2},Dt={center:2,end:6,justify:4,left:1,right:3,start:5},Ft={2:"center",6:"end",4:"justify",1:"left",3:"right",5:"start"},It={normal:0,segmented:2,token:1},Ot={0:"normal",2:"segmented",1:"token"};function Lt(...t){const e=[];for(const n of t)if(n&&"string"==typeof n)for(const[t]of n.matchAll(/\S+/g))e.push(t);return e}let Mt=!1,Wt=0;function zt(t){Wt=t.timeStamp}function Bt(t,e,n){return e.__lexicalLineBreak===t||void 0!==t["__lexicalKey_"+n._key]}function Rt(t,e,n){const r=on(n._window);let i=null,s=null;null!==r&&r.anchorNode===t&&(i=r.anchorOffset,s=r.focusOffset);const o=t.nodeValue;null!==o&&Ne(e,o,i,s,!1)}function Kt(t,e,n){if(ti(t)){const e=t.anchor.getNode();if(e.is(n)&&t.format!==e.getFormat())return!1}return 3===e.nodeType&&n.isAttached()}function Jt(t,e,n){Mt=!0;const r=performance.now()-Wt>100;try{Qi(t,()=>{const i=pi()||function(t){return t.getEditorState().read(()=>{const t=pi();return null!==t?t.clone():null})}(t),s=new Map,o=t.getRootElement(),l=t._editorState,c=t._blockCursorElement;let u=!1,a="";for(let n=0;n<e.length;n++){const f=e[n],d=f.type,h=f.target;let g=he(h,l);if(!(null===g&&h!==o||Yi(g)))if("characterData"===d)r&&Ur(g)&&Kt(i,h,g)&&Rt(h,g,t);else if("childList"===d){u=!0;const e=f.addedNodes;for(let n=0;n<e.length;n++){const r=e[n],i=de(r),s=r.parentNode;if(null!=s&&r!==c&&null===i&&("BR"!==r.nodeName||!Bt(r,s,t))){if(X){const t=r.innerText||r.nodeValue;t&&(a+=t)}s.removeChild(r)}}const n=f.removedNodes,r=n.length;if(r>0){let e=0;for(let i=0;i<r;i++){const r=n[i];("BR"===r.nodeName&&Bt(r,h,t)||c===r)&&(h.appendChild(r),e++)}r!==e&&(h===o&&(g=ye(l)),s.set(h,g))}}}if(s.size>0)for(const[e,n]of s)if(Gi(n)){const r=n.getChildrenKeys();let i=e.firstChild;for(let n=0;n<r.length;n++){const s=r[n],o=t.getElementByKey(s);null!==o&&(null==i?(e.appendChild(o),i=o):i!==o&&e.replaceChild(o,i),i=i.nextSibling)}}else Ur(n)&&n.markDirty();const f=n.takeRecords();if(f.length>0){for(let e=0;e<f.length;e++){const n=f[e],r=n.addedNodes,i=n.target;for(let e=0;e<r.length;e++){const n=r[e],s=n.parentNode;null==s||"BR"!==n.nodeName||Bt(n,i,t)||s.removeChild(n)}}n.takeRecords()}null!==i&&(u&&(i.dirty=!0,me(i)),X&&Ke(t)&&i.insertRawText(a))})}finally{Mt=!1}}function Ut(t){const e=t._observer;null!==e&&Jt(t,e.takeRecords(),e)}function Vt(t){!function(t){0===Wt&&Qe(t).addEventListener("textInput",zt,!0)}(t),t._observer=new MutationObserver((e,n)=>{Jt(t,e,n)})}function $t(t,e){const n=t.__mode,r=t.__format,i=t.__style,s=e.__mode,o=e.__format,l=e.__style;return!(null!==n&&n!==s||null!==r&&r!==o||null!==i&&i!==l)}function Ht(t,e){const n=t.mergeWithSibling(e),r=Wi()._normalizedNodes;return r.add(t.__key),r.add(e.__key),n}function jt(t){let e,n,r=t;if(""!==r.__text||!r.isSimpleText()||r.isUnmergeable()){for(;null!==(e=r.getPreviousSibling())&&Ur(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(""!==e.__text){if($t(e,r)){r=Ht(e,r);break}break}e.remove()}for(;null!==(n=r.getNextSibling())&&Ur(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(""!==n.__text){if($t(r,n)){r=Ht(r,n);break}break}n.remove()}}else r.remove()}function qt(t){return Qt(t.anchor),Qt(t.focus),t}function Qt(t){for(;"element"===t.type;){const e=t.getNode(),n=t.offset;let r,i;if(n===e.getChildrenSize()?(r=e.getChildAtIndex(n-1),i=!0):(r=e.getChildAtIndex(n),i=!1),Ur(r)){t.set(r.__key,i?r.getTextContentSize():0,"text");break}if(!Gi(r))break;t.set(r.__key,i?r.getChildrenSize():0,"element")}}let Xt=1;const Yt="function"==typeof queueMicrotask?queueMicrotask:t=>{Promise.resolve().then(t)};function Zt(t){const e=document.activeElement;if(null===e)return!1;const n=e.nodeName;return Yi(he(t))&&("INPUT"===n||"TEXTAREA"===n||"true"===e.contentEditable&&null==e.__lexicalEditor)}function Gt(t,e,n){const r=t.getRootElement();try{return null!==r&&r.contains(e)&&r.contains(n)&&null!==e&&!Zt(e)&&te(e)===t}catch(t){return!1}}function te(t){let e=t;for(;null!=e;){const t=e.__lexicalEditor;if(null!=t)return t;e=$e(e)}return null}function ee(t){return t.isToken()||t.isSegmented()}function ne(t){return 3===t.nodeType}function re(t){let e=t;for(;null!=e;){if(ne(e))return e;e=e.firstChild}return null}function ie(t,e,n){const r=Et[e];if(null!==n&&(t&r)==(n&r))return t;let i=t^r;return"subscript"===e?i&=~Et.superscript:"superscript"===e&&(i&=~Et.subscript),i}function oe(t,e){if(null!=e)return void(t.__key=e);Li(),Ai();const n=Wi(),r=Mi(),i=""+Xt++;r._nodeMap.set(i,t),Gi(t)?n._dirtyElements.set(i,!0):n._dirtyLeaves.add(i),n._cloneNotNeeded.add(i),n._dirtyType=1,t.__key=i}function le(t){const e=t.getParent();if(null!==e){const n=t.getWritable(),r=e.getWritable(),i=t.getPreviousSibling(),s=t.getNextSibling();if(null===i)if(null!==s){const t=s.getWritable();r.__first=s.__key,t.__prev=null}else r.__first=null;else{const t=i.getWritable();if(null!==s){const e=s.getWritable();e.__prev=t.__key,t.__next=e.__key}else t.__next=null;n.__prev=null}if(null===s)if(null!==i){const t=i.getWritable();r.__last=i.__key,t.__next=null}else r.__last=null;else{const t=s.getWritable();if(null!==i){const e=i.getWritable();e.__next=t.__key,t.__prev=e.__key}else t.__prev=null;n.__next=null}r.__size--,n.__parent=null}}function ce(t){Ai();const e=t.getLatest(),n=e.__parent,r=Mi(),i=Wi(),s=r._nodeMap,o=i._dirtyElements;null!==n&&function(t,e,n){let r=t;for(;null!==r;){if(n.has(r))return;const t=e.get(r);if(void 0===t)break;n.set(r,!1),r=t.__parent}}(n,s,o);const l=e.__key;i._dirtyType=1,Gi(t)?o.set(l,!0):i._dirtyLeaves.add(l)}function ue(t){Li();const e=Wi(),n=e._compositionKey;if(t!==n){if(e._compositionKey=t,null!==n){const t=fe(n);null!==t&&t.getWritable()}if(null!==t){const e=fe(t);null!==e&&e.getWritable()}}}function ae(){return Oi()?null:Wi()._compositionKey}function fe(t,e){const n=(e||Mi())._nodeMap.get(t);return void 0===n?null:n}function de(t,e){const n=t["__lexicalKey_"+Wi()._key];return void 0!==n?fe(n,e):null}function he(t,e){let n=t;for(;null!=n;){const t=de(n,e);if(null!==t)return t;n=$e(n)}return null}function ge(t){const e=t._decorators,n=Object.assign({},e);return t._pendingDecorators=n,n}function _e(t){return t.read(()=>pe().getTextContent())}function pe(){return ye(Mi())}function ye(t){return t._nodeMap.get("root")}function me(t){Li();const e=Mi();null!==t&&(t.dirty=!0,t.setCachedNodes(null)),e._selection=t}function xe(t){const e=Wi(),n=function(t,e){let n=t;for(;null!=n;){const t=n["__lexicalKey_"+e._key];if(void 0!==t)return t;n=$e(n)}return null}(t,e);return null===n?t===e.getRootElement()?fe("root"):null:fe(n)}function ve(t,e){return e?t.getTextContentSize():0}function Te(t){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(t)}function Se(t){const e=[];let n=t;for(;null!==n;)e.push(n),n=n._parentEditor;return e}function ke(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function Ce(t){return 3===t.nodeType?t.nodeValue:null}function be(t,e,n){const r=on(e._window);if(null===r)return;const i=r.anchorNode;let{anchorOffset:s,focusOffset:o}=r;if(null!==i){let e=Ce(i);const r=he(i);if(null!==e&&Ur(r)){if(e===Tt&&n){const t=n.length;e=n,s=t,o=t}null!==e&&Ne(r,e,s,o,t)}}}function Ne(t,e,n,r,i){let s=t;if(s.isAttached()&&(i||!s.isDirty())){const o=s.isComposing();let l=e;(o||i)&&e[e.length-1]===Tt&&(l=e.slice(0,-1));const c=s.getTextContent();if(i||l!==c){if(""===l){if(ue(null),Z||G||rt)s.remove();else{const t=Wi();setTimeout(()=>{t.update(()=>{s.isAttached()&&s.remove()})},20)}return}const e=s.getParent(),i=yi(),c=s.getTextContentSize(),u=ae(),a=s.getKey();if(s.isToken()||null!==u&&a===u&&!o||ti(i)&&(null!==e&&!e.canInsertTextBefore()&&0===i.anchor.offset||i.anchor.key===t.__key&&0===i.anchor.offset&&!s.canInsertTextBefore()&&!o||i.focus.key===t.__key&&i.focus.offset===c&&!s.canInsertTextAfter()&&!o))return void s.markDirty();const f=pi();if(!ti(f)||null===n||null===r)return void s.setTextContent(l);if(f.setTextNodeRange(s,n,s,r),s.isSegmented()){const t=Jr(s.getTextContent());s.replace(t),s=t}s.setTextContent(l)}}}function Ee(t){return 37===t}function Pe(t){return 39===t}function De(t,e){return Q?t:e}function Fe(t){return 13===t}function Ie(t){return 8===t}function Oe(t){return 46===t}function Le(t,e,n){return 65===t&&De(e,n)}function Me(t,e){void 0===t.__lexicalClassNameCache&&(t.__lexicalClassNameCache={});const n=t.__lexicalClassNameCache,r=n[e];if(void 0!==r)return r;const i=t[e];if("string"==typeof i){const t=Lt(i);return n[e]=t,t}return i}function We(t,e,n,r,i){if(0===n.size)return;const s=r.__type,o=r.__key,l=e.get(s);void 0===l&&H(33,s);const c=l.klass;let u=t.get(c);void 0===u&&(u=new Map,t.set(c,u));const a=u.get(o),f="destroyed"===a&&"created"===i;(void 0===a||f)&&u.set(o,f?"updated":i)}function Be(t,e,n){const r=t.getParent();let i=n,s=t;return null!==r&&(e&&0===n?(i=s.getIndexWithinParent(),s=r):e||n!==s.getChildrenSize()||(i=s.getIndexWithinParent()+1,s=r)),s.getChildAtIndex(e?i-1:i)}function Re(t,e){const n=t.offset;if("element"===t.type)return Be(t.getNode(),e,n);{const r=t.getNode();if(e&&0===n||!e&&n===r.getTextContentSize()){const t=e?r.getPreviousSibling():r.getNextSibling();return null===t?Be(r.getParentOrThrow(),e,r.getIndexWithinParent()+(e?0:1)):t}}return null}function Ke(t){const e=Qe(t).event,n=e&&e.inputType;return"insertFromPaste"===n||"insertFromPasteAsQuotation"===n}function Je(t,e,n){return function Hi(t,e,n){if(!1===t._updating||Ei!==t){let r=!1;return t.update(()=>{r=Hi(t,e,n)}),r}const r=Se(t);for(let i=4;i>=0;i--)for(let s=0;s<r.length;s++){const o=r[s]._commands.get(e);if(void 0!==o){const e=o[i];if(void 0!==e){const r=Array.from(e),i=r.length;for(let e=0;e<i;e++)if(!0===r[e](n,t))return!0}}}return!1}(t,e,n)}function Ue(t){return!ns(t)&&!t.isLastChild()&&!t.isInline()}function Ve(t,e){const n=t._keyToDOMMap.get(e);return void 0===n&&H(75,e),n}function $e(t){const e=t.assignedSlot||t.parentElement;return null!==e&&11===e.nodeType?e.host:e}function qe(t,e){let n=t.getParent();for(;null!==n;){if(n.is(e))return!0;n=n.getParent()}return!1}function Qe(t){const e=t._window;return null===e&&H(78),e}function Ye(t){let e=t.getParentOrThrow();for(;null!==e;){if(Ze(e))return e;e=e.getParentOrThrow()}return e}function Ze(t){return ns(t)||Gi(t)&&t.isShadowRoot()}function Ge(t){const e=t.constructor.clone(t);return oe(e,null),e}function tn(t){const e=Wi(),n=t.constructor.getType(),r=e._nodes.get(n);void 0===r&&H(97);const i=r.replace;if(null!==i){const e=i(t);return e instanceof t.constructor||H(98),e}return t}function en(t,e){!ns(t.getParent())||Gi(e)||Yi(e)||H(99)}function nn(t){return(Yi(t)||Gi(t)&&!t.canBeEmpty())&&!t.isInline()}function rn(t,e,n){n.style.removeProperty("caret-color"),e._blockCursorElement=null;const r=t.parentElement;null!==r&&r.removeChild(t)}function on(t){return j?(t||window).getSelection():null}function un(t){return 1===t.nodeType}function an(t){if(Yi(t)&&!t.isInline())return!0;if(!Gi(t)||Ze(t))return!1;const e=t.getFirstChild(),n=null===e||Cr(e)||Ur(e)||e.isInline();return!t.isInline()&&!1!==t.canBeEmpty()&&n}function fn(t,e){let n=t;for(;null!==n&&null!==n.getParent()&&!e(n);)n=n.getParentOrThrow();return e(n)?n:null}function hn(t,e,n,r,i,s){let o=t.getFirstChild();for(;null!==o;){const t=o.__key;o.__parent===e&&(Gi(o)&&hn(o,t,n,r,i,s),n.has(t)||s.delete(t),i.push(t)),o=o.getNextSibling()}}let gn,_n,pn,yn,mn,xn,vn,Tn,Sn,kn,Cn="",bn="",Nn=null,wn="",En=!1,Pn=!1,Dn=null;function Fn(t,e){const n=vn.get(t);if(null!==e){const n=qn(t);n.parentNode===e&&e.removeChild(n)}if(Tn.has(t)||_n._keyToDOMMap.delete(t),Gi(n)){const t=Un(n,vn);In(t,0,t.length-1,null)}void 0!==n&&We(kn,pn,yn,n,"destroyed")}function In(t,e,n,r){let i=e;for(;i<=n;++i){const e=t[i];void 0!==e&&Fn(e,r)}}function On(t,e){t.setProperty("text-align",e)}function An(t,e){const n=gn.theme.indent;if("string"==typeof n){const r=t.classList.contains(n);e>0&&!r?t.classList.add(n):e<1&&r&&t.classList.remove(n)}const r=getComputedStyle(t).getPropertyValue("--lexical-indent-base-value")||"40px";t.style.setProperty("padding-inline-start",0===e?"":`calc(${e} * ${r})`)}function Mn(t,e){const n=t.style;0===e?On(n,""):1===e?On(n,"left"):2===e?On(n,"center"):3===e?On(n,"right"):4===e?On(n,"justify"):5===e?On(n,"start"):6===e&&On(n,"end")}function Wn(t,e,n){const r=Tn.get(t);void 0===r&&H(60);const i=r.createDOM(gn,_n);if(function(t,e,n){const r=n._keyToDOMMap;e["__lexicalKey_"+n._key]=t,r.set(t,e)}(t,i,_n),Ur(r)?i.setAttribute("data-lexical-text","true"):Yi(r)&&i.setAttribute("data-lexical-decorator","true"),Gi(r)){const t=r.__indent,e=r.__size;if(0!==t&&An(i,t),0!==e){const t=e-1;!function(t,e,n,r){const i=bn;bn="",zn(t,n,0,e,r,null),Kn(n,r),bn=i}(Un(r,Tn),t,r,i)}const n=r.__format;0!==n&&Mn(i,n),r.isInline()||Rn(null,r,i),Ue(r)&&(Cn+=St,wn+=St)}else{const e=r.getTextContent();if(Yi(r)){const e=r.decorate(_n,gn);null!==e&&$n(t,e),i.contentEditable="false"}else Ur(r)&&(r.isDirectionless()||(bn+=e));Cn+=e,wn+=e}if(null!==e)if(null!=n)e.insertBefore(i,n);else{const t=e.__lexicalLineBreak;null!=t?e.insertBefore(i,t):e.appendChild(i)}return We(kn,pn,yn,r,"created"),i}function zn(t,e,n,r,i,s){const o=Cn;Cn="";let l=n;for(;l<=r;++l){Wn(t[l],i,s);const e=Tn.get(t[l]);null!==e&&null===Nn&&Ur(e)&&(Nn=e.getFormat())}Ue(e)&&(Cn+=St),i.__lexicalTextContent=Cn,Cn=o+Cn}function Bn(t,e){const n=e.get(t);return Cr(n)||Yi(n)&&n.isInline()}function Rn(t,e,n){const r=null!==t&&(0===t.__size||Bn(t.__last,vn)),i=0===e.__size||Bn(e.__last,Tn);if(r){if(!i){const t=n.__lexicalLineBreak;null!=t&&n.removeChild(t),n.__lexicalLineBreak=null}}else if(i){const t=document.createElement("br");n.__lexicalLineBreak=t,n.appendChild(t)}}function Kn(t,e){const n=e.__lexicalDirTextContent,r=e.__lexicalDir;if(n!==bn||r!==Dn){const n=""===bn,s=n?Dn:(i=bn,Nt.test(i)?"rtl":wt.test(i)?"ltr":null);if(s!==r){const i=e.classList,o=gn.theme;let l=null!==r?o[r]:void 0,c=null!==s?o[s]:void 0;if(void 0!==l){if("string"==typeof l){const t=Lt(l);l=o[r]=t}i.remove(...l)}if(null===s||n&&"ltr"===s)e.removeAttribute("dir");else{if(void 0!==c){if("string"==typeof c){const t=Lt(c);c=o[s]=t}void 0!==c&&i.add(...c)}e.dir=s}Pn||(t.getWritable().__dir=s)}Dn=s,e.__lexicalDirTextContent=bn,e.__lexicalDir=s}var i}function Un(t,e){const n=[];let r=t.__first;for(;null!==r;){const t=e.get(r);void 0===t&&H(101),n.push(r),r=t.__next}return n}function Vn(t,e){const n=vn.get(t);let r=Tn.get(t);void 0!==n&&void 0!==r||H(61);const i=En||xn.has(t)||mn.has(t),s=Ve(_n,t);if(n===r&&!i){if(Gi(n)){const t=s.__lexicalTextContent;void 0!==t&&(Cn+=t,wn+=t);const e=s.__lexicalDirTextContent;void 0!==e&&(bn+=e)}else{const t=n.getTextContent();Ur(n)&&!n.isDirectionless()&&(bn+=t),wn+=t,Cn+=t}return s}if(n!==r&&i&&We(kn,pn,yn,r,"updated"),r.updateDOM(n,s,gn)){const n=Wn(t,null,null);return null===e&&H(62),e.replaceChild(n,s),Fn(t,null),n}if(Gi(n)&&Gi(r)){const t=r.__indent;t!==n.__indent&&An(s,t);const e=r.__format;e!==n.__format&&Mn(s,e),i&&(function(t,e,n){const r=bn;var i;bn="",Nn=null,function(t,e,n){const r=Cn,i=t.__size,s=e.__size;if(Cn="",1===i&&1===s){const r=t.__first,i=e.__first;if(r===i)Vn(r,n);else{const t=qn(r),e=Wn(i,null,null);n.replaceChild(e,t),Fn(r,null)}const s=Tn.get(i);null===Nn&&Ur(s)&&(Nn=s.getFormat())}else{const r=Un(t,vn),o=Un(e,Tn);if(0===i)0!==s&&zn(o,e,0,s-1,n,null);else if(0===s){if(0!==i){const t=null==n.__lexicalLineBreak;In(r,0,i-1,t?null:n),t&&(n.textContent="")}}else!function(t,e,n,r,i,s){const o=r-1,l=i-1;let c,u,a=s.firstChild,f=0,d=0;for(;f<=o&&d<=l;){const t=e[f],r=n[d];if(t===r)a=Hn(Vn(r,s)),f++,d++;else{void 0===c&&(c=new Set(e)),void 0===u&&(u=new Set(n));const i=u.has(t),o=c.has(r);if(i)if(o){const t=Ve(_n,r);t===a?a=Hn(Vn(r,s)):(null!=a?s.insertBefore(t,a):s.appendChild(t),Vn(r,s)),f++,d++}else Wn(r,s,a),d++;else a=Hn(qn(t)),Fn(t,s),f++}const i=Tn.get(r);null!==i&&null===Nn&&Ur(i)&&(Nn=i.getFormat())}const g=f>o,_=d>l;if(g&&!_){const e=n[l+1];zn(n,t,d,l,s,void 0===e?null:_n.getElementByKey(e))}else _&&!g&&In(e,f,o,s)}(e,r,o,i,s,n)}Ue(e)&&(Cn+=St),n.__lexicalTextContent=Cn,Cn=r+Cn}(t,e,n),Kn(e,n),us(i=e)&&null!=Nn&&Nn!==i.__textFormat&&i.setTextFormat(Nn),bn=r,Nn=null}(n,r,s),ns(r)||r.isInline()||Rn(n,r,s)),Ue(r)&&(Cn+=St,wn+=St)}else{const e=r.getTextContent();if(Yi(r)){const e=r.decorate(_n,gn);null!==e&&$n(t,e)}else Ur(r)&&!r.isDirectionless()&&(bn+=e);Cn+=e,wn+=e}if(!Pn&&ns(r)&&r.__cachedText!==wn){const t=r.getWritable();t.__cachedText=wn,r=t}return s}function $n(t,e){let n=_n._pendingDecorators;const r=_n._decorators;if(null===n){if(r[t]===e)return;n=ge(_n)}n[t]=e}function Hn(t){let e=t.nextSibling;return null!==e&&e===_n._blockCursorElement&&(e=e.nextSibling),e}function qn(t){const e=Sn.get(t);return void 0===e&&H(75,t),e}const Qn=Object.freeze({}),Yn=[["keydown",function(t,e){if(Zn=t.timeStamp,Gn=t.keyCode,e.isComposing())return;const{keyCode:n,shiftKey:r,ctrlKey:o,metaKey:l,altKey:c}=t;Je(e,_,t)||(!function(t,e,n,r){return Pe(t)&&!e&&!r&&!n}(n,o,c,l)?!function(t,e,n,r,i){return Pe(t)&&!r&&!n&&(e||i)}(n,o,r,c,l)?!function(t,e,n,r){return Ee(t)&&!e&&!r&&!n}(n,o,c,l)?!function(t,e,n,r,i){return Ee(t)&&!r&&!n&&(e||i)}(n,o,r,c,l)?!function(t,e,n){return function(t){return 38===t}(t)&&!e&&!n}(n,o,l)?!function(t,e,n){return function(t){return 40===t}(t)&&!e&&!n}(n,o,l)?!function(t,e){return Fe(t)&&e}(n,r)?!function(t){return 32===t}(n)?!function(t,e){return Q&&e&&79===t}(n,o)?!function(t,e){return Fe(t)&&!e}(n,r)?!function(t,e,n,r){return Q?!e&&!n&&(Ie(t)||72===t&&r):!(r||e||n)&&Ie(t)}(n,c,l,o)?!function(t){return 27===t}(n)?!function(t,e,n,r,i){return Q?!(n||r||i)&&(Oe(t)||68===t&&e):!(e||r||i)&&Oe(t)}(n,o,r,c,l)?!function(t,e,n){return Ie(t)&&(Q?e:n)}(n,c,o)?!function(t,e,n){return Oe(t)&&(Q?e:n)}(n,c,o)?!function(t,e){return Q&&e&&Ie(t)}(n,l)?!function(t,e){return Q&&e&&Oe(t)}(n,l)?!function(t,e,n,r){return 66===t&&!e&&De(n,r)}(n,c,l,o)?!function(t,e,n,r){return 85===t&&!e&&De(n,r)}(n,c,l,o)?!function(t,e,n,r){return 73===t&&!e&&De(n,r)}(n,c,l,o)?!function(t,e,n,r){return 9===t&&!e&&!n&&!r}(n,c,o,l)?!function(t,e,n,r){return 90===t&&!e&&De(n,r)}(n,r,l,o)?!function(t,e,n,r){return Q?90===t&&n&&e:89===t&&r||90===t&&r&&e}(n,r,l,o)?ni(e._editorState._selection)?function(t,e,n,r){return!e&&67===t&&(Q?n:r)}(n,r,l,o)?(t.preventDefault(),Je(e,M,t)):function(t,e,n,r){return!e&&88===t&&(Q?n:r)}(n,r,l,o)?(t.preventDefault(),Je(e,W,t)):Le(n,l,o)&&(t.preventDefault(),Je(e,z,t)):!X&&Le(n,l,o)&&(t.preventDefault(),Je(e,z,t)):(t.preventDefault(),Je(e,g,void 0)):(t.preventDefault(),Je(e,h,void 0)):Je(e,w,t):(t.preventDefault(),Je(e,d,"italic")):(t.preventDefault(),Je(e,d,"underline")):(t.preventDefault(),Je(e,d,"bold")):(t.preventDefault(),Je(e,f,!1)):(t.preventDefault(),Je(e,f,!0)):(t.preventDefault(),Je(e,a,!1)):(t.preventDefault(),Je(e,a,!0)):Oe(n)?Je(e,N,t):(t.preventDefault(),Je(e,i,!1)):Je(e,b,t):Ie(n)?Je(e,C,t):(t.preventDefault(),Je(e,i,!0)):(sr=!1,Je(e,S,t)):(t.preventDefault(),sr=!0,Je(e,s,!0)):Je(e,k,t):(sr=!0,Je(e,S,t)):Je(e,T,t):Je(e,v,t):Je(e,x,t):Je(e,m,t):Je(e,y,t):Je(e,p,t),function(t,e,n,r){return t||e||n||r}(o,r,c,l)&&Je(e,$,t))}],["pointerdown",function(t,e){const n=t.target,r=t.pointerType;n instanceof Node&&"touch"!==r&&Qi(e,()=>{Yi(he(n))||(ir=!0)})}],["compositionstart",function(t,e){Qi(e,()=>{const n=pi();if(ti(n)&&!e.isComposing()){const r=n.anchor,i=n.anchor.getNode();ue(r.key),(t.timeStamp<Zn+30||"element"===r.type||!n.isCollapsed()||i.getFormat()!==n.format||Ur(i)&&i.getStyle()!==n.style)&&Je(e,l,kt)}})}],["compositionend",function(t,e){X?or=!0:Qi(e,()=>{dr(e,t.data)})}],["input",function(t,e){t.stopPropagation(),Qi(e,()=>{const n=pi(),r=t.data,i=fr(t);if(null!=r&&ti(n)&&cr(n,i,r,t.timeStamp,!1)){or&&(dr(e,r),or=!1);const i=n.anchor,s=i.getNode(),o=on(e._window);if(null===o)return;const c=i.offset;Y&&!n.isCollapsed()&&Ur(s)&&null!==o.anchorNode&&s.getTextContent().slice(0,c)+r+s.getTextContent().slice(c+n.focus.offset)===Ce(o.anchorNode)||Je(e,l,r);const u=r.length;X&&u>1&&"insertCompositionText"===t.inputType&&!e.isComposing()&&(n.anchor.offset-=u),Z||G||rt||!e.isComposing()||(Zn=0,ue(null))}else be(!1,e,null!==r?r:void 0),or&&(dr(e,r||void 0),or=!1);Li(),Ut(Wi())}),er=null}],["click",function(t,e){Qi(e,()=>{const n=pi(),i=on(e._window),s=yi();if(i)if(ti(n)){const e=n.anchor,r=e.getNode();"element"===e.type&&0===e.offset&&n.isCollapsed()&&!ns(r)&&1===pe().getChildrenSize()&&r.getTopLevelElementOrThrow().isEmpty()&&null!==s&&n.is(s)?(i.removeAllRanges(),n.dirty=!0):3!==t.detail||n.isCollapsed()||r!==n.focus.getNode()&&(Gi(r)?r.select(0):r.getParentOrThrow().select(0))}else if("touch"===t.pointerType){const n=i.anchorNode;if(null!==n){const r=n.nodeType;1!==r&&3!==r||me(_i(s,i,e,t))}}Je(e,r,t)})}],["cut",Qn],["copy",Qn],["dragstart",Qn],["dragover",Qn],["dragend",Qn],["paste",Qn],["focus",Qn],["blur",Qn],["drop",Qn]];Y&&Yn.push(["beforeinput",(t,e)=>function(t,e){const n=t.inputType,r=fr(t);"deleteCompositionText"===n||X&&Ke(e)||"insertCompositionText"!==n&&Qi(e,()=>{const _=pi();if("deleteContentBackward"===n){if(null===_){const t=yi();if(!ti(t))return;me(t.clone())}if(ti(_)){const n=_.anchor.key===_.focus.key;if(p=t.timeStamp,229===Gn&&p<Zn+30&&e.isComposing()&&n){if(ue(null),Zn=0,setTimeout(()=>{Qi(e,()=>{ue(null)})},30),ti(_)){const t=_.anchor.getNode();t.markDirty(),_.format=t.getFormat(),Ur(t)||H(142),_.style=t.getStyle()}}else{ue(null),t.preventDefault();const r=_.anchor.getNode().getTextContent(),s=0===_.anchor.offset&&_.focus.offset===r.length;nt&&n&&!s||Je(e,i,!0)}return}}var p;if(!ti(_))return;const y=t.data;null!==er&&be(!1,e,er),_.dirty&&null===er||!_.isCollapsed()||ns(_.anchor.getNode())||null===r||_.applyDOMRange(r),er=null;const m=_.anchor,x=_.focus,v=m.getNode(),T=x.getNode();if("insertText"!==n&&"insertTranspose"!==n)switch(t.preventDefault(),n){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":Je(e,l,t);break;case"insertFromComposition":ue(null),Je(e,l,t);break;case"insertLineBreak":ue(null),Je(e,s,!1);break;case"insertParagraph":ue(null),sr&&!G?(sr=!1,Je(e,s,!1)):Je(e,o,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":Je(e,c,t);break;case"deleteByComposition":(function(t,e){return t!==e||Gi(t)||Gi(e)||!t.isToken()||!e.isToken()})(v,T)&&Je(e,u,t);break;case"deleteByDrag":case"deleteByCut":Je(e,u,t);break;case"deleteContent":Je(e,i,!1);break;case"deleteWordBackward":Je(e,a,!0);break;case"deleteWordForward":Je(e,a,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":Je(e,f,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":Je(e,f,!1);break;case"formatStrikeThrough":Je(e,d,"strikethrough");break;case"formatBold":Je(e,d,"bold");break;case"formatItalic":Je(e,d,"italic");break;case"formatUnderline":Je(e,d,"underline");break;case"historyUndo":Je(e,h,void 0);break;case"historyRedo":Je(e,g,void 0)}else{if("\n"===y)t.preventDefault(),Je(e,s,!1);else if(y===St)t.preventDefault(),Je(e,o,void 0);else if(null==y&&t.dataTransfer){const e=t.dataTransfer.getData("text/plain");t.preventDefault(),_.insertRawText(e)}else null!=y&&cr(_,r,y,t.timeStamp,!0)?(t.preventDefault(),Je(e,l,y)):er=y;tr=t.timeStamp}})}(t,e)]);let Zn=0,Gn=0,tr=0,er=null;const nr=new WeakMap;let rr=!1,ir=!1,sr=!1,or=!1,lr=[0,"",0,"root",0];function cr(t,e,n,r,i){const s=t.anchor,o=t.focus,l=s.getNode(),c=Wi(),u=on(c._window),a=null!==u?u.anchorNode:null,f=s.key,d=c.getElementByKey(f),h=n.length;return f!==o.key||!Ur(l)||(!i&&(!Y||tr<r+50)||l.isDirty()&&h<2||Te(n))&&s.offset!==o.offset&&!l.isComposing()||ee(l)||l.isDirty()&&h>1||(i||!Y)&&null!==d&&!l.isComposing()&&a!==re(d)||null!==u&&null!==e&&(!e.collapsed||e.startContainer!==u.anchorNode||e.startOffset!==u.anchorOffset)||l.getFormat()!==t.format||l.getStyle()!==t.style||function(t,e){if(e.isSegmented())return!0;if(!t.isCollapsed())return!1;const n=t.anchor.offset,r=e.getParentOrThrow(),i=e.isToken();return 0===n?!e.canInsertTextBefore()||!r.canInsertTextBefore()&&!e.isComposing()||i||function(t){const e=t.getPreviousSibling();return(Ur(e)||Gi(e)&&e.isInline())&&!e.canInsertTextAfter()}(e):n===e.getTextContentSize()&&(!e.canInsertTextAfter()||!r.canInsertTextAfter()&&!e.isComposing()||i)}(t,l)}function ur(t,e){return null!==t&&null!==t.nodeValue&&3===t.nodeType&&0!==e&&e!==t.nodeValue.length}function ar(t,n,r){const{anchorNode:i,anchorOffset:s,focusNode:o,focusOffset:l}=t;rr&&(rr=!1,ur(i,s)&&ur(o,l))||Qi(n,()=>{if(!r)return void me(null);if(!Gt(n,i,o))return;const c=pi();if(ti(c)){const e=c.anchor,r=e.getNode();if(c.isCollapsed()){"Range"===t.type&&t.anchorNode===t.focusNode&&(c.dirty=!0);const i=Qe(n).event,s=i?i.timeStamp:performance.now(),[o,l,u,a,f]=lr,d=pe(),h=!1===n.isComposing()&&""===d.getTextContent();if(s<f+200&&e.offset===u&&e.key===a)c.format=o,c.style=l;else if("text"===e.type)Ur(r)||H(141),c.format=r.getFormat(),c.style=r.getStyle();else if("element"===e.type&&!h){const t=e.getNode();t instanceof os&&0===t.getChildrenSize()?c.format=t.getTextFormat():c.format=0,c.style=""}}else{const t=e.key,n=c.focus.key,r=c.getNodes(),i=r.length,o=c.isBackward(),u=o?l:s,a=o?s:l,f=o?n:t,d=o?t:n;let h=255,g=!1;for(let t=0;t<i;t++){const e=r[t],n=e.getTextContentSize();if(Ur(e)&&0!==n&&!(0===t&&e.__key===f&&u===n||t===i-1&&e.__key===d&&0===a)&&(g=!0,h&=e.getFormat(),0===h))break}c.format=g?h:0}}Je(n,e,void 0)})}function fr(t){if(!t.getTargetRanges)return null;const e=t.getTargetRanges();return 0===e.length?null:e[0]}function dr(t,e){const n=t._compositionKey;if(ue(null),null!==n&&null!=e){if(""===e){const e=fe(n),r=re(t.getElementByKey(n));return void(null!==r&&null!==r.nodeValue&&Ur(e)&&Ne(e,r.nodeValue,null,null,!0))}if("\n"===e[e.length-1]){const e=pi();if(ti(e)){const n=e.focus;return e.anchor.set(n.key,n.offset,n.type),void Je(t,S,null)}}}be(!0,t,e)}function hr(t){let e=t.__lexicalEventHandles;return void 0===e&&(e=[],t.__lexicalEventHandles=e),e}const gr=new Map;function _r(t){const e=t.target,n=on(null==e?null:9===e.nodeType?e.defaultView:e.ownerDocument.defaultView);if(null===n)return;const r=te(n.anchorNode);if(null===r)return;ir&&(ir=!1,Qi(r,()=>{const e=yi(),i=n.anchorNode;if(null===i)return;const s=i.nodeType;1!==s&&3!==s||me(_i(e,n,r,t))}));const i=Se(r),s=i[i.length-1],o=s._key,l=gr.get(o),c=l||s;c!==r&&ar(n,c,!1),ar(n,r,!0),r!==s?gr.set(o,r):l&&gr.delete(o)}function pr(t){t._lexicalHandled=!0}function yr(t){return!0===t._lexicalHandled}function xr(t,e,n){Li();const r=t.__key,i=t.getParent();if(null===i)return;const s=function(t){const e=pi();if(!ti(e)||!Gi(t))return e;const{anchor:n,focus:r}=e,i=n.getNode(),s=r.getNode();return qe(i,t)&&n.set(t.__key,0,"element"),qe(s,t)&&r.set(t.__key,0,"element"),e}(t);let o=!1;if(ti(s)&&e){const e=s.anchor,n=s.focus;e.key===r&&(vi(e,t,i,t.getPreviousSibling(),t.getNextSibling()),o=!0),n.key===r&&(vi(n,t,i,t.getPreviousSibling(),t.getNextSibling()),o=!0)}else ni(s)&&e&&t.isSelected()&&t.selectPrevious();if(ti(s)&&e&&!o){const e=t.getIndexWithinParent();le(t),mi(s,i,e,-1)}else le(t);n||Ze(i)||i.canBeEmpty()||!i.isEmpty()||xr(i,e),e&&ns(i)&&i.isEmpty()&&i.selectEnd()}class vr{static getType(){H(64,this.name)}static clone(t){H(65,this.name)}constructor(t){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,oe(this,t)}getType(){return this.__type}isInline(){H(137,this.constructor.name)}isAttached(){let t=this.__key;for(;null!==t;){if("root"===t)return!0;const e=fe(t);if(null===e)break;t=e.__parent}return!1}isSelected(t){const e=t||pi();if(null==e)return!1;const n=e.getNodes().some(t=>t.__key===this.__key);return(Ur(this)||!ti(e)||"element"!==e.anchor.type||"element"!==e.focus.type||e.anchor.key!==e.focus.key||e.anchor.offset!==e.focus.offset)&&n}getKey(){return this.__key}getIndexWithinParent(){const t=this.getParent();if(null===t)return-1;let e=t.getFirstChild(),n=0;for(;null!==e;){if(this.is(e))return n;n++,e=e.getNextSibling()}return-1}getParent(){const t=this.getLatest().__parent;return null===t?null:fe(t)}getParentOrThrow(){const t=this.getParent();return null===t&&H(66,this.__key),t}getTopLevelElement(){let t=this;for(;null!==t;){const e=t.getParent();if(Ze(e))return Gi(t)||H(138),t;t=e}return null}getTopLevelElementOrThrow(){const t=this.getTopLevelElement();return null===t&&H(67,this.__key),t}getParents(){const t=[];let e=this.getParent();for(;null!==e;)t.push(e),e=e.getParent();return t}getParentKeys(){const t=[];let e=this.getParent();for(;null!==e;)t.push(e.__key),e=e.getParent();return t}getPreviousSibling(){const t=this.getLatest().__prev;return null===t?null:fe(t)}getPreviousSiblings(){const t=[],e=this.getParent();if(null===e)return t;let n=e.getFirstChild();for(;null!==n&&!n.is(this);)t.push(n),n=n.getNextSibling();return t}getNextSibling(){const t=this.getLatest().__next;return null===t?null:fe(t)}getNextSiblings(){const t=[];let e=this.getNextSibling();for(;null!==e;)t.push(e),e=e.getNextSibling();return t}getCommonAncestor(t){const e=this.getParents(),n=t.getParents();Gi(this)&&e.unshift(this),Gi(t)&&n.unshift(t);const r=e.length,i=n.length;if(0===r||0===i||e[r-1]!==n[i-1])return null;const s=new Set(n);for(let t=0;t<r;t++){const n=e[t];if(s.has(n))return n}return null}is(t){return null!=t&&this.__key===t.__key}isBefore(t){if(this===t)return!1;if(t.isParentOf(this))return!0;if(this.isParentOf(t))return!1;const e=this.getCommonAncestor(t);let n=0,r=0,i=this;for(;;){const t=i.getParentOrThrow();if(t===e){n=i.getIndexWithinParent();break}i=t}for(i=t;;){const t=i.getParentOrThrow();if(t===e){r=i.getIndexWithinParent();break}i=t}return n<r}isParentOf(t){const e=this.__key;if(e===t.__key)return!1;let n=t;for(;null!==n;){if(n.__key===e)return!0;n=n.getParent()}return!1}getNodesBetween(t){const e=this.isBefore(t),n=[],r=new Set;let i=this;for(;null!==i;){const s=i.__key;if(r.has(s)||(r.add(s),n.push(i)),i===t)break;const o=Gi(i)?e?i.getFirstChild():i.getLastChild():null;if(null!==o){i=o;continue}const l=e?i.getNextSibling():i.getPreviousSibling();if(null!==l){i=l;continue}const c=i.getParentOrThrow();if(r.has(c.__key)||n.push(c),c===t)break;let u=null,a=c;do{if(null===a&&H(68),u=e?a.getNextSibling():a.getPreviousSibling(),a=a.getParent(),null===a)break;null!==u||r.has(a.__key)||n.push(a)}while(null===u);i=u}return e||n.reverse(),n}isDirty(){const t=Wi()._dirtyLeaves;return null!==t&&t.has(this.__key)}getLatest(){const t=fe(this.__key);return null===t&&H(113),t}getWritable(){Li();const t=Mi(),e=Wi(),n=t._nodeMap,r=this.__key,i=this.getLatest(),s=i.__parent,o=e._cloneNotNeeded,l=pi();if(null!==l&&l.setCachedNodes(null),o.has(r))return ce(i),i;const c=i.constructor.clone(i);return c.__parent=s,c.__next=i.__next,c.__prev=i.__prev,Gi(i)&&Gi(c)?(us(i)&&us(c)&&(c.__textFormat=i.__textFormat),c.__first=i.__first,c.__last=i.__last,c.__size=i.__size,c.__indent=i.__indent,c.__format=i.__format,c.__dir=i.__dir):Ur(i)&&Ur(c)&&(c.__format=i.__format,c.__style=i.__style,c.__mode=i.__mode,c.__detail=i.__detail),o.add(r),c.__key=r,ce(c),n.set(r,c),c}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(t,e){H(70)}updateDOM(t,e,n){H(71)}exportDOM(t){return{element:this.createDOM(t._config,t)}}exportJSON(){H(72)}static importJSON(t){H(18,this.name)}static transform(){return null}remove(t){xr(this,!0,t)}replace(t,e){Li();let n=pi();null!==n&&(n=n.clone()),en(this,t);const r=this.getLatest(),i=this.__key,s=t.__key,o=t.getWritable(),l=this.getParentOrThrow().getWritable(),c=l.__size;le(o);const u=r.getPreviousSibling(),a=r.getNextSibling(),f=r.__prev,d=r.__next,h=r.__parent;if(xr(r,!1,!0),null===u?l.__first=s:u.getWritable().__next=s,o.__prev=f,null===a?l.__last=s:a.getWritable().__prev=s,o.__next=d,o.__parent=h,l.__size=c,e&&(Gi(this)&&Gi(o)||H(139),this.getChildren().forEach(t=>{o.append(t)})),ti(n)){me(n);const t=n.anchor,e=n.focus;t.key===i&&Xr(t,o),e.key===i&&Xr(e,o)}return ae()===i&&ue(s),o}insertAfter(t,e=!0){Li(),en(this,t);const n=this.getWritable(),r=t.getWritable(),i=r.getParent(),s=pi();let o=!1,l=!1;if(null!==i){const e=t.getIndexWithinParent();if(le(r),ti(s)){const t=i.__key,n=s.anchor,r=s.focus;o="element"===n.type&&n.key===t&&n.offset===e+1,l="element"===r.type&&r.key===t&&r.offset===e+1}}const c=this.getNextSibling(),u=this.getParentOrThrow().getWritable(),a=r.__key,f=n.__next;if(null===c?u.__last=a:c.getWritable().__prev=a,u.__size++,n.__next=a,r.__next=f,r.__prev=n.__key,r.__parent=n.__parent,e&&ti(s)){const t=this.getIndexWithinParent();mi(s,u,t+1);const e=u.__key;o&&s.anchor.set(e,t+2,"element"),l&&s.focus.set(e,t+2,"element")}return t}insertBefore(t,e=!0){Li(),en(this,t);const n=this.getWritable(),r=t.getWritable(),i=r.__key;le(r);const s=this.getPreviousSibling(),o=this.getParentOrThrow().getWritable(),l=n.__prev,c=this.getIndexWithinParent();null===s?o.__first=i:s.getWritable().__next=i,o.__size++,n.__prev=i,r.__prev=l,r.__next=n.__key,r.__parent=n.__parent;const u=pi();return e&&ti(u)&&mi(u,this.getParentOrThrow(),c),t}isParentRequired(){return!1}createParentElementNode(){return cs()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(t,e){Li();const n=this.getPreviousSibling(),r=this.getParentOrThrow();if(null===n)return r.select(0,0);if(Gi(n))return n.select();if(!Ur(n)){const t=n.getIndexWithinParent()+1;return r.select(t,t)}return n.select(t,e)}selectNext(t,e){Li();const n=this.getNextSibling(),r=this.getParentOrThrow();if(null===n)return r.select();if(Gi(n))return n.select(0,0);if(!Ur(n)){const t=n.getIndexWithinParent();return r.select(t,t)}return n.select(t,e)}markDirty(){this.getWritable()}}class Tr extends vr{static getType(){return"linebreak"}static clone(t){return new Tr(t.__key)}constructor(t){super(t)}getTextContent(){return"\n"}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:t=>function(t){const e=t.parentElement;if(null!==e){const n=e.firstChild;if(n===t||n.nextSibling===t&&br(n)){const n=e.lastChild;if(n===t||n.previousSibling===t&&br(n))return!0}}return!1}(t)?null:{conversion:Sr,priority:0}}}static importJSON(t){return kr()}exportJSON(){return{type:"linebreak",version:1}}}function Sr(t){return{node:kr()}}function kr(){return tn(new Tr)}function Cr(t){return t instanceof Tr}function br(t){return 3===t.nodeType&&/^( |\t|\r?\n)+$/.test(t.textContent||"")}function Nr(t,e){return 16&e?"code":128&e?"mark":32&e?"sub":64&e?"sup":null}function wr(t,e){return 1&e?"strong":2&e?"em":"span"}function Er(t,e,n,r,i){const s=r.classList;let o=Me(i,"base");void 0!==o&&s.add(...o),o=Me(i,"underlineStrikethrough");let l=!1;const c=8&e&&4&e;void 0!==o&&(8&n&&4&n?(l=!0,c||s.add(...o)):c&&s.remove(...o));for(const t in Et){const r=Et[t];if(o=Me(i,t),void 0!==o)if(n&r){if(l&&("underline"===t||"strikethrough"===t)){e&r&&s.remove(...o);continue}e&r&&(!c||"underline"!==t)&&"strikethrough"!==t||s.add(...o)}else e&r&&s.remove(...o)}}function Pr(t,e,n){const r=e.firstChild,i=n.isComposing(),s=t+(i?Tt:"");if(null==r)e.textContent=s;else{const t=r.nodeValue;if(t!==s)if(i||X){const[e,n,i]=function(t,e){const n=t.length,r=e.length;let i=0,s=0;for(;i<n&&i<r&&t[i]===e[i];)i++;for(;s+i<n&&s+i<r&&t[n-s-1]===e[r-s-1];)s++;return[i,n-i-s,e.slice(i,r-s)]}(t,s);0!==n&&r.deleteData(e,n),r.insertData(e,i)}else r.nodeValue=s}}function Dr(t,e,n,r,i,s){Pr(i,t,e);const o=s.theme.text;void 0!==o&&Er(0,0,r,t,o)}function Fr(t,e){const n=document.createElement(e);return n.appendChild(t),n}class Ir extends vr{static getType(){return"text"}static clone(t){return new Ir(t.__text,t.__key)}constructor(t,e){super(e),this.__text=t,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const t=this.getLatest();return Ot[t.__mode]}getStyle(){return this.getLatest().__style}isToken(){return 1===this.getLatest().__mode}isComposing(){return this.__key===ae()}isSegmented(){return 2===this.getLatest().__mode}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(t){const e=Et[t];return!!(this.getFormat()&e)}isSimpleText(){return"text"===this.__type&&0===this.__mode}getTextContent(){return this.getLatest().__text}getFormatFlags(t,e){return ie(this.getLatest().__format,t,e)}canHaveFormat(){return!0}createDOM(t,e){const n=this.__format,r=Nr(0,n),i=wr(0,n),s=null===r?i:r,o=document.createElement(s);let l=o;this.hasFormat("code")&&o.setAttribute("spellcheck","false"),null!==r&&(l=document.createElement(i),o.appendChild(l)),Dr(l,this,0,n,this.__text,t);const c=this.__style;return""!==c&&(o.style.cssText=c),o}updateDOM(t,e,n){const r=this.__text,i=t.__format,s=this.__format,o=Nr(0,i),l=Nr(0,s),c=wr(0,i),u=wr(0,s);if((null===o?c:o)!==(null===l?u:l))return!0;if(o===l&&c!==u){const t=e.firstChild;null==t&&H(48);const i=document.createElement(u);return Dr(i,this,0,s,r,n),e.replaceChild(i,t),!1}let a=e;null!==l&&null!==o&&(a=e.firstChild,null==a&&H(49)),Pr(r,a,this);const f=n.theme.text;void 0!==f&&i!==s&&Er(0,i,s,a,f);const d=t.__style,h=this.__style;return d!==h&&(e.style.cssText=h),!1}static importDOM(){return{"#text":()=>({conversion:Wr,priority:0}),b:()=>({conversion:Lr,priority:0}),code:()=>({conversion:Kr,priority:0}),em:()=>({conversion:Kr,priority:0}),i:()=>({conversion:Kr,priority:0}),s:()=>({conversion:Kr,priority:0}),span:()=>({conversion:Or,priority:0}),strong:()=>({conversion:Kr,priority:0}),sub:()=>({conversion:Kr,priority:0}),sup:()=>({conversion:Kr,priority:0}),u:()=>({conversion:Kr,priority:0})}}static importJSON(t){const e=Jr(t.text);return e.setFormat(t.format),e.setDetail(t.detail),e.setMode(t.mode),e.setStyle(t.style),e}exportDOM(t){let{element:e}=super.exportDOM(t);return null!==e&&un(e)||H(132),e.style.whiteSpace="pre-wrap",this.hasFormat("bold")&&(e=Fr(e,"b")),this.hasFormat("italic")&&(e=Fr(e,"i")),this.hasFormat("strikethrough")&&(e=Fr(e,"s")),this.hasFormat("underline")&&(e=Fr(e,"u")),{element:e}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(t,e){}setFormat(t){const e=this.getWritable();return e.__format="string"==typeof t?Et[t]:t,e}setDetail(t){const e=this.getWritable();return e.__detail="string"==typeof t?Pt[t]:t,e}setStyle(t){const e=this.getWritable();return e.__style=t,e}toggleFormat(t){const e=ie(this.getFormat(),t,null);return this.setFormat(e)}toggleDirectionless(){const t=this.getWritable();return t.__detail^=1,t}toggleUnmergeable(){const t=this.getWritable();return t.__detail^=2,t}setMode(t){const e=It[t];if(this.__mode===e)return this;const n=this.getWritable();return n.__mode=e,n}setTextContent(t){if(this.__text===t)return this;const e=this.getWritable();return e.__text=t,e}select(t,e){Li();let n=t,r=e;const i=pi(),s=this.getTextContent(),o=this.__key;if("string"==typeof s){const t=s.length;void 0===n&&(n=t),void 0===r&&(r=t)}else n=0,r=0;if(!ti(i))return fi(o,n,o,r,"text","text");{const t=ae();t!==i.anchor.key&&t!==i.focus.key||ue(o),i.setTextNodeRange(this,n,this,r)}return i}selectStart(){return this.select(0,0)}selectEnd(){const t=this.getTextContentSize();return this.select(t,t)}spliceText(t,e,n,r){const i=this.getWritable(),s=i.__text,o=n.length;let l=t;l<0&&(l=o+l,l<0&&(l=0));const c=pi();if(r&&ti(c)){const e=t+o;c.setTextNodeRange(i,e,i,e)}const u=s.slice(0,l)+n+s.slice(l+e);return i.__text=u,i}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...t){Li();const e=this.getLatest(),n=e.getTextContent(),r=e.__key,i=ae(),s=new Set(t),o=[],l=n.length;let c="";for(let t=0;t<l;t++)""!==c&&s.has(t)&&(o.push(c),c=""),c+=n[t];""!==c&&o.push(c);const u=o.length;if(0===u)return[];if(o[0]===n)return[e];const a=o[0],f=e.getParentOrThrow();let d;const h=e.getFormat(),g=e.getStyle(),_=e.__detail;let p=!1;e.isSegmented()?(d=Jr(a),d.__format=h,d.__style=g,d.__detail=_,p=!0):(d=e.getWritable(),d.__text=a);const y=pi(),m=[d];let x=a.length;for(let t=1;t<u;t++){const e=o[t],n=e.length,s=Jr(e).getWritable();s.__format=h,s.__style=g,s.__detail=_;const l=s.__key,c=x+n;if(ti(y)){const t=y.anchor,e=y.focus;t.key===r&&"text"===t.type&&t.offset>x&&t.offset<=c&&(t.key=l,t.offset-=x,y.dirty=!0),e.key===r&&"text"===e.type&&e.offset>x&&e.offset<=c&&(e.key=l,e.offset-=x,y.dirty=!0)}i===r&&ue(l),x=c,m.push(s)}!function(t){const e=t.getPreviousSibling(),n=t.getNextSibling();null!==e&&ce(e),null!==n&&ce(n)}(this);const v=f.getWritable(),T=this.getIndexWithinParent();return p?(v.splice(T,0,m),this.remove()):v.splice(T,1,m),ti(y)&&mi(y,f,T,u-1),m}mergeWithSibling(t){const e=t===this.getPreviousSibling();e||t===this.getNextSibling()||H(50);const n=this.__key,r=t.__key,i=this.__text,s=i.length;ae()===r&&ue(n);const o=pi();if(ti(o)){const i=o.anchor,l=o.focus;null!==i&&i.key===r&&(Ti(i,e,n,t,s),o.dirty=!0),null!==l&&l.key===r&&(Ti(l,e,n,t,s),o.dirty=!0)}const l=t.__text,c=e?l+i:i+l;this.setTextContent(c);const u=this.getWritable();return t.remove(),u}isTextEntity(){return!1}}function Or(t){const e=t.style,n=e.fontWeight,r="700"===n||"bold"===n,i="line-through"===e.textDecoration,s="italic"===e.fontStyle,o="underline"===e.textDecoration,l=e.verticalAlign;return{forChild:t=>Ur(t)?(r&&t.toggleFormat("bold"),i&&t.toggleFormat("strikethrough"),s&&t.toggleFormat("italic"),o&&t.toggleFormat("underline"),"sub"===l&&t.toggleFormat("subscript"),"super"===l&&t.toggleFormat("superscript"),t):t,node:null}}function Lr(t){const e="normal"===t.style.fontWeight;return{forChild:t=>(Ur(t)&&!e&&t.toggleFormat("bold"),t),node:null}}const Ar=new WeakMap;function Mr(t){return"PRE"===t.nodeName||1===t.nodeType&&void 0!==t.style&&void 0!==t.style.whiteSpace&&t.style.whiteSpace.startsWith("pre")}function Wr(t){const e=t;null===t.parentElement&&H(129);let n=e.textContent||"";if(null!==function(t){let e,n=t.parentNode;const r=[t];for(;null!==n&&void 0===(e=Ar.get(n))&&!Mr(n);)r.push(n),n=n.parentNode;const i=void 0===e?n:e;for(let t=0;t<r.length;t++)Ar.set(r[t],i);return i}(e)){const t=n.split(/(\r?\n|\t)/),e=[],r=t.length;for(let n=0;n<r;n++){const r=t[n];"\n"===r||"\r\n"===r?e.push(kr()):"\t"===r?e.push($r()):""!==r&&e.push(Jr(r))}return{node:e}}if(n=n.replace(/\r/g,"").replace(/[ \t\n]+/g," "),""===n)return{node:null};if(" "===n[0]){let t=e,r=!0;for(;null!==t&&null!==(t=Br(t,!1));){const e=t.textContent||"";if(e.length>0){/[ \t\n]$/.test(e)&&(n=n.slice(1)),r=!1;break}}r&&(n=n.slice(1))}if(" "===n[n.length-1]){let t=e,r=!0;for(;null!==t&&null!==(t=Br(t,!0));)if((t.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){r=!1;break}r&&(n=n.slice(0,n.length-1))}return""===n?{node:null}:{node:Jr(n)}}const zr=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/,"i");function Br(t,e){let n=t;for(;;){let t;for(;null===(t=e?n.nextSibling:n.previousSibling);){const t=n.parentElement;if(null===t)return null;n=t}if(n=t,1===n.nodeType){const t=n.style.display;if(""===t&&null===n.nodeName.match(zr)||""!==t&&!t.startsWith("inline"))return null}let r=n;for(;null!==(r=e?n.firstChild:n.lastChild);)n=r;if(3===n.nodeType)return n;if("BR"===n.nodeName)return null}}const Rr={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function Kr(t){const e=Rr[t.nodeName.toLowerCase()];return void 0===e?{node:null}:{forChild:t=>(Ur(t)&&!t.hasFormat(e)&&t.toggleFormat(e),t),node:null}}function Jr(t=""){return tn(new Ir(t))}function Ur(t){return t instanceof Ir}class Vr extends Ir{static getType(){return"tab"}static clone(t){const e=new Vr(t.__key);return e.__text=t.__text,e.__format=t.__format,e.__style=t.__style,e}constructor(t){super("\t",t),this.__detail=2}static importDOM(){return null}static importJSON(t){const e=$r();return e.setFormat(t.format),e.setStyle(t.style),e}exportJSON(){return{...super.exportJSON(),type:"tab",version:1}}setTextContent(t){H(126)}setDetail(t){H(127)}setMode(t){H(128)}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function $r(){return tn(new Vr)}function Hr(t){return t instanceof Vr}class jr{constructor(t,e,n){this._selection=null,this.key=t,this.offset=e,this.type=n}is(t){return this.key===t.key&&this.offset===t.offset&&this.type===t.type}isBefore(t){let e=this.getNode(),n=t.getNode();const r=this.offset,i=t.offset;if(Gi(e)){const t=e.getDescendantByIndex(r);e=null!=t?t:e}if(Gi(n)){const t=n.getDescendantByIndex(i);n=null!=t?t:n}return e===n?r<i:e.isBefore(n)}getNode(){const t=fe(this.key);return null===t&&H(20),t}set(t,e,n){const r=this._selection,i=this.key;this.key=t,this.offset=e,this.type=n,Oi()||(ae()===i&&ue(t),null!==r&&(r.setCachedNodes(null),r.dirty=!0))}}function qr(t,e,n){return new jr(t,e,n)}function Qr(t,e){let n=e.__key,r=t.offset,i="element";if(Ur(e)){i="text";const t=e.getTextContentSize();r>t&&(r=t)}else if(!Gi(e)){const t=e.getNextSibling();if(Ur(t))n=t.__key,r=0,i="text";else{const t=e.getParent();t&&(n=t.__key,r=e.getIndexWithinParent()+1)}}t.set(n,r,i)}function Xr(t,e){if(Gi(e)){const n=e.getLastDescendant();Gi(n)||Ur(n)?Qr(t,n):Qr(t,e)}else Qr(t,e)}function Yr(t,e,n,r){const i=t.getNode(),s=i.getChildAtIndex(t.offset),o=Jr(),l=ns(i)?cs().append(o):o;o.setFormat(n),o.setStyle(r),null===s?i.append(l):s.insertBefore(l),t.is(e)&&e.set(o.__key,0,"text"),t.set(o.__key,0,"text")}function Zr(t,e,n,r){t.key=e,t.offset=n,t.type=r}class Gr{constructor(t){this._cachedNodes=null,this._nodes=t,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){if(!ni(t))return!1;const e=this._nodes,n=t._nodes;return e.size===n.size&&Array.from(e).every(t=>n.has(t))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(t){this.dirty=!0,this._nodes.add(t),this._cachedNodes=null}delete(t){this.dirty=!0,this._nodes.delete(t),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(t){return this._nodes.has(t)}clone(){return new Gr(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(t){}insertText(){}insertNodes(t){const e=this.getNodes(),n=e.length,r=e[n-1];let i;if(Ur(r))i=r.select();else{const t=r.getIndexWithinParent()+1;i=r.getParentOrThrow().select(t,t)}i.insertNodes(t);for(let t=0;t<n;t++)e[t].remove()}getNodes(){const t=this._cachedNodes;if(null!==t)return t;const e=this._nodes,n=[];for(const t of e){const e=fe(t);null!==e&&n.push(e)}return Oi()||(this._cachedNodes=n),n}getTextContent(){const t=this.getNodes();let e="";for(let n=0;n<t.length;n++)e+=t[n].getTextContent();return e}}function ti(t){return t instanceof ei}class ei{constructor(t,e,n,r){this.anchor=t,this.focus=e,t._selection=this,e._selection=this,this._cachedNodes=null,this.format=n,this.style=r,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(t){this._cachedNodes=t}is(t){return!!ti(t)&&this.anchor.is(t.anchor)&&this.focus.is(t.focus)&&this.format===t.format&&this.style===t.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const t=this._cachedNodes;if(null!==t)return t;const e=this.anchor,n=this.focus,r=e.isBefore(n),i=r?e:n,s=r?n:e;let o=i.getNode(),l=s.getNode();const c=i.offset,u=s.offset;if(Gi(o)){const t=o.getDescendantByIndex(c);o=null!=t?t:o}if(Gi(l)){let t=l.getDescendantByIndex(u);null!==t&&t!==o&&l.getChildAtIndex(u)===t&&(t=t.getPreviousSibling()),l=null!=t?t:l}let a;return a=o.is(l)?Gi(o)&&o.getChildrenSize()>0?[]:[o]:o.getNodesBetween(l),Oi()||(this._cachedNodes=a),a}setTextNodeRange(t,e,n,r){Zr(this.anchor,t.__key,e,"text"),Zr(this.focus,n.__key,r,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){const t=this.getNodes();if(0===t.length)return"";const e=t[0],n=t[t.length-1],r=this.anchor,i=this.focus,s=r.isBefore(i),[o,l]=ii(this);let c="",u=!0;for(let a=0;a<t.length;a++){const f=t[a];if(Gi(f)&&!f.isInline())u||(c+="\n"),u=!f.isEmpty();else if(u=!1,Ur(f)){let t=f.getTextContent();f===e?f===n?"element"===r.type&&"element"===i.type&&i.offset!==r.offset||(t=o<l?t.slice(o,l):t.slice(l,o)):t=s?t.slice(o):t.slice(l):f===n&&(t=s?t.slice(0,l):t.slice(0,o)),c+=t}else!Yi(f)&&!Cr(f)||f===n&&this.isCollapsed()||(c+=f.getTextContent())}return c}applyDOMRange(t){const e=Wi(),n=e.getEditorState()._selection,r=ui(t.startContainer,t.startOffset,t.endContainer,t.endOffset,e,n);if(null===r)return;const[i,s]=r;Zr(this.anchor,i.key,i.offset,i.type),Zr(this.focus,s.key,s.offset,s.type),this._cachedNodes=null}clone(){const t=this.anchor,e=this.focus;return new ei(qr(t.key,t.offset,t.type),qr(e.key,e.offset,e.type),this.format,this.style)}toggleFormat(t){this.format=ie(this.format,t,null),this.dirty=!0}setStyle(t){this.style=t,this.dirty=!0}hasFormat(t){const e=Et[t];return!!(this.format&e)}insertRawText(t){const e=t.split(/(\r?\n|\t)/),n=[],r=e.length;for(let t=0;t<r;t++){const r=e[t];"\n"===r||"\r\n"===r?n.push(kr()):"\t"===r?n.push($r()):n.push(Jr(r))}this.insertNodes(n)}insertText(t){const e=this.anchor,n=this.focus,r=this.isCollapsed()||e.isBefore(n),i=this.format,s=this.style;r&&"element"===e.type?Yr(e,n,i,s):r||"element"!==n.type||Yr(n,e,i,s);const o=this.getNodes(),l=o.length,c=r?n:e,u=(r?e:n).offset,a=c.offset;let f=o[0];Ur(f)||H(26);const d=f.getTextContent().length,h=f.getParentOrThrow();let g=o[l-1];if(this.isCollapsed()&&u===d&&(f.isSegmented()||f.isToken()||!f.canInsertTextAfter()||!h.canInsertTextAfter()&&null===f.getNextSibling())){let e=f.getNextSibling();if(Ur(e)&&e.canInsertTextBefore()&&!ee(e)||(e=Jr(),e.setFormat(i),h.canInsertTextAfter()?f.insertAfter(e):h.insertAfter(e)),e.select(0,0),f=e,""!==t)return void this.insertText(t)}else if(this.isCollapsed()&&0===u&&(f.isSegmented()||f.isToken()||!f.canInsertTextBefore()||!h.canInsertTextBefore()&&null===f.getPreviousSibling())){let e=f.getPreviousSibling();if(Ur(e)&&!ee(e)||(e=Jr(),e.setFormat(i),h.canInsertTextBefore()?f.insertBefore(e):h.insertBefore(e)),e.select(),f=e,""!==t)return void this.insertText(t)}else if(f.isSegmented()&&u!==d){const t=Jr(f.getTextContent());t.setFormat(i),f.replace(t),f=t}else if(!this.isCollapsed()&&""!==t){const e=g.getParent();if(!h.canInsertTextBefore()||!h.canInsertTextAfter()||Gi(e)&&(!e.canInsertTextBefore()||!e.canInsertTextAfter()))return this.insertText(""),ci(this.anchor,this.focus,null),void this.insertText(t)}if(1===l){if(f.isToken()){const e=Jr(t);return e.select(),void f.replace(e)}const e=f.getFormat(),n=f.getStyle();if(u!==a||e===i&&n===s){if(Hr(f)){const e=Jr(t);return e.setFormat(i),e.setStyle(s),e.select(),void f.replace(e)}}else{if(""!==f.getTextContent()){const e=Jr(t);if(e.setFormat(i),e.setStyle(s),e.select(),0===u)f.insertBefore(e,!1);else{const[t]=f.splitText(u);t.insertAfter(e,!1)}return void(e.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=t.length))}f.setFormat(i),f.setStyle(s)}const r=a-u;f=f.spliceText(u,r,t,!0),""===f.getTextContent()?f.remove():"text"===this.anchor.type&&(f.isComposing()?this.anchor.offset-=t.length:(this.format=e,this.style=n))}else{const e=new Set([...f.getParentKeys(),...g.getParentKeys()]),n=Gi(f)?f:f.getParentOrThrow();let r=Gi(g)?g:g.getParentOrThrow(),i=g;if(!n.is(r)&&r.isInline())do{i=r,r=r.getParentOrThrow()}while(r.isInline());if("text"===c.type&&(0!==a||""===g.getTextContent())||"element"===c.type&&g.getIndexWithinParent()<a)if(Ur(g)&&!g.isToken()&&a!==g.getTextContentSize()){if(g.isSegmented()){const t=Jr(g.getTextContent());g.replace(t),g=t}ns(c.getNode())||"text"!==c.type||(g=g.spliceText(0,a,"")),e.add(g.__key)}else{const t=g.getParentOrThrow();t.canBeEmpty()||1!==t.getChildrenSize()?g.remove():t.remove()}else e.add(g.__key);const s=r.getChildren(),h=new Set(o),_=n.is(r),p=n.isInline()&&null===f.getNextSibling()?n:f;for(let t=s.length-1;t>=0;t--){const e=s[t];if(e.is(f)||Gi(e)&&e.isParentOf(f))break;e.isAttached()&&(!h.has(e)||e.is(i)?_||p.insertAfter(e,!1):e.remove())}if(!_){let t=r,n=null;for(;null!==t;){const r=t.getChildren(),i=r.length;(0===i||r[i-1].is(n))&&(e.delete(t.__key),n=t),t=t.getParent()}}if(f.isToken())if(u===d)f.select();else{const e=Jr(t);e.select(),f.replace(e)}else f=f.spliceText(u,d-u,t,!0),""===f.getTextContent()?f.remove():f.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=t.length);for(let t=1;t<l;t++){const n=o[t],r=n.__key;e.has(r)||n.remove()}}}removeText(){this.insertText("")}formatText(t){if(this.isCollapsed())return this.toggleFormat(t),void ue(null);const e=this.getNodes(),n=[];for(const t of e)Ur(t)&&n.push(t);const r=n.length;if(0===r)return this.toggleFormat(t),void ue(null);const i=this.anchor,s=this.focus,o=this.isBackward(),l=o?s:i,c=o?i:s;let u=0,a=n[0],f="element"===l.type?0:l.offset;if("text"===l.type&&f===a.getTextContentSize()&&(u=1,a=n[1],f=0),null==a)return;const d=a.getFormatFlags(t,null),h=r-1;let g=n[h];const _="text"===c.type?c.offset:g.getTextContentSize();if(a.is(g)){if(f===_)return;if(0===f&&_===a.getTextContentSize())a.setFormat(d);else{const t=a.splitText(f,_),e=0===f?t[0]:t[1];e.setFormat(d),"text"===l.type&&l.set(e.__key,0,"text"),"text"===c.type&&c.set(e.__key,_-f,"text")}return void(this.format=d)}0!==f&&([,a]=a.splitText(f),f=0),a.setFormat(d);const p=g.getFormatFlags(t,d);_>0&&(_!==g.getTextContentSize()&&([g]=g.splitText(_)),g.setFormat(p));for(let e=u+1;e<h;e++){const r=n[e];if(!r.isToken()){const e=r.getFormatFlags(t,p);r.setFormat(e)}}"text"===l.type&&l.set(a.__key,f,"text"),"text"===c.type&&c.set(g.__key,_,"text"),this.format=d|p}insertNodes(t){if(0===t.length)return;if("root"===this.anchor.key){this.insertParagraph();const e=pi();return ti(e)||H(134),e.insertNodes(t)}const e=fn((this.isBackward()?this.focus:this.anchor).getNode(),an),n=t[t.length-1];if("__language"in e&&Gi(e)){if("__language"in t[0])this.insertText(t[0].getTextContent());else{const r=bi(this);e.splice(r,0,t),n.selectEnd()}return}if(!t.some(t=>(Gi(t)||Yi(t))&&!t.isInline())){Gi(e)||H(135);const r=bi(this);return e.splice(r,0,t),void n.selectEnd()}const r=function(t){const e=cs();let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=Cr(i);if(s||Yi(i)&&i.isInline()||Gi(i)&&i.isInline()||Ur(i)||i.isParentRequired()){if(null===n&&(n=i.createParentElementNode(),e.append(n),s))continue;null!==n&&n.append(i)}else e.append(i),n=null}return e}(t),i=r.getLastDescendant(),s=r.getChildren(),o=t=>"__value"in t&&"__checked"in t,l=Gi(e)&&e.isEmpty()?null:this.insertParagraph(),c=s[s.length-1];let u=s[0];var a;Gi(a=u)&&an(a)&&!a.isEmpty()&&Gi(e)&&(!e.isEmpty()||o(e))&&(Gi(e)||H(135),e.append(...u.getChildren()),u=s[1]),u&&function(t,e,n){const r=e.getParentOrThrow().getLastChild();let i=e;const s=[e];for(;i!==r;)i.getNextSibling()||H(140),i=i.getNextSibling(),s.push(i);let o=t;for(const t of s)o=o.insertAfter(t)}(e,u);const f=fn(i,an);l&&Gi(f)&&(o(l)||an(c))&&(f.append(...l.getChildren()),l.remove()),Gi(e)&&e.isEmpty()&&e.remove(),i.selectEnd();const d=Gi(e)?e.getLastChild():null;Cr(d)&&f!==e&&d.remove()}insertParagraph(){if("root"===this.anchor.key){const t=cs();return pe().splice(this.anchor.offset,0,[t]),t.select(),t}const t=bi(this),e=fn(this.anchor.getNode(),an);Gi(e)||H(136);const n=e.getChildAtIndex(t),r=n?[n,...n.getNextSiblings()]:[],i=e.insertNewAfter(this,!1);return i?(i.append(...r),i.selectStart(),i):null}insertLineBreak(t){const e=kr();if(this.insertNodes([e]),t){const t=e.getParentOrThrow(),n=e.getIndexWithinParent();t.select(n,n)}}extract(){const t=this.getNodes(),e=t.length,n=e-1,r=this.anchor,i=this.focus;let s=t[0],o=t[n];const[l,c]=ii(this);if(0===e)return[];if(1===e){if(Ur(s)&&!this.isCollapsed()){const t=l>c?c:l,e=l>c?l:c,n=s.splitText(t,e),r=0===t?n[0]:n[1];return null!=r?[r]:[]}return[s]}const u=r.isBefore(i);if(Ur(s)){const e=u?l:c;e===s.getTextContentSize()?t.shift():0!==e&&([,s]=s.splitText(e),t[0]=s)}if(Ur(o)){const e=o.getTextContent().length,r=u?c:l;0===r?t.pop():r!==e&&([o]=o.splitText(r),t[n]=o)}return t}modify(t,e,n){const r=this.focus,i=this.anchor,s="move"===t,o=Re(r,e);if(Yi(o)&&!o.isIsolated()){if(s&&o.isKeyboardSelectable()){const t=hi();return t.add(o.__key),void me(t)}const t=e?o.getPreviousSibling():o.getNextSibling();if(Ur(t)){const n=t.__key,o=e?t.getTextContent().length:0;return r.set(n,o,"text"),void(s&&i.set(n,o,"text"))}{const n=o.getParentOrThrow();let l,c;return Gi(t)?(c=t.__key,l=e?t.getChildrenSize():0):(l=o.getIndexWithinParent(),c=n.__key,e||l++),r.set(c,l,"element"),void(s&&i.set(c,l,"element"))}}const l=Wi(),c=on(l._window);if(!c)return;const u=l._blockCursorElement,a=l._rootElement;if(null===a||null===u||!Gi(o)||o.isInline()||o.canBeEmpty()||rn(u,l,a),function(t,e,n,r){t.modify(e,n,r)}(c,t,e?"backward":"forward",n),c.rangeCount>0){const t=c.getRangeAt(0),n=this.anchor.getNode(),r=ns(n)?n:Ye(n);if(this.applyDOMRange(t),this.dirty=!0,!s){const n=this.getNodes(),i=[];let s=!1;for(let t=0;t<n.length;t++){const e=n[t];qe(e,r)?i.push(e):s=!0}if(s&&i.length>0)if(e){const t=i[0];Gi(t)?t.selectStart():t.getParentOrThrow().selectStart()}else{const t=i[i.length-1];Gi(t)?t.selectEnd():t.getParentOrThrow().selectEnd()}c.anchorNode===t.startContainer&&c.anchorOffset===t.startOffset||function(t){const e=t.focus,n=t.anchor,r=n.key,i=n.offset,s=n.type;Zr(n,e.key,e.offset,e.type),Zr(e,r,i,s),t._cachedNodes=null}(this)}}}forwardDeletion(t,e,n){if(!n&&("element"===t.type&&Gi(e)&&t.offset===e.getChildrenSize()||"text"===t.type&&t.offset===e.getTextContentSize())){const t=e.getParent(),n=e.getNextSibling()||(null===t?null:t.getNextSibling());if(Gi(n)&&n.isShadowRoot())return!0}return!1}deleteCharacter(t){const n=this.isCollapsed();if(this.isCollapsed()){const n=this.anchor;let r=n.getNode();if(this.forwardDeletion(n,r,t))return;const i=this.focus,s=Re(i,t);if(Yi(s)&&!s.isIsolated()){if(s.isKeyboardSelectable()&&Gi(r)&&0===r.getChildrenSize()){r.remove();const t=hi();t.add(s.__key),me(t)}else s.remove(),Wi().dispatchCommand(e,void 0);return}if(!t&&Gi(s)&&Gi(r)&&r.isEmpty())return r.remove(),void s.selectStart();if(this.modify("extend",t,"character"),this.isCollapsed()){if(t&&0===n.offset&&("element"===n.type?n.getNode():n.getNode().getParentOrThrow()).collapseAtStart(this))return}else{const e="text"===i.type?i.getNode():null;if(r="text"===n.type?n.getNode():null,null!==e&&e.isSegmented()){const n=i.offset,s=e.getTextContentSize();if(e.is(r)||t&&n!==s||!t&&0!==n)return void si(e,t,n)}else if(null!==r&&r.isSegmented()){const i=n.offset,s=r.getTextContentSize();if(r.is(e)||t&&0!==i||!t&&i!==s)return void si(r,t,i)}!function(t,e){const n=t.anchor,r=t.focus,i=n.getNode();if(i===r.getNode()&&"text"===n.type&&"text"===r.type){const t=n.offset,s=r.offset,o=t<s,l=o?t:s,c=o?s:t,u=c-1;l!==u&&(Te(i.getTextContent().slice(l,c))||(e?r.offset=u:n.offset=u))}}(this,t)}}if(this.removeText(),t&&!n&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset){const t=this.anchor.getNode();t.isEmpty()&&ns(t.getParent())&&0===t.getIndexWithinParent()&&t.collapseAtStart(this)}}deleteLine(t){this.isCollapsed()&&("text"===this.anchor.type&&this.modify("extend",t,"lineboundary"),0===(t?this.focus:this.anchor).offset&&this.modify("extend",t,"character")),this.removeText()}deleteWord(t){if(this.isCollapsed()){const e=this.anchor,n=e.getNode();if(this.forwardDeletion(e,n,t))return;this.modify("extend",t,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function ni(t){return t instanceof Gr}function ri(t){const e=t.offset;if("text"===t.type)return e;const n=t.getNode();return e===n.getChildrenSize()?n.getTextContent().length:0}function ii(t){const e=t.getStartEndPoints();if(null===e)return[0,0];const[n,r]=e;return"element"===n.type&&"element"===r.type&&n.key===r.key&&n.offset===r.offset?[0,0]:[ri(n),ri(r)]}function si(t,e,n){const r=t,i=r.getTextContent().split(/(?=\s)/g),s=i.length;let o=0,l=0;for(let t=0;t<s;t++){const r=t===s-1;if(l=o,o+=i[t].length,e&&o===n||o>n||r){i.splice(t,1),r&&(l=void 0);break}}const c=i.join("").trim();""===c?r.remove():(r.setTextContent(c),r.select(l,l))}function oi(t,e,n,r){let i,s=e;if(1===t.nodeType){let o=!1;const l=t.childNodes,c=l.length;s===c&&(o=!0,s=c-1);let u=l[s],a=!1;if(u===r._blockCursorElement?(u=l[s+1],a=!0):null!==r._blockCursorElement&&s--,i=xe(u),Ur(i))s=ve(i,o);else{let r=xe(t);if(null===r)return null;if(Gi(r)){s=Math.min(r.getChildrenSize(),s);let t=r.getChildAtIndex(s);if(Gi(t)&&function(t,e,n){const r=t.getParent();return null===n||null===r||!r.canBeEmpty()||r!==n.getNode()}(t,0,n)){const e=o?t.getLastDescendant():t.getFirstDescendant();null===e?(r=t,s=0):(t=e,r=Gi(t)?t:t.getParentOrThrow())}Ur(t)?(i=t,r=null,s=ve(t,o)):t!==r&&o&&!a&&s++}else{const n=r.getIndexWithinParent();s=0===e&&Yi(r)&&xe(t)===r?n:n+1,r=r.getParentOrThrow()}if(Gi(r))return qr(r.__key,s,"element")}}else i=xe(t);return Ur(i)?qr(i.__key,s,"text"):null}function li(t,e,n){const r=t.offset,i=t.getNode();if(0===r){const r=i.getPreviousSibling(),s=i.getParent();if(e){if((n||!e)&&null===r&&Gi(s)&&s.isInline()){const e=s.getPreviousSibling();Ur(e)&&(t.key=e.__key,t.offset=e.getTextContent().length)}}else Gi(r)&&!n&&r.isInline()?(t.key=r.__key,t.offset=r.getChildrenSize(),t.type="element"):Ur(r)&&(t.key=r.__key,t.offset=r.getTextContent().length)}else if(r===i.getTextContent().length){const r=i.getNextSibling(),s=i.getParent();if(e&&Gi(r)&&r.isInline())t.key=r.__key,t.offset=0,t.type="element";else if((n||e)&&null===r&&Gi(s)&&s.isInline()&&!s.canInsertTextAfter()){const e=s.getNextSibling();Ur(e)&&(t.key=e.__key,t.offset=0)}}}function ci(t,e,n){if("text"===t.type&&"text"===e.type){const r=t.isBefore(e),i=t.is(e);li(t,r,i),li(e,!r,i),i&&(e.key=t.key,e.offset=t.offset,e.type=t.type);const s=Wi();if(s.isComposing()&&s._compositionKey!==t.key&&ti(n)){const r=n.anchor,i=n.focus;Zr(t,r.key,r.offset,r.type),Zr(e,i.key,i.offset,i.type)}}}function ui(t,e,n,r,i,s){if(null===t||null===n||!Gt(i,t,n))return null;const o=oi(t,e,ti(s)?s.anchor:null,i);if(null===o)return null;const l=oi(n,r,ti(s)?s.focus:null,i);if(null===l)return null;if("element"===o.type&&"element"===l.type){const e=xe(t),r=xe(n);if(Yi(e)&&Yi(r))return null}return ci(o,l,s),[o,l]}function fi(t,e,n,r,i,s){const o=Mi(),l=new ei(qr(t,e,i),qr(n,r,s),0,"");return l.dirty=!0,o._selection=l,l}function hi(){return new Gr(new Set)}function _i(t,e,n,r){const i=n._window;if(null===i)return null;const s=r||i.event,o=s?s.type:void 0,l="selectionchange"===o,c=!Mt&&(l||"beforeinput"===o||"compositionstart"===o||"compositionend"===o||"click"===o&&s&&3===s.detail||"drop"===o||void 0===o);let u,a,f,d;if(ti(t)&&!c)return t.clone();if(null===e)return null;if(u=e.anchorNode,a=e.focusNode,f=e.anchorOffset,d=e.focusOffset,l&&ti(t)&&!Gt(n,u,a))return t.clone();const h=ui(u,f,a,d,n,t);if(null===h)return null;const[g,_]=h;return new ei(g,_,ti(t)?t.format:0,ti(t)?t.style:"")}function pi(){return Mi()._selection}function yi(){return Wi()._editorState._selection}function mi(t,e,n,r=1){const i=t.anchor,s=t.focus,o=i.getNode(),l=s.getNode();if(!e.is(o)&&!e.is(l))return;const c=e.__key;if(t.isCollapsed()){const e=i.offset;if(n<=e&&r>0||n<e&&r<0){const n=Math.max(0,e+r);i.set(c,n,"element"),s.set(c,n,"element"),xi(t)}}else{const o=t.isBackward(),l=o?s:i,u=l.getNode(),a=o?i:s,f=a.getNode();if(e.is(u)){const t=l.offset;(n<=t&&r>0||n<t&&r<0)&&l.set(c,Math.max(0,t+r),"element")}if(e.is(f)){const t=a.offset;(n<=t&&r>0||n<t&&r<0)&&a.set(c,Math.max(0,t+r),"element")}}xi(t)}function xi(t){const e=t.anchor,n=e.offset,r=t.focus,i=r.offset,s=e.getNode(),o=r.getNode();if(t.isCollapsed()){if(!Gi(s))return;const t=s.getChildrenSize(),i=n>=t,o=i?s.getChildAtIndex(t-1):s.getChildAtIndex(n);if(Ur(o)){let t=0;i&&(t=o.getTextContentSize()),e.set(o.__key,t,"text"),r.set(o.__key,t,"text")}}else{if(Gi(s)){const t=s.getChildrenSize(),r=n>=t,i=r?s.getChildAtIndex(t-1):s.getChildAtIndex(n);if(Ur(i)){let t=0;r&&(t=i.getTextContentSize()),e.set(i.__key,t,"text")}}if(Gi(o)){const t=o.getChildrenSize(),e=i>=t,n=e?o.getChildAtIndex(t-1):o.getChildAtIndex(i);if(Ur(n)){let t=0;e&&(t=n.getTextContentSize()),r.set(n.__key,t,"text")}}}}function vi(t,e,n,r,i){let s=null,o=0,l=null;null!==r?(s=r.__key,Ur(r)?(o=r.getTextContentSize(),l="text"):Gi(r)&&(o=r.getChildrenSize(),l="element")):null!==i&&(s=i.__key,Ur(i)?l="text":Gi(i)&&(l="element")),null!==s&&null!==l?t.set(s,o,l):(o=e.getIndexWithinParent(),-1===o&&(o=n.getChildrenSize()),t.set(n.__key,o,"element"))}function Ti(t,e,n,r,i){"text"===t.type?(t.key=n,e||(t.offset+=i)):t.offset>r.getIndexWithinParent()&&(t.offset-=1)}function bi(t){t.isCollapsed()||t.removeText();const e=t.anchor;let n=e.getNode(),r=e.offset;for(;!an(n);)[n,r]=Ni(n,r);return r}function Ni(t,e){const n=t.getParent();if(!n){const t=cs();return pe().append(t),t.select(),[pe(),0]}if(Ur(t)){const r=t.splitText(e);if(0===r.length)return[n,t.getIndexWithinParent()];const i=0===e?0:1;return[n,r[0].getIndexWithinParent()+i]}if(!Gi(t)||0===e)return[n,t.getIndexWithinParent()];const r=t.getChildAtIndex(e);if(r){const n=new ei(qr(t.__key,e,"element"),qr(t.__key,e,"element"),0,""),i=t.insertNewAfter(n);i&&i.append(r,...r.getNextSiblings())}return[n,t.getIndexWithinParent()+1]}let wi=null,Ei=null,Pi=!1,Di=!1,Fi=0;const Ii={characterData:!0,childList:!0,subtree:!0};function Oi(){return Pi||null!==wi&&wi._readOnly}function Li(){Pi&&H(13)}function Ai(){Fi>99&&H(14)}function Mi(){return null===wi&&H(15),wi}function Wi(){return null===Ei&&H(16),Ei}function Bi(t,e,n){const r=e.__type,i=function(t,e){const n=t._nodes.get(e);return void 0===n&&H(30,e),n}(t,r);let s=n.get(r);void 0===s&&(s=Array.from(i.transforms),n.set(r,s));const o=s.length;for(let t=0;t<o&&(s[t](e),e.isAttached());t++);}function Ri(t,e){return void 0!==t&&t.__key!==e&&t.isAttached()}function Ji(t,e){const n=t.type,r=e.get(n);void 0===r&&H(17,n);const i=r.klass;t.type!==i.getType()&&H(18,i.name);const s=i.importJSON(t),o=t.children;if(Gi(s)&&Array.isArray(o))for(let t=0;t<o.length;t++){const n=Ji(o[t],e);s.append(n)}return s}function Ui(t,e){const n=wi,r=Pi,i=Ei;wi=t,Pi=!0,Ei=null;try{return e()}finally{wi=n,Pi=r,Ei=i}}function Vi(t,n){const r=t._pendingEditorState,i=t._rootElement,s=t._headless||null===i;if(null===r)return;const o=t._editorState,l=o._selection,c=r._selection,u=0!==t._dirtyType,a=wi,f=Pi,d=Ei,h=t._updating,g=t._observer;let _=null;if(t._pendingEditorState=null,t._editorState=r,!s&&u&&null!==g){Ei=t,wi=r,Pi=!1,t._updating=!0;try{const e=t._dirtyType,n=t._dirtyElements,i=t._dirtyLeaves;g.disconnect(),_=function(t,e,n,r,i,s){Cn="",wn="",bn="",En=2===r,Dn=null,_n=n,gn=n._config,pn=n._nodes,yn=_n._listeners.mutation,mn=i,xn=s,vn=t._nodeMap,Tn=e._nodeMap,Pn=e._readOnly,Sn=new Map(n._keyToDOMMap);const o=new Map;return kn=o,Vn("root",null),_n=void 0,pn=void 0,mn=void 0,xn=void 0,vn=void 0,Tn=void 0,gn=void 0,Sn=void 0,kn=void 0,o}(o,r,t,e,n,i)}catch(e){if(e instanceof Error&&t._onError(e),Di)throw e;return _s(t,null,i,r),Vt(t),t._dirtyType=2,Di=!0,Vi(t,o),void(Di=!1)}finally{g.observe(i,Ii),t._updating=h,wi=a,Pi=f,Ei=d}}r._readOnly||(r._readOnly=!0);const p=t._dirtyLeaves,y=t._dirtyElements,m=t._normalizedNodes,x=t._updateTags,v=t._deferred;u&&(t._dirtyType=0,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements=new Map,t._normalizedNodes=new Set,t._updateTags=new Set),function(t,e){const n=t._decorators;let r=t._pendingDecorators||n;const i=e._nodeMap;let s;for(s in r)i.has(s)||(r===n&&(r=ge(t)),delete r[s])}(t,r);const T=s?null:on(t._window);if(t._editable&&null!==T&&(u||null===c||c.dirty)){Ei=t,wi=r;try{if(null!==g&&g.disconnect(),u||null===c||c.dirty){const e=t._blockCursorElement;null!==e&&rn(e,t,i),function(t,e,n,r,i,s,o){const l=r.anchorNode,c=r.focusNode,u=r.anchorOffset,a=r.focusOffset,f=document.activeElement;if(i.has("collaboration")&&f!==s||null!==f&&Zt(f))return;if(!ti(e))return void(null!==t&&Gt(n,l,c)&&r.removeAllRanges());const d=e.anchor,h=e.focus,g=d.key,_=h.key,p=Ve(n,g),y=Ve(n,_),m=d.offset,x=h.offset,v=e.format,T=e.style,S=e.isCollapsed();let k=p,C=y,b=!1;if("text"===d.type){k=re(p);const t=d.getNode();b=t.getFormat()!==v||t.getStyle()!==T}else ti(t)&&"text"===t.anchor.type&&(b=!0);var N,w,E,P,D;if("text"===h.type&&(C=re(y)),null!==k&&null!==C&&(S&&(null===t||b||ti(t)&&(t.format!==v||t.style!==T))&&(N=v,w=T,E=m,P=g,D=performance.now(),lr=[N,w,E,P,D]),u!==m||a!==x||l!==k||c!==C||"Range"===r.type&&S||(null!==f&&s.contains(f)||s.focus({preventScroll:!0}),"element"===d.type))){try{r.setBaseAndExtent(k,m,C,x)}catch(t){}if(!i.has("skip-scroll-into-view")&&e.isCollapsed()&&null!==s&&s===document.activeElement){const t=e instanceof ei&&"element"===e.anchor.type?k.childNodes[m]||null:r.rangeCount>0?r.getRangeAt(0):null;if(null!==t){let e;if(t instanceof Text){const n=document.createRange();n.selectNode(t),e=n.getBoundingClientRect()}else e=t.getBoundingClientRect();!function(t,e,n){const r=n.ownerDocument,i=r.defaultView;if(null===i)return;let{top:s,bottom:o}=e,l=0,c=0,u=n;for(;null!==u;){const e=u===r.body;if(e)l=0,c=Qe(t).innerHeight;else{const t=u.getBoundingClientRect();l=t.top,c=t.bottom}let n=0;if(s<l?n=-(l-s):o>c&&(n=o-c),0!==n)if(e)i.scrollBy(0,n);else{const t=u.scrollTop;u.scrollTop+=n;const e=u.scrollTop-t;s-=e,o-=e}if(e)break;u=$e(u)}}(n,e,s)}}rr=!0}}(l,c,t,T,x,i)}(function(t,e,n){let r=t._blockCursorElement;if(ti(n)&&n.isCollapsed()&&"element"===n.anchor.type&&e.contains(document.activeElement)){const i=n.anchor,s=i.getNode(),o=i.offset;let l=!1,c=null;if(o===s.getChildrenSize())nn(s.getChildAtIndex(o-1))&&(l=!0);else{const e=s.getChildAtIndex(o);if(nn(e)){const n=e.getPreviousSibling();(null===n||nn(n))&&(l=!0,c=t.getElementByKey(e.__key))}}if(l){const n=t.getElementByKey(s.__key);return null===r&&(t._blockCursorElement=r=function(t){const e=t.theme,n=document.createElement("div");n.contentEditable="false",n.setAttribute("data-lexical-cursor","true");let r=e.blockCursor;if(void 0!==r){if("string"==typeof r){const t=Lt(r);r=e.blockCursor=t}void 0!==r&&n.classList.add(...r)}return n}(t._config)),e.style.caretColor="transparent",void(null===c?n.appendChild(r):n.insertBefore(r,c))}}null!==r&&rn(r,t,e)})(t,i,c),null!==g&&g.observe(i,Ii)}finally{Ei=d,wi=a}}null!==_&&function(t,e,n,r,i){const s=Array.from(t._listeners.mutation),o=s.length;for(let t=0;t<o;t++){const[o,l]=s[t],c=e.get(l);void 0!==c&&o(c,{dirtyLeaves:r,prevEditorState:i,updateTags:n})}}(t,_,x,p,o),ti(c)||null===c||null!==l&&l.is(c)||t.dispatchCommand(e,void 0);const S=t._pendingDecorators;null!==S&&(t._decorators=S,t._pendingDecorators=null,$i("decorator",t,!0,S)),function(t,e,n){const r=_e(e),i=_e(n);r!==i&&$i("textcontent",t,!0,i)}(t,n||o,r),$i("update",t,!0,{dirtyElements:y,dirtyLeaves:p,editorState:r,normalizedNodes:m,prevEditorState:n||o,tags:x}),function(t,e){if(t._deferred=[],0!==e.length){const n=t._updating;t._updating=!0;try{for(let t=0;t<e.length;t++)e[t]()}finally{t._updating=n}}}(t,v),function(t){const e=t._updates;if(0!==e.length){const n=e.shift();if(n){const[e,r]=n;qi(t,e,r)}}}(t)}function $i(t,e,n,...r){const i=e._updating;e._updating=n;try{const n=Array.from(e._listeners[t]);for(let t=0;t<n.length;t++)n[t].apply(null,r)}finally{e._updating=i}}function ji(t,e){const n=t._updates;let r=e||!1;for(;0!==n.length;){const e=n.shift();if(e){const[n,i]=e;let s,o;void 0!==i&&(s=i.onUpdate,o=i.tag,i.skipTransforms&&(r=!0),s&&t._deferred.push(s),o&&t._updateTags.add(o)),n()}}return r}function qi(t,e,n){const r=t._updateTags;let i,s,o=!1,l=!1;void 0!==n&&(i=n.onUpdate,s=n.tag,null!=s&&r.add(s),o=n.skipTransforms||!1,l=n.discrete||!1),i&&t._deferred.push(i);const c=t._editorState;let u=t._pendingEditorState,a=!1;(null===u||u._readOnly)&&(u=t._pendingEditorState=new ss(new Map((u||c)._nodeMap)),a=!0),u._flushSync=l;const f=wi,d=Pi,h=Ei,g=t._updating;wi=u,Pi=!1,t._updating=!0,Ei=t;try{a&&(t._headless?null!==c._selection&&(u._selection=c._selection.clone()):u._selection=function(t){const e=t.getEditorState()._selection,n=on(t._window);return ti(e)||null==e?_i(e,n,t,null):e.clone()}(t));const n=t._compositionKey;e(),o=ji(t,o),function(t,e){const n=e.getEditorState()._selection,r=t._selection;if(ti(r)){const t=r.anchor,e=r.focus;let i;if("text"===t.type&&(i=t.getNode(),i.selectionTransform(n,r)),"text"===e.type){const t=e.getNode();i!==t&&t.selectionTransform(n,r)}}}(u,t),0!==t._dirtyType&&(o?function(t,e){const n=e._dirtyLeaves,r=t._nodeMap;for(const t of n){const e=r.get(t);Ur(e)&&e.isAttached()&&e.isSimpleText()&&!e.isUnmergeable()&&jt(e)}}(u,t):function(t,e){const n=e._dirtyLeaves,r=e._dirtyElements,i=t._nodeMap,s=ae(),o=new Map;let l=n,c=l.size,u=r,a=u.size;for(;c>0||a>0;){if(c>0){e._dirtyLeaves=new Set;for(const t of l){const r=i.get(t);Ur(r)&&r.isAttached()&&r.isSimpleText()&&!r.isUnmergeable()&&jt(r),void 0!==r&&Ri(r,s)&&Bi(e,r,o),n.add(t)}if(l=e._dirtyLeaves,c=l.size,c>0){Fi++;continue}}e._dirtyLeaves=new Set,e._dirtyElements=new Map;for(const t of u){const n=t[0],l=t[1];if("root"!==n&&!l)continue;const c=i.get(n);void 0!==c&&Ri(c,s)&&Bi(e,c,o),r.set(n,l)}l=e._dirtyLeaves,c=l.size,u=e._dirtyElements,a=u.size,Fi++}e._dirtyLeaves=n,e._dirtyElements=r}(u,t),ji(t),function(t,e,n,r){const i=t._nodeMap,s=e._nodeMap,o=[];for(const[t]of r){const e=s.get(t);void 0!==e&&(e.isAttached()||(Gi(e)&&hn(e,t,i,s,o,r),i.has(t)||r.delete(t),o.push(t)))}for(const t of o)s.delete(t);for(const t of n){const e=s.get(t);void 0===e||e.isAttached()||(i.has(t)||n.delete(t),s.delete(t))}}(c,u,t._dirtyLeaves,t._dirtyElements)),n!==t._compositionKey&&(u._flushSync=!0);const r=u._selection;if(ti(r)){const t=u._nodeMap,e=r.anchor.key,n=r.focus.key;void 0!==t.get(e)&&void 0!==t.get(n)||H(19)}else ni(r)&&0===r._nodes.size&&(u._selection=null)}catch(e){return e instanceof Error&&t._onError(e),t._pendingEditorState=c,t._dirtyType=2,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),void Vi(t)}finally{wi=f,Pi=d,Ei=h,t._updating=g,Fi=0}0!==t._dirtyType||function(t,e){const n=e.getEditorState()._selection,r=t._selection;if(null!==r){if(r.dirty||!r.is(n))return!0}else if(null!==n)return!0;return!1}(u,t)?u._flushSync?(u._flushSync=!1,Vi(t)):a&&Yt(()=>{Vi(t)}):(u._flushSync=!1,a&&(r.clear(),t._deferred=[],t._pendingEditorState=null))}function Qi(t,e,n){t._updating?t._updates.push([e,n]):qi(t,e,n)}class Xi extends vr{constructor(t){super(t)}decorate(t,e){H(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function Yi(t){return t instanceof Xi}class Zi extends vr{constructor(t){super(t),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__indent=0,this.__dir=null}getFormat(){return this.getLatest().__format}getFormatType(){const t=this.getFormat();return Ft[t]||""}getIndent(){return this.getLatest().__indent}getChildren(){const t=[];let e=this.getFirstChild();for(;null!==e;)t.push(e),e=e.getNextSibling();return t}getChildrenKeys(){const t=[];let e=this.getFirstChild();for(;null!==e;)t.push(e.__key),e=e.getNextSibling();return t}getChildrenSize(){return this.getLatest().__size}isEmpty(){return 0===this.getChildrenSize()}isDirty(){const t=Wi()._dirtyElements;return null!==t&&t.has(this.__key)}isLastChild(){const t=this.getLatest(),e=this.getParentOrThrow().getLastChild();return null!==e&&e.is(t)}getAllTextNodes(){const t=[];let e=this.getFirstChild();for(;null!==e;){if(Ur(e)&&t.push(e),Gi(e)){const n=e.getAllTextNodes();t.push(...n)}e=e.getNextSibling()}return t}getFirstDescendant(){let t=this.getFirstChild();for(;Gi(t);){const e=t.getFirstChild();if(null===e)break;t=e}return t}getLastDescendant(){let t=this.getLastChild();for(;Gi(t);){const e=t.getLastChild();if(null===e)break;t=e}return t}getDescendantByIndex(t){const e=this.getChildren(),n=e.length;if(t>=n){const t=e[n-1];return Gi(t)&&t.getLastDescendant()||t||null}const r=e[t];return Gi(r)&&r.getFirstDescendant()||r||null}getFirstChild(){const t=this.getLatest().__first;return null===t?null:fe(t)}getFirstChildOrThrow(){const t=this.getFirstChild();return null===t&&H(45,this.__key),t}getLastChild(){const t=this.getLatest().__last;return null===t?null:fe(t)}getLastChildOrThrow(){const t=this.getLastChild();return null===t&&H(96,this.__key),t}getChildAtIndex(t){const e=this.getChildrenSize();let n,r;if(t<e/2){for(n=this.getFirstChild(),r=0;null!==n&&r<=t;){if(r===t)return n;n=n.getNextSibling(),r++}return null}for(n=this.getLastChild(),r=e-1;null!==n&&r>=t;){if(r===t)return n;n=n.getPreviousSibling(),r--}return null}getTextContent(){let t="";const e=this.getChildren(),n=e.length;for(let r=0;r<n;r++){const i=e[r];t+=i.getTextContent(),Gi(i)&&r!==n-1&&!i.isInline()&&(t+=St)}return t}getTextContentSize(){let t=0;const e=this.getChildren(),n=e.length;for(let r=0;r<n;r++){const i=e[r];t+=i.getTextContentSize(),Gi(i)&&r!==n-1&&!i.isInline()&&(t+=St.length)}return t}getDirection(){return this.getLatest().__dir}hasFormat(t){if(""!==t){const e=Dt[t];return!!(this.getFormat()&e)}return!1}select(t,e){Li();const n=pi();let r=t,i=e;const s=this.getChildrenSize();if(!this.canBeEmpty())if(0===t&&0===e){const t=this.getFirstChild();if(Ur(t)||Gi(t))return t.select(0,0)}else if(!(void 0!==t&&t!==s||void 0!==e&&e!==s)){const t=this.getLastChild();if(Ur(t)||Gi(t))return t.select()}void 0===r&&(r=s),void 0===i&&(i=s);const o=this.__key;return ti(n)?(n.anchor.set(o,r,"element"),n.focus.set(o,i,"element"),n.dirty=!0,n):fi(o,r,o,i,"element","element")}selectStart(){const t=this.getFirstDescendant();return t?t.selectStart():this.select()}selectEnd(){const t=this.getLastDescendant();return t?t.selectEnd():this.select()}clear(){const t=this.getWritable();return this.getChildren().forEach(t=>t.remove()),t}append(...t){return this.splice(this.getChildrenSize(),0,t)}setDirection(t){const e=this.getWritable();return e.__dir=t,e}setFormat(t){return this.getWritable().__format=""!==t?Dt[t]:0,this}setIndent(t){return this.getWritable().__indent=t,this}splice(t,e,n){const r=n.length,i=this.getChildrenSize(),s=this.getWritable(),o=s.__key,l=[],c=[],u=this.getChildAtIndex(t+e);let a=null,f=i-e+r;if(0!==t)if(t===i)a=this.getLastChild();else{const e=this.getChildAtIndex(t);null!==e&&(a=e.getPreviousSibling())}if(e>0){let t=null===a?this.getFirstChild():a.getNextSibling();for(let n=0;n<e;n++){null===t&&H(100);const e=t.getNextSibling(),n=t.__key;le(t.getWritable()),c.push(n),t=e}}let d=a;for(let t=0;t<r;t++){const e=n[t];null!==d&&e.is(d)&&(a=d=d.getPreviousSibling());const r=e.getWritable();r.__parent===o&&f--,le(r);const i=e.__key;if(null===d)s.__first=i,r.__prev=null;else{const t=d.getWritable();t.__next=i,r.__prev=t.__key}e.__key===o&&H(76),r.__parent=o,l.push(i),d=e}if(t+e===i)null!==d&&(d.getWritable().__next=null,s.__last=d.__key);else if(null!==u){const t=u.getWritable();if(null!==d){const e=d.getWritable();t.__prev=d.__key,e.__next=u.__key}else t.__prev=null}if(s.__size=f,c.length){const t=pi();if(ti(t)){const e=new Set(c),n=new Set(l),{anchor:r,focus:i}=t;ts(r,e,n)&&vi(r,r.getNode(),this,a,u),ts(i,e,n)&&vi(i,i.getNode(),this,a,u),0!==f||this.canBeEmpty()||Ze(this)||this.remove()}}return s}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(t,e){return null}canIndent(){return!0}collapseAtStart(t){return!1}excludeFromCopy(t){return!1}canReplaceWith(t){return!0}canInsertAfter(t){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(t){return!1}extractWithChild(t,e,n){return!1}}function Gi(t){return t instanceof Zi}function ts(t,e,n){let r=t.getNode();for(;r;){const t=r.__key;if(e.has(t)&&!n.has(t))return!0;r=r.getParent()}return!1}class es extends Zi{static getType(){return"root"}static clone(){return new es}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){H(51)}getTextContent(){const t=this.__cachedText;return!Oi()&&0!==Wi()._dirtyType||null===t?super.getTextContent():t}remove(){H(52)}replace(t){H(53)}insertBefore(t){H(54)}insertAfter(t){H(55)}updateDOM(t,e){return!1}append(...t){for(let e=0;e<t.length;e++){const n=t[e];Gi(n)||Yi(n)||H(56)}return super.append(...t)}static importJSON(t){const e=pe();return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}}function ns(t){return t instanceof es}function rs(){return new ss(new Map([["root",new es]]))}function is(t){const e=t.exportJSON(),n=t.constructor;if(e.type!==n.getType()&&H(130,n.name),Gi(t)){const r=e.children;Array.isArray(r)||H(59,n.name);const i=t.getChildren();for(let t=0;t<i.length;t++){const e=is(i[t]);r.push(e)}}return e}class ss{constructor(t,e){this._nodeMap=t,this._selection=e||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return 1===this._nodeMap.size&&null===this._selection}read(t){return Ui(this,t)}clone(t){const e=new ss(this._nodeMap,void 0===t?this._selection:t);return e._readOnly=!0,e}toJSON(){return Ui(this,()=>({root:is(pe())}))}}class os extends Zi{constructor(t){super(t),this.__textFormat=0}static getType(){return"paragraph"}getTextFormat(){return this.getLatest().__textFormat}setTextFormat(t){const e=this.getWritable();return e.__textFormat=t,e}hasTextFormat(t){const e=Et[t];return!!(this.getTextFormat()&e)}static clone(t){return new os(t.__key)}createDOM(t){const e=document.createElement("p"),n=Me(t.theme,"paragraph");return void 0!==n&&e.classList.add(...n),e}updateDOM(t,e,n){return!1}static importDOM(){return{p:t=>({conversion:ls,priority:0})}}exportDOM(t){const{element:e}=super.exportDOM(t);if(e&&un(e)){this.isEmpty()&&e.append(document.createElement("br"));const t=this.getFormatType();e.style.textAlign=t;const n=this.getDirection();n&&(e.dir=n);const r=this.getIndent();r>0&&(e.style.textIndent=20*r+"px")}return{element:e}}static importJSON(t){const e=cs();return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e.setTextFormat(t.textFormat),e}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),type:"paragraph",version:1}}insertNewAfter(t,e){const n=cs();n.setTextFormat(t.format);const r=this.getDirection();return n.setDirection(r),n.setFormat(this.getFormatType()),this.insertAfter(n,e),n}collapseAtStart(){const t=this.getChildren();if(0===t.length||Ur(t[0])&&""===t[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0}return!1}}function ls(t){const e=cs();if(t.style){e.setFormat(t.style.textAlign);const n=parseInt(t.style.textIndent,10)/20;n>0&&e.setIndent(n)}return{node:e}}function cs(){return tn(new os)}function us(t){return t instanceof os}function _s(t,e,n,r){const i=t._keyToDOMMap;i.clear(),t._editorState=rs(),t._pendingEditorState=r,t._compositionKey=null,t._dirtyType=0,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),t._normalizedNodes=new Set,t._updateTags=new Set,t._updates=[],t._blockCursorElement=null;const s=t._observer;null!==s&&(s.disconnect(),t._observer=null),null!==e&&(e.textContent=""),null!==n&&(n.textContent="",i.set("root",n))}class ys{constructor(t,e,n,r,i,s,o){this._parentEditor=e,this._rootElement=null,this._editorState=t,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=r,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=ke(),this._onError=i,this._htmlConversions=s,this._editable=o,this._headless=null!==e&&e._headless,this._window=null,this._blockCursorElement=null}isComposing(){return null!=this._compositionKey}registerUpdateListener(t){const e=this._listeners.update;return e.add(t),()=>{e.delete(t)}}registerEditableListener(t){const e=this._listeners.editable;return e.add(t),()=>{e.delete(t)}}registerDecoratorListener(t){const e=this._listeners.decorator;return e.add(t),()=>{e.delete(t)}}registerTextContentListener(t){const e=this._listeners.textcontent;return e.add(t),()=>{e.delete(t)}}registerRootListener(t){const e=this._listeners.root;return t(this._rootElement,null),e.add(t),()=>{t(null,this._rootElement),e.delete(t)}}registerCommand(t,e,n){void 0===n&&H(35);const r=this._commands;r.has(t)||r.set(t,[new Set,new Set,new Set,new Set,new Set]);const i=r.get(t);void 0===i&&H(36,String(t));const s=i[n];return s.add(e),()=>{s.delete(e),i.every(t=>0===t.size)&&r.delete(t)}}registerMutationListener(t,e){void 0===this._nodes.get(t.getType())&&H(37,t.name);const n=this._listeners.mutation;return n.set(e,t),()=>{n.delete(e)}}registerNodeTransformToKlass(t,e){const n=t.getType(),r=this._nodes.get(n);return void 0===r&&H(37,t.name),r.transforms.add(e),r}registerNodeTransform(t,e){const n=this.registerNodeTransformToKlass(t,e),r=[n],i=n.replaceWithKlass;if(null!=i){const t=this.registerNodeTransformToKlass(i,e);r.push(t)}var o;return this,o=t.getType(),Qi(this,()=>{const t=Mi();if(t.isEmpty())return;if("root"===o)return void pe().markDirty();const e=t._nodeMap;for(const[,t]of e)t.markDirty()},null===this._pendingEditorState?{tag:"history-merge"}:void 0),()=>{r.forEach(t=>t.transforms.delete(e))}}hasNode(t){return this._nodes.has(t.getType())}hasNodes(t){return t.every(this.hasNode.bind(this))}dispatchCommand(t,e){return Je(this,t,e)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(t){const e=this._rootElement;if(t!==e){const n=Me(this._config.theme,"root"),r=this._pendingEditorState||this._editorState;if(this._rootElement=t,_s(this,e,t,r),null!==e&&(this._config.disableEvents||function(t){const e=t.ownerDocument,n=nr.get(e);if(void 0===n)throw Error("Root element not registered");nr.set(e,n-1),0===nr.get(e)&&e.removeEventListener("selectionchange",_r);const r=t.__lexicalEditor;null!=r&&(function(t){if(null!==t._parentEditor){const e=Se(t),n=e[e.length-1]._key;gr.get(n)===t&&gr.delete(n)}else gr.delete(t._key)}(r),t.__lexicalEditor=null);const i=hr(t);for(let t=0;t<i.length;t++)i[t]();t.__lexicalEventHandles=[]}(e),null!=n&&e.classList.remove(...n)),null!==t){const e=function(t){const e=t.ownerDocument;return e&&e.defaultView||null}(t),r=t.style;r.userSelect="text",r.whiteSpace="pre-wrap",r.wordBreak="break-word",t.setAttribute("data-lexical-editor","true"),this._window=e,this._dirtyType=2,Vt(this),this._updateTags.add("history-merge"),Vi(this),this._config.disableEvents||function(t,e){const n=t.ownerDocument,r=nr.get(n);(void 0===r||r<1)&&n.addEventListener("selectionchange",_r),nr.set(n,r||1),t.__lexicalEditor=e;const i=hr(t);for(let n=0;n<Yn.length;n++){const[r,s]=Yn[n],o="function"==typeof s?t=>{yr(t)||(pr(t),(e.isEditable()||"click"===r)&&s(t,e))}:t=>{if(!yr(t)&&(pr(t),e.isEditable()))switch(r){case"cut":return Je(e,W,t);case"copy":return Je(e,M,t);case"paste":return Je(e,c,t);case"dragstart":return Je(e,O,t);case"dragover":return Je(e,L,t);case"dragend":return Je(e,A,t);case"focus":return Je(e,U,t);case"blur":return Je(e,V,t);case"drop":return Je(e,F,t)}};t.addEventListener(r,o),i.push(()=>{t.removeEventListener(r,o)})}}(t,this),null!=n&&t.classList.add(...n)}else this._editorState=r,this._pendingEditorState=null,this._window=null;$i("root",this,!1,t,e)}}getElementByKey(t){return this._keyToDOMMap.get(t)||null}getEditorState(){return this._editorState}setEditorState(t,e){t.isEmpty()&&H(38),Ut(this);const n=this._pendingEditorState,r=this._updateTags,i=void 0!==e?e.tag:null;null===n||n.isEmpty()||(null!=i&&r.add(i),Vi(this)),this._pendingEditorState=t,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=i&&r.add(i),Vi(this)}parseEditorState(t,e){return function(t,e,n){const r=rs(),s=Pi,o=Ei,l=e._dirtyElements,c=e._dirtyLeaves,u=e._cloneNotNeeded,a=e._dirtyType;e._dirtyElements=new Map,e._dirtyLeaves=new Set,e._cloneNotNeeded=new Set,e._dirtyType=0,wi=r,Pi=!1,Ei=e;try{const i=e._nodes;Ji(t.root,i),n&&n(),r._readOnly=!0}catch(t){t instanceof Error&&e._onError(t)}finally{e._dirtyElements=l,e._dirtyLeaves=c,e._cloneNotNeeded=u,e._dirtyType=a,wi=i,Pi=s,Ei=o}return r}("string"==typeof t?JSON.parse(t):t,this,e)}update(t,e){Qi(this,t,e)}focus(t,e={}){const n=this._rootElement;null!==n&&(n.setAttribute("autocapitalize","off"),Qi(this,()=>{const t=pi(),n=pe();null!==t?t.dirty=!0:0!==n.getChildrenSize()&&("rootStart"===e.defaultSelection?n.selectStart():n.selectEnd())},{onUpdate:()=>{n.removeAttribute("autocapitalize"),t&&t()},tag:"focus"}),null===this._pendingEditorState&&n.removeAttribute("autocapitalize"))}blur(){const t=this._rootElement;null!==t&&t.blur();const e=on(this._window);null!==e&&e.removeAllRanges()}isEditable(){return this._editable}setEditable(t){this._editable!==t&&(this._editable=t,$i("editable",this,!0,t))}toJSON(){return{editorState:this._editorState.toJSON()}}}const mod=Object.freeze({$addUpdateTag:function(t){Li(),Wi()._updateTags.add(t)},$applyNodeReplacement:tn,$copyNode:Ge,$createLineBreakNode:kr,$createNodeSelection:hi,$createParagraphNode:cs,$createPoint:qr,$createRangeSelection:function(){const t=qr("root",0,"element"),e=qr("root",0,"element");return new ei(t,e,0,"")},$createRangeSelectionFromDom:function(t,e){return _i(null,t,e,null)},$createTabNode:$r,$createTextNode:Jr,$getAdjacentNode:Re,$getCharacterOffsets:ii,$getEditor:function(){return Wi()},$getNearestNodeFromDOMNode:he,$getNearestRootOrShadowRoot:Ye,$getNodeByKey:fe,$getPreviousSelection:yi,$getRoot:pe,$getSelection:pi,$getTextContent:function(){const t=pi();return null===t?"":t.getTextContent()},$hasAncestor:qe,$hasUpdateTag:function(t){return Wi()._updateTags.has(t)},$insertNodes:function(t){let e=pi()||yi();null===e&&(e=pe().selectEnd()),e.insertNodes(t)},$isBlockElementNode:function(t){return Gi(t)&&!t.isInline()},$isDecoratorNode:Yi,$isElementNode:Gi,$isInlineElementOrDecoratorNode:function(t){return Gi(t)&&t.isInline()||Yi(t)&&t.isInline()},$isLeafNode:function(t){return Ur(t)||Cr(t)||Yi(t)},$isLineBreakNode:Cr,$isNodeSelection:ni,$isParagraphNode:us,$isRangeSelection:ti,$isRootNode:ns,$isRootOrShadowRoot:Ze,$isTabNode:Hr,$isTextNode:Ur,$nodesOfType:function(t){const e=Mi(),n=e._readOnly,r=t.getType(),i=e._nodeMap,s=[];for(const[,e]of i)e instanceof t&&e.__type===r&&(n||e.isAttached())&&s.push(e);return s},$normalizeSelection__EXPERIMENTAL:qt,$parseSerializedNode:function(t){return Ji(t,Wi()._nodes)},$selectAll:function(){const t=pe();me(qt(t.select(0,t.getChildrenSize())))},$setCompositionKey:ue,$setSelection:me,$splitNode:function(t,e){let n=t.getChildAtIndex(e);null==n&&(n=t),Ze(t)&&H(102);const r=t=>{const e=t.getParentOrThrow(),i=Ze(e),s=t!==n||i?Ge(t):t;if(i)return Gi(t)&&Gi(s)||H(133),t.insertAfter(s),[t,s,s];{const[n,i,o]=r(e),l=t.getNextSiblings();return o.append(s,...l),[n,i,s]}},[i,s]=r(n);return[i,s]},BLUR_COMMAND:V,CAN_REDO_COMMAND:{},CAN_UNDO_COMMAND:{},CLEAR_EDITOR_COMMAND:{},CLEAR_HISTORY_COMMAND:{},CLICK_COMMAND:r,COMMAND_PRIORITY_CRITICAL:4,COMMAND_PRIORITY_EDITOR:0,COMMAND_PRIORITY_HIGH:3,COMMAND_PRIORITY_LOW:1,COMMAND_PRIORITY_NORMAL:2,CONTROLLED_TEXT_INSERTION_COMMAND:l,COPY_COMMAND:M,CUT_COMMAND:W,DELETE_CHARACTER_COMMAND:i,DELETE_LINE_COMMAND:f,DELETE_WORD_COMMAND:a,DRAGEND_COMMAND:A,DRAGOVER_COMMAND:L,DRAGSTART_COMMAND:O,DROP_COMMAND:F,DecoratorNode:Xi,ElementNode:Zi,FOCUS_COMMAND:U,FORMAT_ELEMENT_COMMAND:{},FORMAT_TEXT_COMMAND:d,INDENT_CONTENT_COMMAND:{},INSERT_LINE_BREAK_COMMAND:s,INSERT_PARAGRAPH_COMMAND:o,INSERT_TAB_COMMAND:{},KEY_ARROW_DOWN_COMMAND:T,KEY_ARROW_LEFT_COMMAND:m,KEY_ARROW_RIGHT_COMMAND:p,KEY_ARROW_UP_COMMAND:v,KEY_BACKSPACE_COMMAND:C,KEY_DELETE_COMMAND:N,KEY_DOWN_COMMAND:_,KEY_ENTER_COMMAND:S,KEY_ESCAPE_COMMAND:b,KEY_MODIFIER_COMMAND:$,KEY_SPACE_COMMAND:k,KEY_TAB_COMMAND:w,LineBreakNode:Tr,MOVE_TO_END:y,MOVE_TO_START:x,OUTDENT_CONTENT_COMMAND:{},PASTE_COMMAND:c,ParagraphNode:os,REDO_COMMAND:g,REMOVE_TEXT_COMMAND:u,RootNode:es,SELECTION_CHANGE_COMMAND:e,SELECTION_INSERT_CLIPBOARD_NODES_COMMAND:{},SELECT_ALL_COMMAND:z,TabNode:Vr,TextNode:Ir,UNDO_COMMAND:h,createCommand:function(t){return{}},createEditor:function(t){const e=t||{},n=Ei,r=e.theme||{},i=void 0===t?n:e.parentEditor||null,s=e.disableEvents||!1,o=rs(),l=e.namespace||(null!==i?i._config.namespace:ke()),c=e.editorState,u=[es,Ir,Tr,Vr,os,...e.nodes||[]],{onError:a,html:f}=e,d=void 0===e.editable||e.editable;let h;if(void 0===t&&null!==n)h=n._nodes;else{h=new Map;for(let t=0;t<u.length;t++){let e=u[t],n=null,r=null;if("function"!=typeof e){const t=e;e=t.replace,n=t.with,r=t.withKlass||null}const i=e.getType(),s=e.transform(),o=new Set;null!==s&&o.add(s),h.set(i,{exportDOM:f&&f.export?f.export.get(e):void 0,klass:e,replace:n,replaceWithKlass:r,transforms:o})}}const g=new ys(o,i,h,{disableEvents:s,namespace:l,theme:r},a||console.error,function(t,e){const n=new Map,r=new Set,i=t=>{Object.keys(t).forEach(e=>{let r=n.get(e);void 0===r&&(r=[],n.set(e,r)),r.push(t[e])})};return t.forEach(t=>{const e=t.klass.importDOM;if(null==e||r.has(e))return;r.add(e);const n=e.call(t.klass);null!==n&&i(n)}),e&&i(e),n}(h,f?f.import:void 0),d);return void 0!==c&&(g._pendingEditorState=c,g._dirtyType=2),g},getNearestEditorFromDOMNode:te,isCurrentlyReadOnlyMode:Oi,isHTMLAnchorElement:function(t){return un(t)&&"A"===t.tagName},isHTMLElement:un,isSelectionCapturedInDecoratorInput:Zt,isSelectionWithinEditor:Gt}),$addUpdateTag$1=mod.$addUpdateTag,$applyNodeReplacement$1=mod.$applyNodeReplacement,$copyNode$1=mod.$copyNode,$createLineBreakNode$1=mod.$createLineBreakNode,$createNodeSelection$1=mod.$createNodeSelection,$createParagraphNode$1=mod.$createParagraphNode,$createPoint$1=mod.$createPoint,$createRangeSelection$1=mod.$createRangeSelection,$createRangeSelectionFromDom$1=mod.$createRangeSelectionFromDom,$createTabNode$1=mod.$createTabNode,$createTextNode$1=mod.$createTextNode,$getAdjacentNode$1=mod.$getAdjacentNode,$getCharacterOffsets$1=mod.$getCharacterOffsets,$getEditor$1=mod.$getEditor,$getNearestNodeFromDOMNode$1=mod.$getNearestNodeFromDOMNode,$getNearestRootOrShadowRoot$1=mod.$getNearestRootOrShadowRoot,$getNodeByKey$1=mod.$getNodeByKey,$getPreviousSelection$1=mod.$getPreviousSelection,$getRoot$1=mod.$getRoot,$getSelection$1=mod.$getSelection,$getTextContent$1=mod.$getTextContent,$hasAncestor$1=mod.$hasAncestor,$hasUpdateTag$1=mod.$hasUpdateTag,$insertNodes$1=mod.$insertNodes,$isBlockElementNode$1=mod.$isBlockElementNode,$isDecoratorNode$1=mod.$isDecoratorNode,$isElementNode$1=mod.$isElementNode,$isInlineElementOrDecoratorNode$1=mod.$isInlineElementOrDecoratorNode,$isLeafNode$1=mod.$isLeafNode,$isLineBreakNode$1=mod.$isLineBreakNode,$isNodeSelection$1=mod.$isNodeSelection,$isParagraphNode$1=mod.$isParagraphNode,$isRangeSelection$1=mod.$isRangeSelection,$isRootNode$1=mod.$isRootNode,$isRootOrShadowRoot$1=mod.$isRootOrShadowRoot,$isTabNode$1=mod.$isTabNode,$isTextNode$1=mod.$isTextNode,$nodesOfType$1=mod.$nodesOfType,$normalizeSelection__EXPERIMENTAL=mod.$normalizeSelection__EXPERIMENTAL,$parseSerializedNode$1=mod.$parseSerializedNode,$selectAll$1=mod.$selectAll,$setCompositionKey$1=mod.$setCompositionKey,$setSelection$1=mod.$setSelection,$splitNode$1=mod.$splitNode,BLUR_COMMAND$1=mod.BLUR_COMMAND,CAN_REDO_COMMAND$1=mod.CAN_REDO_COMMAND,CAN_UNDO_COMMAND$1=mod.CAN_UNDO_COMMAND,CLEAR_EDITOR_COMMAND$1=mod.CLEAR_EDITOR_COMMAND,CLEAR_HISTORY_COMMAND$1=mod.CLEAR_HISTORY_COMMAND,CLICK_COMMAND$1=mod.CLICK_COMMAND,COMMAND_PRIORITY_CRITICAL$1=mod.COMMAND_PRIORITY_CRITICAL,COMMAND_PRIORITY_EDITOR$1=mod.COMMAND_PRIORITY_EDITOR,COMMAND_PRIORITY_HIGH$1=mod.COMMAND_PRIORITY_HIGH,COMMAND_PRIORITY_LOW$1=mod.COMMAND_PRIORITY_LOW,COMMAND_PRIORITY_NORMAL$1=mod.COMMAND_PRIORITY_NORMAL,CONTROLLED_TEXT_INSERTION_COMMAND$1=mod.CONTROLLED_TEXT_INSERTION_COMMAND,COPY_COMMAND$1=mod.COPY_COMMAND,CUT_COMMAND$1=mod.CUT_COMMAND,DELETE_CHARACTER_COMMAND$1=mod.DELETE_CHARACTER_COMMAND,DELETE_LINE_COMMAND$1=mod.DELETE_LINE_COMMAND,DELETE_WORD_COMMAND$1=mod.DELETE_WORD_COMMAND,DRAGEND_COMMAND$1=mod.DRAGEND_COMMAND,DRAGOVER_COMMAND$1=mod.DRAGOVER_COMMAND,DRAGSTART_COMMAND$1=mod.DRAGSTART_COMMAND,DROP_COMMAND$1=mod.DROP_COMMAND,DecoratorNode$1=mod.DecoratorNode,ElementNode$1=mod.ElementNode,FOCUS_COMMAND$1=mod.FOCUS_COMMAND,FORMAT_ELEMENT_COMMAND$1=mod.FORMAT_ELEMENT_COMMAND,FORMAT_TEXT_COMMAND$1=mod.FORMAT_TEXT_COMMAND,INDENT_CONTENT_COMMAND$1=mod.INDENT_CONTENT_COMMAND,INSERT_LINE_BREAK_COMMAND$1=mod.INSERT_LINE_BREAK_COMMAND,INSERT_PARAGRAPH_COMMAND$1=mod.INSERT_PARAGRAPH_COMMAND,INSERT_TAB_COMMAND$1=mod.INSERT_TAB_COMMAND,KEY_ARROW_DOWN_COMMAND$1=mod.KEY_ARROW_DOWN_COMMAND,KEY_ARROW_LEFT_COMMAND$1=mod.KEY_ARROW_LEFT_COMMAND,KEY_ARROW_RIGHT_COMMAND$1=mod.KEY_ARROW_RIGHT_COMMAND,KEY_ARROW_UP_COMMAND$1=mod.KEY_ARROW_UP_COMMAND,KEY_BACKSPACE_COMMAND$1=mod.KEY_BACKSPACE_COMMAND,KEY_DELETE_COMMAND$1=mod.KEY_DELETE_COMMAND,KEY_DOWN_COMMAND$1=mod.KEY_DOWN_COMMAND,KEY_ENTER_COMMAND$1=mod.KEY_ENTER_COMMAND,KEY_ESCAPE_COMMAND$1=mod.KEY_ESCAPE_COMMAND,KEY_MODIFIER_COMMAND$1=mod.KEY_MODIFIER_COMMAND,KEY_SPACE_COMMAND$1=mod.KEY_SPACE_COMMAND,KEY_TAB_COMMAND$1=mod.KEY_TAB_COMMAND,LineBreakNode$1=mod.LineBreakNode,MOVE_TO_END$1=mod.MOVE_TO_END,MOVE_TO_START$1=mod.MOVE_TO_START,OUTDENT_CONTENT_COMMAND$1=mod.OUTDENT_CONTENT_COMMAND,PASTE_COMMAND$1=mod.PASTE_COMMAND,ParagraphNode$1=mod.ParagraphNode,REDO_COMMAND$1=mod.REDO_COMMAND,REMOVE_TEXT_COMMAND$1=mod.REMOVE_TEXT_COMMAND,RootNode$1=mod.RootNode,SELECTION_CHANGE_COMMAND$1=mod.SELECTION_CHANGE_COMMAND,SELECTION_INSERT_CLIPBOARD_NODES_COMMAND$1=mod.SELECTION_INSERT_CLIPBOARD_NODES_COMMAND,SELECT_ALL_COMMAND$1=mod.SELECT_ALL_COMMAND,TabNode$1=mod.TabNode,TextNode$1=mod.TextNode,UNDO_COMMAND$1=mod.UNDO_COMMAND,createCommand$1=mod.createCommand,createEditor$1=mod.createEditor,getNearestEditorFromDOMNode$1=mod.getNearestEditorFromDOMNode,isCurrentlyReadOnlyMode$1=mod.isCurrentlyReadOnlyMode,isHTMLAnchorElement$1=mod.isHTMLAnchorElement,isHTMLElement$1=mod.isHTMLElement,isSelectionCapturedInDecoratorInput$1=mod.isSelectionCapturedInDecoratorInput,isSelectionWithinEditor$1=mod.isSelectionWithinEditor;var Lexical=Object.freeze({$addUpdateTag:$addUpdateTag$1,$applyNodeReplacement:$applyNodeReplacement$1,$copyNode:$copyNode$1,$createLineBreakNode:$createLineBreakNode$1,$createNodeSelection:$createNodeSelection$1,$createParagraphNode:$createParagraphNode$1,$createPoint:$createPoint$1,$createRangeSelection:$createRangeSelection$1,$createRangeSelectionFromDom:$createRangeSelectionFromDom$1,$createTabNode:$createTabNode$1,$createTextNode:$createTextNode$1,$getAdjacentNode:$getAdjacentNode$1,$getCharacterOffsets:$getCharacterOffsets$1,$getEditor:$getEditor$1,$getNearestNodeFromDOMNode:$getNearestNodeFromDOMNode$1,$getNearestRootOrShadowRoot:$getNearestRootOrShadowRoot$1,$getNodeByKey:$getNodeByKey$1,$getPreviousSelection:$getPreviousSelection$1,$getRoot:$getRoot$1,$getSelection:$getSelection$1,$getTextContent:$getTextContent$1,$hasAncestor:$hasAncestor$1,$hasUpdateTag:$hasUpdateTag$1,$insertNodes:$insertNodes$1,$isBlockElementNode:$isBlockElementNode$1,$isDecoratorNode:$isDecoratorNode$1,$isElementNode:$isElementNode$1,$isInlineElementOrDecoratorNode:$isInlineElementOrDecoratorNode$1,$isLeafNode:$isLeafNode$1,$isLineBreakNode:$isLineBreakNode$1,$isNodeSelection:$isNodeSelection$1,$isParagraphNode:$isParagraphNode$1,$isRangeSelection:$isRangeSelection$1,$isRootNode:$isRootNode$1,$isRootOrShadowRoot:$isRootOrShadowRoot$1,$isTabNode:$isTabNode$1,$isTextNode:$isTextNode$1,$nodesOfType:$nodesOfType$1,$normalizeSelection__EXPERIMENTAL:$normalizeSelection__EXPERIMENTAL,$parseSerializedNode:$parseSerializedNode$1,$selectAll:$selectAll$1,$setCompositionKey:$setCompositionKey$1,$setSelection:$setSelection$1,$splitNode:$splitNode$1,BLUR_COMMAND:BLUR_COMMAND$1,CAN_REDO_COMMAND:CAN_REDO_COMMAND$1,CAN_UNDO_COMMAND:CAN_UNDO_COMMAND$1,CLEAR_EDITOR_COMMAND:CLEAR_EDITOR_COMMAND$1,CLEAR_HISTORY_COMMAND:CLEAR_HISTORY_COMMAND$1,CLICK_COMMAND:CLICK_COMMAND$1,COMMAND_PRIORITY_CRITICAL:COMMAND_PRIORITY_CRITICAL$1,COMMAND_PRIORITY_EDITOR:COMMAND_PRIORITY_EDITOR$1,COMMAND_PRIORITY_HIGH:COMMAND_PRIORITY_HIGH$1,COMMAND_PRIORITY_LOW:COMMAND_PRIORITY_LOW$1,COMMAND_PRIORITY_NORMAL:COMMAND_PRIORITY_NORMAL$1,CONTROLLED_TEXT_INSERTION_COMMAND:CONTROLLED_TEXT_INSERTION_COMMAND$1,COPY_COMMAND:COPY_COMMAND$1,CUT_COMMAND:CUT_COMMAND$1,DELETE_CHARACTER_COMMAND:DELETE_CHARACTER_COMMAND$1,DELETE_LINE_COMMAND:DELETE_LINE_COMMAND$1,DELETE_WORD_COMMAND:DELETE_WORD_COMMAND$1,DRAGEND_COMMAND:DRAGEND_COMMAND$1,DRAGOVER_COMMAND:DRAGOVER_COMMAND$1,DRAGSTART_COMMAND:DRAGSTART_COMMAND$1,DROP_COMMAND:DROP_COMMAND$1,DecoratorNode:DecoratorNode$1,ElementNode:ElementNode$1,FOCUS_COMMAND:FOCUS_COMMAND$1,FORMAT_ELEMENT_COMMAND:FORMAT_ELEMENT_COMMAND$1,FORMAT_TEXT_COMMAND:FORMAT_TEXT_COMMAND$1,INDENT_CONTENT_COMMAND:INDENT_CONTENT_COMMAND$1,INSERT_LINE_BREAK_COMMAND:INSERT_LINE_BREAK_COMMAND$1,INSERT_PARAGRAPH_COMMAND:INSERT_PARAGRAPH_COMMAND$1,INSERT_TAB_COMMAND:INSERT_TAB_COMMAND$1,KEY_ARROW_DOWN_COMMAND:KEY_ARROW_DOWN_COMMAND$1,KEY_ARROW_LEFT_COMMAND:KEY_ARROW_LEFT_COMMAND$1,KEY_ARROW_RIGHT_COMMAND:KEY_ARROW_RIGHT_COMMAND$1,KEY_ARROW_UP_COMMAND:KEY_ARROW_UP_COMMAND$1,KEY_BACKSPACE_COMMAND:KEY_BACKSPACE_COMMAND$1,KEY_DELETE_COMMAND:KEY_DELETE_COMMAND$1,KEY_DOWN_COMMAND:KEY_DOWN_COMMAND$1,KEY_ENTER_COMMAND:KEY_ENTER_COMMAND$1,KEY_ESCAPE_COMMAND:KEY_ESCAPE_COMMAND$1,KEY_MODIFIER_COMMAND:KEY_MODIFIER_COMMAND$1,KEY_SPACE_COMMAND:KEY_SPACE_COMMAND$1,KEY_TAB_COMMAND:KEY_TAB_COMMAND$1,LineBreakNode:LineBreakNode$1,MOVE_TO_END:MOVE_TO_END$1,MOVE_TO_START:MOVE_TO_START$1,OUTDENT_CONTENT_COMMAND:OUTDENT_CONTENT_COMMAND$1,PASTE_COMMAND:PASTE_COMMAND$1,ParagraphNode:ParagraphNode$1,REDO_COMMAND:REDO_COMMAND$1,REMOVE_TEXT_COMMAND:REMOVE_TEXT_COMMAND$1,RootNode:RootNode$1,SELECTION_CHANGE_COMMAND:SELECTION_CHANGE_COMMAND$1,SELECTION_INSERT_CLIPBOARD_NODES_COMMAND:SELECTION_INSERT_CLIPBOARD_NODES_COMMAND$1,SELECT_ALL_COMMAND:SELECT_ALL_COMMAND$1,TabNode:TabNode$1,TextNode:TextNode$1,UNDO_COMMAND:UNDO_COMMAND$1,createCommand:createCommand$1,createEditor:createEditor$1,getNearestEditorFromDOMNode:getNearestEditorFromDOMNode$1,isCurrentlyReadOnlyMode:isCurrentlyReadOnlyMode$1,isHTMLAnchorElement:isHTMLAnchorElement$1,isHTMLElement:isHTMLElement$1,isSelectionCapturedInDecoratorInput:isSelectionCapturedInDecoratorInput$1,isSelectionWithinEditor:isSelectionWithinEditor$1});const m$1=new Map;function y$1(e){let t=e;for(;null!=t;){if(t.nodeType===Node.TEXT_NODE)return t;t=t.firstChild}return null}function T$1(e){const t=e.parentNode;if(null==t)throw new Error("Should never happen");return[t,Array.from(t.childNodes).indexOf(e)]}function N$1(e){const t={},n=e.split(";");for(const e of n)if(""!==e){const[n,o]=e.split(/:([^]+)/);n&&o&&(t[n.trim()]=o.trim())}return t}function E$1(e){let t=m$1.get(e);return void 0===t&&(t=N$1(e),m$1.set(e,t)),t}function I$1(e,t){const n=E$1("getStyle"in e?e.getStyle():e.style),o=Object.entries(t).reduce((e,[t,o])=>(o instanceof Function?e[t]=o(n[t]):null===o?delete e[t]:e[t]=o,e),{...n}||{}),l=function(e){let t="";for(const n in e)n&&(t+=`${n}: ${e[n]};`);return t}(o);e.setStyle(l),m$1.set(l,o)}function O$1(e){return e.getNode().isAttached()}function k$1(e){let t=e;for(;null!==t&&!$isRootOrShadowRoot$1(t);){const e=t.getLatest(),n=t.getParent();0===e.getChildrenSize()&&t.remove(!0),t=n}}function z$1(e,n,o,l,r=null){if(0===n.length)return;const i=n[0],f=new Map,g=[];let p=$isElementNode$1(i)?i:i.getParentOrThrow();p.isInline()&&(p=p.getParentOrThrow());let h=!1;for(;null!==p;){const e=p.getPreviousSibling();if(null!==e){p=e,h=!0;break}if(p=p.getParentOrThrow(),$isRootOrShadowRoot$1(p))break}const _=new Set;for(let e=0;e<o;e++){const o=n[e];$isElementNode$1(o)&&0===o.getChildrenSize()&&_.add(o.getKey())}const m=new Set;for(let e=0;e<o;e++){const o=n[e];let r=o.getParent();if(null!==r&&r.isInline()&&(r=r.getParent()),null!==r&&$isLeafNode$1(o)&&!m.has(o.getKey())){const e=r.getKey();if(void 0===f.get(e)){const n=l();n.setFormat(r.getFormatType()),n.setIndent(r.getIndent()),g.push(n),f.set(e,n),r.getChildren().forEach(e=>{n.append(e),m.add(e.getKey()),$isElementNode$1(e)&&e.getChildrenKeys().forEach(e=>m.add(e))}),k$1(r)}}else if(_.has(o.getKey())){if(!$isElementNode$1(o))throw Error("Expected node in emptyElements to be an ElementNode");const e=l();e.setFormat(o.getFormatType()),e.setIndent(o.getIndent()),g.push(e),o.remove(!0)}}if(null!==r)for(let e=0;e<g.length;e++){const t=g[e];r.append(t)}let y=null;if($isRootOrShadowRoot$1(p))if(h)if(null!==r)p.insertAfter(r);else for(let e=g.length-1;e>=0;e--){const t=g[e];p.insertAfter(t)}else{const e=p.getFirstChild();if($isElementNode$1(e)&&(p=e),null===e)if(r)p.append(r);else for(let e=0;e<g.length;e++){const t=g[e];p.append(t),y=t}else if(null!==r)e.insertBefore(r);else for(let t=0;t<g.length;t++){const n=g[t];e.insertBefore(n),y=n}}else if(r)p.insertAfter(r);else for(let e=g.length-1;e>=0;e--){const t=g[e];p.insertAfter(t),y=t}const T=$getPreviousSelection$1();$isRangeSelection$1(T)&&O$1(T.anchor)&&O$1(T.focus)?$setSelection$1(T.clone()):null!==y?y.selectEnd():e.dirty=!0}function R$1(e,t,n,o){e.modify(t?"extend":"move",n,o)}function D$1(e){const t=e.anchor.getNode();return"rtl"===($isRootNode$1(t)?t:t.getParentOrThrow()).getDirection()}function M$1(e,t,n){const o=E$1(e.getStyle());return null!==o&&o[t]||n}function j$1(n){if($isDecoratorNode$1(n))return!1;if(!$isElementNode$1(n)||$isRootOrShadowRoot$1(n))return!1;const o=n.getFirstChild(),l=null===o||$isLineBreakNode$1(o)||$isTextNode$1(o)||o.isInline();return!n.isInline()&&!1!==n.canBeEmpty()&&l}const mod$1=Object.freeze({$addNodeStyle:function(e){const t=e.getStyle(),n=N$1(t);m$1.set(t,n)},$cloneWithProperties:function(o){const l=o.constructor.clone(o);return l.__parent=o.__parent,l.__next=o.__next,l.__prev=o.__prev,$isElementNode$1(o)&&$isElementNode$1(l)?(s=o,(r=l).__first=s.__first,r.__last=s.__last,r.__size=s.__size,r.__format=s.__format,r.__indent=s.__indent,r.__dir=s.__dir,r):$isTextNode$1(o)&&$isTextNode$1(l)?function(e,t){return e.__format=t.__format,e.__style=t.__style,e.__mode=t.__mode,e.__detail=t.__detail,e}(l,o):$isParagraphNode$1(o)&&$isParagraphNode$1(l)?function(e,t){return e.__textFormat=t.__textFormat,e}(l,o):l;var r,s},$getSelectionStyleValueForProperty:function(t,n,o=""){let l=null;const r=t.getNodes(),s=t.anchor,i=t.focus,c=t.isBackward(),f=c?i.offset:s.offset,u=c?i.getNode():s.getNode();if(t.isCollapsed()&&""!==t.style){const e=E$1(t.style);if(null!==e&&n in e)return e[n]}for(let t=0;t<r.length;t++){const s=r[t];if((0===t||0!==f||!s.is(u))&&$isTextNode$1(s)){const e=M$1(s,n,o);if(null===l)l=e;else if(l!==e){l="";break}}}return null===l?o:l},$isAtNodeEnd:function(e){if("text"===e.type)return e.offset===e.getNode().getTextContentSize();const n=e.getNode();if(!$isElementNode$1(n))throw Error("isAtNodeEnd: node must be a TextNode or ElementNode");return e.offset===n.getChildrenSize()},$isParentElementRTL:D$1,$moveCaretSelection:R$1,$moveCharacter:function(e,t,n){const o=D$1(e);R$1(e,t,n?!o:o,"character")},$patchStyleText:function(t,n){const o=t.getNodes(),l=o.length,r=t.getStartEndPoints();if(null===r)return;const[s,i]=r,f=l-1;let u=o[0],g=o[f];if(t.isCollapsed()&&$isRangeSelection$1(t))return void I$1(t,n);const a=u.getTextContent().length,d=i.offset;let p=s.offset;const h=s.isBefore(i);let _=h?p:d,m=h?d:p;const y=h?s.type:i.type,T=h?i.type:s.type,x=h?i.key:s.key;if($isTextNode$1(u)&&_===a){const t=u.getNextSibling();$isTextNode$1(t)&&(p=0,_=0,u=t)}if(1===o.length){if($isTextNode$1(u)&&u.canHaveFormat()){if(_="element"===y?0:p>d?d:p,m="element"===T?a:p>d?p:d,_===m)return;if(0===_&&m===a)I$1(u,n),u.select(_,m);else{const e=u.splitText(_,m),t=0===_?e[0]:e[1];I$1(t,n),t.select(0,m-_)}}}else{if($isTextNode$1(u)&&_<u.getTextContentSize()&&u.canHaveFormat()&&(0!==_&&(u=u.splitText(_)[1],_=0,s.set(u.getKey(),_,"text")),I$1(u,n)),$isTextNode$1(g)&&g.canHaveFormat()){const e=g.getTextContent().length;g.__key!==x&&0!==m&&(m=e),m!==e&&([g]=g.splitText(m)),0===m&&"element"!==T||I$1(g,n)}for(let t=1;t<f;t++){const l=o[t],r=l.getKey();$isTextNode$1(l)&&l.canHaveFormat()&&r!==u.getKey()&&r!==g.getKey()&&!l.isToken()&&I$1(l,n)}}},$selectAll:function(n){const o=n.anchor,l=n.focus,r=o.getNode().getTopLevelElementOrThrow().getParentOrThrow();let s=r.getFirstDescendant(),i=r.getLastDescendant(),c="element",f="element",u=0;$isTextNode$1(s)?c="text":$isElementNode$1(s)||null===s||(s=s.getParentOrThrow()),$isTextNode$1(i)?(f="text",u=i.getTextContentSize()):$isElementNode$1(i)||null===i||(i=i.getParentOrThrow()),s&&i&&(o.set(s.getKey(),0,c),l.set(i.getKey(),u,f))},$setBlocksType:function(e,n){if(null===e)return;const o=e.getStartEndPoints(),l=o?o[0]:null;if(null!==l&&"root"===l.key){const e=n(),t=$getRoot$1(),o=t.getFirstChild();return void(o?o.replace(e,!0):t.append(e))}const r=e.getNodes(),s=null!==l&&function(e,t){let n=e;for(;null!==n&&null!==n.getParent()&&!t(n);)n=n.getParentOrThrow();return t(n)?n:null}(l.getNode(),j$1);s&&-1===r.indexOf(s)&&r.push(s);for(let e=0;e<r.length;e++){const o=r[e];if(!j$1(o))continue;if(!$isElementNode$1(o))throw Error("Expected block node to be an ElementNode");const l=n();l.setFormat(o.getFormatType()),l.setIndent(o.getIndent()),o.replace(l,!0)}},$shouldOverrideDefaultCharacterSelection:function(e,n){const o=$getAdjacentNode$1(e.focus,n);return $isDecoratorNode$1(o)&&!o.isIsolated()||$isElementNode$1(o)&&!o.isInline()&&!o.canBeEmpty()},$sliceSelectedTextNodeContent:function(e,t){const n=e.getStartEndPoints();if(t.isSelected(e)&&!t.isSegmented()&&!t.isToken()&&null!==n){const[l,r]=n,s=e.isBackward(),i=l.getNode(),c=r.getNode(),f=t.is(i),u=t.is(c);if(f||u){const[n,l]=$getCharacterOffsets$1(e),r=i.is(c),f=t.is(s?c:i),u=t.is(s?i:c);let g,a=0;return r?(a=n>l?l:n,g=n>l?n:l):f?(a=s?l:n,g=void 0):u&&(a=0,g=s?n:l),t.__text=t.__text.slice(a,g),t}}return t},$wrapNodes:function(e,t,n=null){const o=e.getStartEndPoints(),l=o?o[0]:null,r=e.getNodes(),s=r.length;if(null!==l&&(0===s||1===s&&"element"===l.type&&0===l.getNode().getChildrenSize())){const e="text"===l.type?l.getNode().getParentOrThrow():l.getNode(),o=e.getChildren();let r=t();return r.setFormat(e.getFormatType()),r.setIndent(e.getIndent()),o.forEach(e=>r.append(e)),n&&(r=n.append(r)),void e.replace(r)}let i=null,c=[];for(let o=0;o<s;o++){const l=r[o];$isRootOrShadowRoot$1(l)?(z$1(e,c,c.length,t,n),c=[],i=l):null===i||null!==i&&$hasAncestor$1(l,i)?c.push(l):(z$1(e,c,c.length,t,n),c=[l])}z$1(e,c,c.length,t,n)},createDOMRange:function(t,n,o,l,r){const s=n.getKey(),i=l.getKey(),c=document.createRange();let f=t.getElementByKey(s),u=t.getElementByKey(i),g=o,a=r;if($isTextNode$1(n)&&(f=y$1(f)),$isTextNode$1(l)&&(u=y$1(u)),void 0===n||void 0===l||null===f||null===u)return null;"BR"===f.nodeName&&([f,g]=T$1(f)),"BR"===u.nodeName&&([u,a]=T$1(u));const d=f.firstChild;f===u&&null!=d&&"BR"===d.nodeName&&0===g&&0===a&&(a=1);try{c.setStart(f,g),c.setEnd(u,a)}catch(e){return null}return!c.collapsed||g===a&&s===i||(c.setStart(u,a),c.setEnd(f,g)),c},createRectsFromDOMRange:function(e,t){const n=e.getRootElement();if(null===n)return[];const o=n.getBoundingClientRect(),l=getComputedStyle(n),r=parseFloat(l.paddingLeft)+parseFloat(l.paddingRight),s=Array.from(t.getClientRects());let i,c=s.length;s.sort((e,t)=>{const n=e.top-t.top;return Math.abs(n)<=3?e.left-t.left:n});for(let e=0;e<c;e++){const t=s[e],n=i&&i.top<=t.top&&i.top+i.height>t.top&&i.left+i.width>t.left,l=t.width+r===o.width;n||l?(s.splice(e--,1),c--):i=t}return s},getStyleObjectFromCSS:E$1,trimTextContentFromAnchor:function(n,o,f){let u=o.getNode(),g=f;if($isElementNode$1(u)){const e=u.getDescendantByIndex(o.offset);null!==e&&(u=e)}for(;g>0&&null!==u;){if($isElementNode$1(u)){const e=u.getLastDescendant();null!==e&&(u=e)}let f=u.getPreviousSibling(),a=0;if(null===f){let e=u.getParentOrThrow(),t=e.getPreviousSibling();for(;null===t;){if(e=e.getParent(),null===e){f=null;break}t=e.getPreviousSibling()}null!==e&&(a=e.isInline()?0:2,f=t)}let d=u.getTextContent();""===d&&$isElementNode$1(u)&&!u.isInline()&&(d="\n\n");const p=d.length;if(!$isTextNode$1(u)||g>=p){const e=u.getParent();u.remove(),null==e||0!==e.getChildrenSize()||$isRootNode$1(e)||e.remove(),g-=p+a,u=f}else{const t=u.getKey(),l=n.getEditorState().read(()=>{const n=$getNodeByKey$1(t);return $isTextNode$1(n)&&n.isSimpleText()?n.getTextContent():null}),f=p-g,a=d.slice(0,f);if(null!==l&&l!==d){const e=$getPreviousSelection$1();let t=u;if(u.isSimpleText())u.setTextContent(l);else{const e=$createTextNode$1(l);u.replace(e),t=e}if($isRangeSelection$1(e)&&e.isCollapsed()){const n=e.anchor.offset;t.select(n,n)}}else if(u.isSimpleText()){const e=o.key===t;let n=o.offset;n<g&&(n=p);const l=e?n-g:0,r=e?n:f;if(e&&0===l){const[e]=u.splitText(l,r);e.remove()}else{const[,e]=u.splitText(l,r);e.remove()}}else{const e=$createTextNode$1(a);u.replace(e)}g=0}}}}),$addNodeStyle$1=mod$1.$addNodeStyle,$cloneWithProperties$1=mod$1.$cloneWithProperties,$getSelectionStyleValueForProperty$1=mod$1.$getSelectionStyleValueForProperty,$isAtNodeEnd$1=mod$1.$isAtNodeEnd,$isParentElementRTL$1=mod$1.$isParentElementRTL,$moveCaretSelection$1=mod$1.$moveCaretSelection,$moveCharacter$1=mod$1.$moveCharacter,$patchStyleText$1=mod$1.$patchStyleText,$selectAll$3=mod$1.$selectAll,$setBlocksType$1=mod$1.$setBlocksType,$shouldOverrideDefaultCharacterSelection$1=mod$1.$shouldOverrideDefaultCharacterSelection,$sliceSelectedTextNodeContent$1=mod$1.$sliceSelectedTextNodeContent,$wrapNodes$1=mod$1.$wrapNodes,createDOMRange$1=mod$1.createDOMRange,createRectsFromDOMRange$1=mod$1.createRectsFromDOMRange,getStyleObjectFromCSS$1=mod$1.getStyleObjectFromCSS,trimTextContentFromAnchor$1=mod$1.trimTextContentFromAnchor;var LexicalSelection=Object.freeze({$addNodeStyle:$addNodeStyle$1,$cloneWithProperties:$cloneWithProperties$1,$getSelectionStyleValueForProperty:$getSelectionStyleValueForProperty$1,$isAtNodeEnd:$isAtNodeEnd$1,$isParentElementRTL:$isParentElementRTL$1,$moveCaretSelection:$moveCaretSelection$1,$moveCharacter:$moveCharacter$1,$patchStyleText:$patchStyleText$1,$selectAll:$selectAll$3,$setBlocksType:$setBlocksType$1,$shouldOverrideDefaultCharacterSelection:$shouldOverrideDefaultCharacterSelection$1,$sliceSelectedTextNodeContent:$sliceSelectedTextNodeContent$1,$wrapNodes:$wrapNodes$1,createDOMRange:createDOMRange$1,createRectsFromDOMRange:createRectsFromDOMRange$1,getStyleObjectFromCSS:getStyleObjectFromCSS$1,trimTextContentFromAnchor:trimTextContentFromAnchor$1});const CAN_USE_DOM$1="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,documentMode$1=CAN_USE_DOM$1&&"documentMode"in document?document.documentMode:null,IS_CHROME$1=(CAN_USE_DOM$1&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),CAN_USE_DOM$1&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),!(!CAN_USE_DOM$1||!("InputEvent"in window)||documentMode$1)&&new window.InputEvent("input"),CAN_USE_DOM$1&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),CAN_USE_DOM$1&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,CAN_USE_DOM$1&&/Android/.test(navigator.userAgent),CAN_USE_DOM$1&&/^(?=.*Chrome).*/i.test(navigator.userAgent));CAN_USE_DOM$1&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent);const p$1="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,h$1=p$1&&"documentMode"in document?document.documentMode:null,m$2=p$1&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),E$2=p$1&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),v$2=!(!p$1||!("InputEvent"in window)||h$1)&&"getTargetRanges"in new window.InputEvent("input"),w$2=p$1&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),y$2=p$1&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,x$2=p$1&&/Android/.test(navigator.userAgent),N$2=p$1&&/^(?=.*Chrome).*/i.test(navigator.userAgent),P$2=p$1&&x$2&&N$2,S$2=p$1&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!N$2;function A$2(...e){const t=[];for(const n of e)if(n&&"string"==typeof n)for(const[e]of n.matchAll(/\S+/g))t.push(e);return t}function b$2(...e){return()=>{e.forEach(e=>e())}}function L$2(e){return e+"px"}const T$2={attributes:!0,characterData:!0,childList:!0,subtree:!0};function M$2(t,n,o){let r=null,l=null,i=null,s=[];const c=document.createElement("div");function u(){if(null===r)throw Error("Unexpected null rootDOMNode");if(null===l)throw Error("Unexpected null parentDOMNode");const{left:i,top:u}=r.getBoundingClientRect(),f=l,a=createRectsFromDOMRange$1(t,n);c.isConnected||f.append(c);let d=!1;for(let e=0;e<a.length;e++){const t=a[e],n=s[e]||document.createElement("div"),o=n.style;"absolute"!==o.position&&(o.position="absolute",d=!0);const r=L$2(t.left-i);o.left!==r&&(o.left=r,d=!0);const l=L$2(t.top-u);o.top!==l&&(n.style.top=l,d=!0);const f=L$2(t.width);o.width!==f&&(n.style.width=f,d=!0);const g=L$2(t.height);o.height!==g&&(n.style.height=g,d=!0),n.parentNode!==c&&(c.append(n),d=!0),s[e]=n}for(;s.length>a.length;)s.pop();d&&o(s)}function f(){l=null,r=null,null!==i&&i.disconnect(),i=null,c.remove();for(const e of s)e.remove();s=[]}const a=t.registerRootListener((function e(){const n=t.getRootElement();if(null===n)return f();const o=n.parentElement;if(!(o instanceof HTMLElement))return f();f(),r=n,l=o,i=new MutationObserver(n=>{const o=t.getRootElement(),i=o&&o.parentElement;if(o!==r||i!==l)return e();for(const e of n)if(!c.contains(e.target))return u()}),i.observe(o,T$2),u()}));return()=>{a(),f()}}function K$2(e,t){for(const n of t)if(e.type.startsWith(n))return!0;return!1}const I$2=(e,t)=>{let n=e;for(;n!==$getRoot$1()&&null!=n;){if(t(n))return n;n=n.getParent()}return null};const mod$2=Object.freeze({$dfs:function(e,t){const n=[],o=(e||$getRoot$1()).getLatest(),r=t||($isElementNode$1(o)?o.getLastDescendant():o);let s=o,c=function(e){let t=e,n=0;for(;null!==(t=t.getParent());)n++;return n}(s);for(;null!==s&&!s.is(r);)if(n.push({depth:c,node:s}),$isElementNode$1(s)&&s.getChildrenSize()>0)s=s.getFirstChild(),c++;else{let e=null;for(;null===e&&null!==s;)e=s.getNextSibling(),null===e?(s=s.getParent(),c--):s=e}return null!==s&&s.is(r)&&n.push({depth:c,node:s}),n},$filter:function(e,t){const n=[];for(let o=0;o<e.length;o++){const r=t(e[o]);null!==r&&n.push(r)}return n},$findMatchingParent:I$2,$getNearestBlockElementAncestorOrThrow:function(e){const t=I$2(e,e=>$isElementNode$1(e)&&!e.isInline());return $isElementNode$1(t)||function(e){const t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}(4,e.__key),t},$getNearestNodeOfType:function(e,t){let n=e;for(;null!=n;){if(n instanceof t)return n;n=n.getParent()}return null},$insertFirst:function(e,t){const n=e.getFirstChild();null!==n?n.insertBefore(t):e.append(t)},$insertNodeToNearestRoot:function(e){const t=$getSelection$1()||$getPreviousSelection$1();if($isRangeSelection$1(t)){const{focus:n}=t,o=n.getNode(),r=n.offset;if($isRootOrShadowRoot$1(o)){const t=o.getChildAtIndex(r);null==t?o.append(e):t.insertBefore(e),e.selectNext()}else{let t,n;$isTextNode$1(o)?(t=o.getParentOrThrow(),n=o.getIndexWithinParent(),r>0&&(n+=1,o.splitText(r))):(t=o,n=r);const[,l]=$splitNode$1(t,n);l.insertBefore(e),l.selectStart()}}else{if(null!=t){const n=t.getNodes();n[n.length-1].getTopLevelElementOrThrow().insertAfter(e)}else $getRoot$1().append(e);const n=$createParagraphNode$1();e.insertAfter(n),n.select()}return e.getLatest()},$restoreEditorState:function(e,n){const o=new Map,r=e._pendingEditorState;for(const[e,r]of n._nodeMap){const n=$cloneWithProperties$1(r);if($isTextNode$1(n)){if(!$isTextNode$1(r))throw Error("Expected node be a TextNode");n.__text=r.__text}o.set(e,n)}r&&(r._nodeMap=o),e._dirtyType=2;const l=n._selection;$setSelection$1(null===l?null:l.clone())},$wrapNodeInElement:function(e,t){const n=t();return e.replace(n),n.append(e),n},CAN_USE_BEFORE_INPUT:v$2,CAN_USE_DOM:p$1,IS_ANDROID:x$2,IS_ANDROID_CHROME:P$2,IS_APPLE:m$2,IS_APPLE_WEBKIT:S$2,IS_CHROME:N$2,IS_FIREFOX:E$2,IS_IOS:y$2,IS_SAFARI:w$2,addClassNamesToElement:function(e,...t){const n=A$2(...t);n.length>0&&e.classList.add(...n)},calculateZoomLevel:function(e){if(E$2)return 1;let t=1;for(;e;)t*=Number(window.getComputedStyle(e).getPropertyValue("zoom")),e=e.parentElement;return t},isMimeType:K$2,markSelection:function(e,t){let l=null,i=null,s=null,c=null,u=()=>{};function f(f){f.read(()=>{const f=$getSelection$1();if(!$isRangeSelection$1(f))return l=null,i=null,s=null,c=null,u(),void(u=()=>{});const{anchor:a,focus:d}=f,g=a.getNode(),p=g.getKey(),h=a.offset,m=d.getNode(),E=m.getKey(),v=d.offset,w=e.getElementByKey(p),y=e.getElementByKey(E),x=null===l||null===w||h!==i||p!==l.getKey()||g!==l&&(!(l instanceof TextNode$1)||g.updateDOM(l,w,e._config)),N=null===s||null===y||v!==c||E!==s.getKey()||m!==s&&(!(s instanceof TextNode$1)||m.updateDOM(s,y,e._config));if(x||N){const n=e.getElementByKey(a.getNode().getKey()),o=e.getElementByKey(d.getNode().getKey());if(null!==n&&null!==o&&"SPAN"===n.tagName&&"SPAN"===o.tagName){const r=document.createRange();let l,i,s,c;d.isBefore(a)?(l=o,i=d.offset,s=n,c=a.offset):(l=n,i=a.offset,s=o,c=d.offset);const f=l.firstChild;if(null===f)throw Error("Expected text node to be first child of span");const g=s.firstChild;if(null===g)throw Error("Expected text node to be first child of span");r.setStart(f,i),r.setEnd(g,c),u(),u=M$2(e,r,e=>{for(const t of e){const e=t.style;"Highlight"!==e.background&&(e.background="Highlight"),"HighlightText"!==e.color&&(e.color="HighlightText"),"-1"!==e.zIndex&&(e.zIndex="-1"),"none"!==e.pointerEvents&&(e.pointerEvents="none"),e.marginTop!==L$2(-1.5)&&(e.marginTop=L$2(-1.5)),e.paddingTop!==L$2(4)&&(e.paddingTop=L$2(4)),e.paddingBottom!==L$2(0)&&(e.paddingBottom=L$2(0))}void 0!==t&&t(e)})}}l=g,i=h,s=m,c=v})}return f(e.getEditorState()),b$2(e.registerUpdateListener(({editorState:e})=>f(e)),u,()=>{u()})},mediaFileReader:function(e,t){const n=e[Symbol.iterator]();return new Promise((e,o)=>{const r=[],l=()=>{const{done:i,value:s}=n.next();if(i)return e(r);const c=new FileReader;c.addEventListener("error",o),c.addEventListener("load",()=>{const e=c.result;"string"==typeof e&&r.push({file:s,result:e}),l()}),K$2(s,t)?c.readAsDataURL(s):l()};l()})},mergeRegister:b$2,objectKlassEquals:function(e,t){return null!==e&&Object.getPrototypeOf(e).constructor.name===t.name},positionNodeOnRange:M$2,registerNestedElementResolver:function(e,t,n,o){const r=e=>e instanceof t;return e.registerNodeTransform(t,e=>{const t=(e=>{const t=e.getChildren();for(let e=0;e<t.length;e++){const n=t[e];if(r(n))return null}let n=e,o=e;for(;null!==n;)if(o=n,n=n.getParent(),r(n))return{child:o,parent:n};return null})(e);if(null!==t){const{child:r,parent:l}=t;if(r.is(e)){o(l,e);const t=r.getNextSiblings(),i=t.length;if(l.insertAfter(r),0!==i){const e=n(l);r.insertAfter(e);for(let n=0;n<i;n++)e.append(t[n])}l.canBeEmpty()||0!==l.getChildrenSize()||l.remove()}}})},removeClassNamesFromElement:function(e,...t){const n=A$2(...t);n.length>0&&e.classList.remove(...n)},$splitNode:$splitNode$1,isHTMLAnchorElement:isHTMLAnchorElement$1,isHTMLElement:isHTMLElement$1}),$dfs$1=mod$2.$dfs,$filter$1=mod$2.$filter,$findMatchingParent$1=mod$2.$findMatchingParent,$getNearestBlockElementAncestorOrThrow$1=mod$2.$getNearestBlockElementAncestorOrThrow,$getNearestNodeOfType$1=mod$2.$getNearestNodeOfType,$insertFirst$1=mod$2.$insertFirst,$insertNodeToNearestRoot$1=mod$2.$insertNodeToNearestRoot,$restoreEditorState$1=mod$2.$restoreEditorState,$splitNode$2=mod$2.$splitNode,$wrapNodeInElement$1=mod$2.$wrapNodeInElement,CAN_USE_BEFORE_INPUT$2=mod$2.CAN_USE_BEFORE_INPUT,CAN_USE_DOM$2=mod$2.CAN_USE_DOM,IS_ANDROID$2=mod$2.IS_ANDROID,IS_ANDROID_CHROME$2=mod$2.IS_ANDROID_CHROME,IS_APPLE$2=mod$2.IS_APPLE,IS_APPLE_WEBKIT$2=mod$2.IS_APPLE_WEBKIT,IS_CHROME$2=mod$2.IS_CHROME,IS_FIREFOX$2=mod$2.IS_FIREFOX,IS_IOS$2=mod$2.IS_IOS,IS_SAFARI$2=mod$2.IS_SAFARI,addClassNamesToElement$1=mod$2.addClassNamesToElement,calculateZoomLevel$1=mod$2.calculateZoomLevel,isHTMLAnchorElement$2=mod$2.isHTMLAnchorElement,isHTMLElement$2=mod$2.isHTMLElement,isMimeType$1=mod$2.isMimeType,markSelection$1=mod$2.markSelection,mediaFileReader$1=mod$2.mediaFileReader,mergeRegister$1=mod$2.mergeRegister,objectKlassEquals$1=mod$2.objectKlassEquals,positionNodeOnRange$1=mod$2.positionNodeOnRange,registerNestedElementResolver$1=mod$2.registerNestedElementResolver,removeClassNamesFromElement$1=mod$2.removeClassNamesFromElement;var LexicalUtils=Object.freeze({$dfs:$dfs$1,$filter:$filter$1,$findMatchingParent:$findMatchingParent$1,$getNearestBlockElementAncestorOrThrow:$getNearestBlockElementAncestorOrThrow$1,$getNearestNodeOfType:$getNearestNodeOfType$1,$insertFirst:$insertFirst$1,$insertNodeToNearestRoot:$insertNodeToNearestRoot$1,$restoreEditorState:$restoreEditorState$1,$splitNode:$splitNode$2,$wrapNodeInElement:$wrapNodeInElement$1,CAN_USE_BEFORE_INPUT:CAN_USE_BEFORE_INPUT$2,CAN_USE_DOM:CAN_USE_DOM$2,IS_ANDROID:IS_ANDROID$2,IS_ANDROID_CHROME:IS_ANDROID_CHROME$2,IS_APPLE:IS_APPLE$2,IS_APPLE_WEBKIT:IS_APPLE_WEBKIT$2,IS_CHROME:IS_CHROME$2,IS_FIREFOX:IS_FIREFOX$2,IS_IOS:IS_IOS$2,IS_SAFARI:IS_SAFARI$2,addClassNamesToElement:addClassNamesToElement$1,calculateZoomLevel:calculateZoomLevel$1,isHTMLAnchorElement:isHTMLAnchorElement$2,isHTMLElement:isHTMLElement$2,isMimeType:isMimeType$1,markSelection:markSelection$1,mediaFileReader:mediaFileReader$1,mergeRegister:mergeRegister$1,objectKlassEquals:objectKlassEquals$1,positionNodeOnRange:positionNodeOnRange$1,registerNestedElementResolver:registerNestedElementResolver$1,removeClassNamesFromElement:removeClassNamesFromElement$1});function s$1(l,i,c,u=null){let a=null===u||i.isSelected(u);const d=$isElementNode$1(i)&&i.excludeFromCopy("html");let f=i;if(null!==u){let t=$cloneWithProperties$1(i);t=$isTextNode$1(t)&&null!==u?$sliceSelectedTextNodeContent$1(u,t):t,f=t}const p=$isElementNode$1(f)?f.getChildren():[],m=l._nodes.get(f.getType());let h;h=m&&void 0!==m.exportDOM?m.exportDOM(l,f):f.exportDOM(l);const{element:g,after:y}=h;if(!g)return!1;const w=document.createDocumentFragment();for(let e=0;e<p.length;e++){const n=p[e],t=s$1(l,n,w,u);!a&&$isElementNode$1(i)&&t&&i.extractWithChild(n,u,"html")&&(a=!0)}if(a&&!d){if(isHTMLElement$2(g)&&g.append(w),c.append(g),y){const e=y.call(f,g);e&&g.replaceWith(e)}}else c.append(w);return a}const u$1=new Set(["STYLE","SCRIPT"]);function a$1(e,n,t=new Map,l){let r=[];if(u$1.has(e.nodeName))return r;let i=null;const c=function(e,n){const{nodeName:t}=e,l=n._htmlConversions.get(t.toLowerCase());let o=null;if(void 0!==l)for(const n of l){const t=n(e);null!==t&&(null===o||(o.priority||0)<(t.priority||0))&&(o=t)}return null!==o?o.conversion:null}(e,n),s=c?c(e):null;let d=null;if(null!==s){d=s.after;const n=s.node;if(i=Array.isArray(n)?n[n.length-1]:n,null!==i){for(const[,e]of t)if(i=e(i,l),!i)break;i&&r.push(...Array.isArray(n)?n:[i])}null!=s.forChild&&t.set(e.nodeName,s.forChild)}const f=e.childNodes;let p=[];for(let e=0;e<f.length;e++)p.push(...a$1(f[e],n,new Map(t),i));return null!=d&&(p=d(p)),null==i?r=r.concat(p):$isElementNode$1(i)&&i.append(...p),r}const mod$3=Object.freeze({$generateHtmlFromNodes:function(e,n){if("undefined"==typeof document||"undefined"==typeof window&&void 0===global.window)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const t=document.createElement("div"),o=$getRoot$1().getChildren();for(let l=0;l<o.length;l++)s$1(e,o[l],t,n);return t.innerHTML},$generateNodesFromDOM:function(e,n){const t=n.body?n.body.childNodes:[];let l=[];for(let n=0;n<t.length;n++){const o=t[n];if(!u$1.has(o.nodeName)){const n=a$1(o,e);null!==n&&(l=l.concat(n))}}return l}}),$generateHtmlFromNodes$1=mod$3.$generateHtmlFromNodes,$generateNodesFromDOM$1=mod$3.$generateNodesFromDOM;var LexicalHtml=Object.freeze({$generateHtmlFromNodes:$generateHtmlFromNodes$1,$generateNodesFromDOM:$generateNodesFromDOM$1});createCommand$1("INSERT_UNORDERED_LIST_COMMAND"),createCommand$1("INSERT_ORDERED_LIST_COMMAND"),createCommand$1("INSERT_CHECK_LIST_COMMAND"),createCommand$1("REMOVE_LIST_COMMAND");var p$2=function(e){const t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)};function _$2(e){let t=1,n=e.getParent();for(;null!=n;){if(I$3(n)){const e=n.getParent();if(z$3(e)){t++,n=e.getParent();continue}p$2(40)}return t}return t}function m$3(e){let t=e.getParent();z$3(t)||p$2(40);let n=t;for(;null!==n;)n=n.getParent(),z$3(n)&&(t=n);return t}function v$3(e){let t=[];const n=e.getChildren().filter(I$3);for(let e=0;e<n.length;e++){const r=n[e],i=r.getFirstChild();z$3(i)?t=t.concat(v$3(i)):t.push(r)}return t}function y$3(e){return I$3(e)&&z$3(e.getFirstChild())}function C$3(e){return D$3().append(e)}function T$3(e,t){return I$3(e)&&(0===t.length||1===t.length&&e.is(t[0])&&0===e.getChildrenSize())}function S$3(e,t){e.splice(e.getChildrenSize(),0,t)}function b$3(e,t){if(z$3(e))return e;const n=e.getPreviousSibling(),r=e.getNextSibling(),i=D$3();if(i.setFormat(e.getFormatType()),i.setIndent(e.getIndent()),S$3(i,e.getChildren()),z$3(n)&&t===n.getListType())return n.append(i),e.remove(),z$3(r)&&t===r.getListType()&&(S$3(n,r.getChildren()),r.remove()),n;if(z$3(r)&&t===r.getListType())return r.getFirstChildOrThrow().insertBefore(i),e.remove(),r;{const n=J$1(t);return n.append(i),e.replace(n),n}}function P$3(e,t){const n=e.getLastChild(),r=t.getFirstChild();n&&r&&y$3(n)&&y$3(r)&&(P$3(n.getFirstChild(),r.getFirstChild()),r.remove());const i=t.getChildren();i.length>0&&e.append(...i),t.remove()}function x$3(e){const t=new Set;if(y$3(e)||t.has(e.getKey()))return;const n=e.getParent(),r=e.getNextSibling(),i=e.getPreviousSibling();if(y$3(r)&&y$3(i)){const n=i.getFirstChild();if(z$3(n)){n.append(e);const i=r.getFirstChild();z$3(i)&&(S$3(n,i.getChildren()),r.remove(),t.add(r.getKey()))}}else if(y$3(r)){const t=r.getFirstChild();if(z$3(t)){const n=t.getFirstChild();null!==n&&n.insertBefore(e)}}else if(y$3(i)){const t=i.getFirstChild();z$3(t)&&t.append(e)}else if(z$3(n)){const t=D$3(),s=J$1(n.getListType());t.append(s),s.append(e),i?i.insertAfter(t):r?r.insertBefore(t):n.append(t)}}function A$3(e){if(y$3(e))return;const t=e.getParent(),n=t?t.getParent():void 0;if(z$3(n?n.getParent():void 0)&&I$3(n)&&z$3(t)){const r=t?t.getFirstChild():void 0,i=t?t.getLastChild():void 0;if(e.is(r))n.insertBefore(e),t.isEmpty()&&n.remove();else if(e.is(i))n.insertAfter(e),t.isEmpty()&&n.remove();else{const r=t.getListType(),i=D$3(),s=J$1(r);i.append(s),e.getPreviousSiblings().forEach(e=>s.append(e));const o=D$3(),c=J$1(r);o.append(c),S$3(c,e.getNextSiblings()),n.insertBefore(i),n.insertAfter(o),n.replace(e)}}}function L$3(...e){const t=[];for(const n of e)if(n&&"string"==typeof n)for(const[e]of n.matchAll(/\S+/g))t.push(e);return t}class E$3 extends ElementNode$1{static getType(){return"listitem"}static clone(e){return new E$3(e.__value,e.__checked,e.__key)}constructor(e,t,n){super(n),this.__value=void 0===e?1:e,this.__checked=t}createDOM(e){const t=document.createElement("li"),n=this.getParent();return z$3(n)&&"check"===n.getListType()&&w$3(t,this,null),t.value=this.__value,F$3(t,e.theme,this),t}updateDOM(e,t,n){const r=this.getParent();return z$3(r)&&"check"===r.getListType()&&w$3(t,this,e),t.value=this.__value,F$3(t,n.theme,this),!1}static transform(){return e=>{if(I$3(e)||p$2(144),null==e.__checked)return;const t=e.getParent();z$3(t)&&"check"!==t.getListType()&&null!=e.getChecked()&&e.setChecked(void 0)}}static importDOM(){return{li:e=>({conversion:M$3,priority:0})}}static importJSON(e){const t=D$3();return t.setChecked(e.checked),t.setValue(e.value),t.setFormat(e.format),t.setDirection(e.direction),t}exportDOM(e){const t=this.createDOM(e._config);return t.style.textAlign=this.getFormatType(),{element:t}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),type:"listitem",value:this.getValue(),version:1}}append(...e){for(let t=0;t<e.length;t++){const n=e[t];if($isElementNode$1(n)&&this.canMergeWith(n)){const e=n.getChildren();this.append(...e),n.remove()}else super.append(n)}return this}replace(e,t){if(I$3(e))return super.replace(e);this.setIndent(0);const n=this.getParentOrThrow();if(!z$3(n))return e;if(n.__first===this.getKey())n.insertBefore(e);else if(n.__last===this.getKey())n.insertAfter(e);else{const t=J$1(n.getListType());let r=this.getNextSibling();for(;r;){const e=r;r=r.getNextSibling(),t.append(e)}n.insertAfter(e),e.insertAfter(t)}return t&&($isElementNode$1(e)||p$2(139),this.getChildren().forEach(t=>{e.append(t)})),this.remove(),0===n.getChildrenSize()&&n.remove(),e}insertAfter(e,t=!0){const n=this.getParentOrThrow();if(z$3(n)||p$2(39),I$3(e))return super.insertAfter(e,t);const r=this.getNextSiblings();if(n.insertAfter(e,t),0!==r.length){const i=J$1(n.getListType());r.forEach(e=>i.append(e)),e.insertAfter(i,t)}return e}remove(e){const t=this.getPreviousSibling(),n=this.getNextSibling();super.remove(e),t&&n&&y$3(t)&&y$3(n)&&(P$3(t.getFirstChild(),n.getFirstChild()),n.remove())}insertNewAfter(e,t=!0){const n=D$3(null==this.__checked&&void 0);return this.insertAfter(n,t),n}collapseAtStart(e){const t=$createParagraphNode$1();this.getChildren().forEach(e=>t.append(e));const n=this.getParentOrThrow(),r=n.getParentOrThrow(),i=I$3(r);if(1===n.getChildrenSize())if(i)n.remove(),r.select();else{n.insertBefore(t),n.remove();const r=e.anchor,i=e.focus,s=t.getKey();"element"===r.type&&r.getNode().is(this)&&r.set(s,r.offset,"element"),"element"===i.type&&i.getNode().is(this)&&i.set(s,i.offset,"element")}else n.insertBefore(t),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(e){this.getWritable().__value=e}getChecked(){return this.getLatest().__checked}setChecked(e){this.getWritable().__checked=e}toggleChecked(){this.setChecked(!this.__checked)}getIndent(){const e=this.getParent();if(null===e)return this.getLatest().__indent;let t=e.getParentOrThrow(),n=0;for(;I$3(t);)t=t.getParentOrThrow().getParentOrThrow(),n++;return n}setIndent(e){"number"==typeof e&&e>-1||p$2(117);let t=this.getIndent();for(;t!==e;)t<e?(x$3(this),t++):(A$3(this),t--);return this}canInsertAfter(e){return I$3(e)}canReplaceWith(e){return I$3(e)}canMergeWith(e){return $isParagraphNode$1(e)||I$3(e)}extractWithChild(e,n){if(!$isRangeSelection$1(n))return!1;const r=n.anchor.getNode(),i=n.focus.getNode();return this.isParentOf(r)&&this.isParentOf(i)&&this.getTextContent().length===n.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return J$1("bullet")}}function F$3(e,t,n){const r=[],i=[],s=t.list,o=s?s.listitem:void 0;let c;if(s&&s.nested&&(c=s.nested.listitem),void 0!==o&&r.push(...L$3(o)),s){const e=n.getParent(),t=z$3(e)&&"check"===e.getListType(),o=n.getChecked();t&&!o||i.push(s.listitemUnchecked),t&&o||i.push(s.listitemChecked),t&&r.push(o?s.listitemChecked:s.listitemUnchecked)}if(void 0!==c){const e=L$3(c);n.getChildren().some(e=>z$3(e))?r.push(...e):i.push(...e)}i.length>0&&removeClassNamesFromElement$1(e,...i),r.length>0&&addClassNamesToElement$1(e,...r)}function w$3(e,t,n,r){z$3(t.getFirstChild())?(e.removeAttribute("role"),e.removeAttribute("tabIndex"),e.removeAttribute("aria-checked")):(e.setAttribute("role","checkbox"),e.setAttribute("tabIndex","-1"),n&&t.__checked===n.__checked||e.setAttribute("aria-checked",t.getChecked()?"true":"false"))}function M$3(e){return{node:D$3(isHTMLElement$2(e)&&"true"===e.getAttribute("aria-checked"))}}function D$3(e){return $applyNodeReplacement$1(new E$3(void 0,e))}function I$3(e){return e instanceof E$3}class R$3 extends ElementNode$1{static getType(){return"list"}static clone(e){const t=e.__listType||V$2[e.__tag];return new R$3(t,e.__start,e.__key)}constructor(e,t,n){super(n);const r=V$2[e]||e;this.__listType=r,this.__tag="number"===r?"ol":"ul",this.__start=t}getTag(){return this.__tag}setListType(e){const t=this.getWritable();t.__listType=e,t.__tag="number"===e?"ol":"ul"}getListType(){return this.__listType}getStart(){return this.__start}createDOM(e,t){const n=this.__tag,r=document.createElement(n);return 1!==this.__start&&r.setAttribute("start",String(this.__start)),r.__lexicalListType=this.__listType,K$3(r,e.theme,this),r}updateDOM(e,t,n){return e.__tag!==this.__tag||(K$3(t,n.theme,this),!1)}static transform(){return e=>{if(!z$3(e))throw Error("node is not a ListNode");!function(e){const t=e.getNextSibling();z$3(t)&&e.getListType()===t.getListType()&&P$3(e,t)}(e),function(e){const t="check"!==e.getListType();let n=e.getStart();for(const r of e.getChildren())I$3(r)&&(r.getValue()!==n&&r.setValue(n),t&&null!=r.getChecked()&&r.setChecked(void 0),z$3(r.getFirstChild())||n++)}(e)}}static importDOM(){return{ol:e=>({conversion:W$2,priority:0}),ul:e=>({conversion:W$2,priority:0})}}static importJSON(e){const t=J$1(e.listType,e.start);return t.setFormat(e.format),t.setIndent(e.indent),t.setDirection(e.direction),t}exportDOM(e){const{element:t}=super.exportDOM(e);return t&&isHTMLElement$2(t)&&(1!==this.__start&&t.setAttribute("start",String(this.__start)),"check"===this.__listType&&t.setAttribute("__lexicalListType","check")),{element:t}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag(),type:"list",version:1}}canBeEmpty(){return!1}canIndent(){return!1}append(...e){for(let t=0;t<e.length;t++){const n=e[t];if(I$3(n))super.append(n);else{const e=D$3();if(z$3(n))e.append(n);else if($isElementNode$1(n)){const t=$createTextNode$1(n.getTextContent());e.append(t)}else e.append(n);super.append(e)}}return this}extractWithChild(e){return I$3(e)}}function K$3(e,t,n){const r=[],i=[],s=t.list;if(void 0!==s){const e=s[n.__tag+"Depth"]||[],t=_$2(n)-1,o=t%e.length,c=e[o],l=s[n.__tag];let h;const a=s.nested,u=s.checklist;if(void 0!==a&&a.list&&(h=a.list),void 0!==l&&r.push(l),void 0!==u&&"check"===n.__listType&&r.push(u),void 0!==c){r.push(...L$3(c));for(let t=0;t<e.length;t++)t!==o&&i.push(n.__tag+t)}if(void 0!==h){const e=L$3(h);t>1?r.push(...e):i.push(...e)}}i.length>0&&removeClassNamesFromElement$1(e,...i),r.length>0&&addClassNamesToElement$1(e,...r)}function B$3(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n];if(I$3(r)){t.push(r);const e=r.getChildren();e.length>1&&e.forEach(e=>{z$3(e)&&t.push(C$3(e))})}else t.push(C$3(r))}return t}function W$2(e){const t=e.nodeName.toLowerCase();let n=null;return"ol"===t?n=J$1("number",e.start):"ul"===t&&(n=isHTMLElement$2(e)&&"check"===e.getAttribute("__lexicallisttype")?J$1("check"):J$1("bullet")),{after:B$3,node:n}}const V$2={ol:"number",ul:"bullet"};function J$1(e,t=1){return $applyNodeReplacement$1(new R$3(e,t))}function z$3(e){return e instanceof R$3}const U$2=createCommand$1("INSERT_UNORDERED_LIST_COMMAND"),$$3=createCommand$1("INSERT_ORDERED_LIST_COMMAND"),q$1=createCommand$1("INSERT_CHECK_LIST_COMMAND"),H$3=createCommand$1("REMOVE_LIST_COMMAND");const mod$4=Object.freeze({$createListItemNode:D$3,$createListNode:J$1,$getListDepth:_$2,$handleListInsertParagraph:function(){const r=$getSelection$1();if(!$isRangeSelection$1(r)||!r.isCollapsed())return!1;const i=r.anchor.getNode();if(!I$3(i)||0!==i.getChildrenSize())return!1;const c=m$3(i),l=i.getParent();z$3(l)||p$2(40);const h=l.getParent();let a;if($isRootOrShadowRoot$1(h))a=$createParagraphNode$1(),c.insertAfter(a);else{if(!I$3(h))return!1;a=D$3(),h.insertAfter(a)}a.select();const u=i.getNextSiblings();if(u.length>0){const e=J$1(l.getListType());if($isParagraphNode$1(a))a.insertAfter(e);else{const t=D$3();t.append(e),a.insertAfter(t)}u.forEach(t=>{t.remove(),e.append(t)})}return function(e){let t=e;for(;null==t.getNextSibling()&&null==t.getPreviousSibling();){const e=t.getParent();if(null==e||!I$3(t)&&!z$3(t))break;t=e}t.remove()}(i),!0},$isListItemNode:I$3,$isListNode:z$3,INSERT_CHECK_LIST_COMMAND:q$1,INSERT_ORDERED_LIST_COMMAND:$$3,INSERT_UNORDERED_LIST_COMMAND:U$2,ListItemNode:E$3,ListNode:R$3,REMOVE_LIST_COMMAND:H$3,insertList:function(s,o){s.update(()=>{const s=$getSelection$1();if(null!==s){const e=s.getNodes();if($isRangeSelection$1(s)){const t=s.getStartEndPoints();null===t&&p$2(143);const[i]=t,c=i.getNode(),l=c.getParent();if(T$3(c,e)){const e=J$1(o);if($isRootOrShadowRoot$1(l)){c.replace(e);const t=D$3();$isElementNode$1(c)&&(t.setFormat(c.getFormatType()),t.setIndent(c.getIndent())),e.append(t)}else if(I$3(c)){const t=c.getParentOrThrow();S$3(e,t.getChildren()),t.replace(e)}return}}const c=new Set;for(let t=0;t<e.length;t++){const s=e[t];if(!$isElementNode$1(s)||!s.isEmpty()||I$3(s)||c.has(s.getKey())){if($isLeafNode$1(s)){let e=s.getParent();for(;null!=e;){const t=e.getKey();if(z$3(e)){if(!c.has(t)){const n=J$1(o);S$3(n,e.getChildren()),e.replace(n),c.add(t)}break}{const r=e.getParent();if($isRootOrShadowRoot$1(r)&&!c.has(t)){c.add(t),b$3(e,o);break}e=r}}}}else b$3(s,o)}}})},removeList:function(n){n.update(()=>{const n=$getSelection$1();if($isRangeSelection$1(n)){const e=new Set,t=n.getNodes(),r=n.anchor.getNode();if(T$3(r,t))e.add(m$3(r));else for(let n=0;n<t.length;n++){const r=t[n];if($isLeafNode$1(r)){const t=$getNearestNodeOfType$1(r,E$3);null!=t&&e.add(m$3(t))}}for(const t of e){let e=t;const r=v$3(t);for(const t of r){const r=$createParagraphNode$1();S$3(r,t.getChildren()),e.insertAfter(r),e=r,t.__key===n.anchor.key&&n.anchor.set(r.getKey(),0,"element"),t.__key===n.focus.key&&n.focus.set(r.getKey(),0,"element"),t.remove()}t.remove()}}})}}),$createListItemNode$1=mod$4.$createListItemNode,$createListNode$1=mod$4.$createListNode,$getListDepth$1=mod$4.$getListDepth,$handleListInsertParagraph$1=mod$4.$handleListInsertParagraph,$isListItemNode$1=mod$4.$isListItemNode,$isListNode$1=mod$4.$isListNode,INSERT_CHECK_LIST_COMMAND$1=mod$4.INSERT_CHECK_LIST_COMMAND,INSERT_ORDERED_LIST_COMMAND$1=mod$4.INSERT_ORDERED_LIST_COMMAND,INSERT_UNORDERED_LIST_COMMAND$1=mod$4.INSERT_UNORDERED_LIST_COMMAND,ListItemNode$1=mod$4.ListItemNode,ListNode$1=mod$4.ListNode,REMOVE_LIST_COMMAND$1=mod$4.REMOVE_LIST_COMMAND,insertList$1=mod$4.insertList,removeList$1=mod$4.removeList;var LexicalList=Object.freeze({$createListItemNode:$createListItemNode$1,$createListNode:$createListNode$1,$getListDepth:$getListDepth$1,$handleListInsertParagraph:$handleListInsertParagraph$1,$isListItemNode:$isListItemNode$1,$isListNode:$isListNode$1,INSERT_CHECK_LIST_COMMAND:INSERT_CHECK_LIST_COMMAND$1,INSERT_ORDERED_LIST_COMMAND:INSERT_ORDERED_LIST_COMMAND$1,INSERT_UNORDERED_LIST_COMMAND:INSERT_UNORDERED_LIST_COMMAND$1,ListItemNode:ListItemNode$1,ListNode:ListNode$1,REMOVE_LIST_COMMAND:REMOVE_LIST_COMMAND$1,insertList:insertList$1,removeList:removeList$1});createCommand$1("TOGGLE_LINK_COMMAND");const o$1=new Set(["http:","https:","mailto:","sms:","tel:"]);class _$3 extends ElementNode$1{static getType(){return"link"}static clone(t){return new _$3(t.__url,{rel:t.__rel,target:t.__target,title:t.__title},t.__key)}constructor(t,e={},r){super(r);const{target:i=null,rel:n=null,title:l=null}=e;this.__url=t,this.__target=i,this.__rel=n,this.__title=l}createDOM(e){const r=document.createElement("a");return r.href=this.sanitizeUrl(this.__url),null!==this.__target&&(r.target=this.__target),null!==this.__rel&&(r.rel=this.__rel),null!==this.__title&&(r.title=this.__title),addClassNamesToElement$1(r,e.theme.link),r}updateDOM(t,e,r){const i=this.__url,n=this.__target,l=this.__rel,s=this.__title;return i!==t.__url&&(e.href=i),n!==t.__target&&(n?e.target=n:e.removeAttribute("target")),l!==t.__rel&&(l?e.rel=l:e.removeAttribute("rel")),s!==t.__title&&(s?e.title=s:e.removeAttribute("title")),!1}static importDOM(){return{a:t=>({conversion:a$2,priority:1})}}static importJSON(t){const e=g$2(t.url,{rel:t.rel,target:t.target,title:t.title});return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e}sanitizeUrl(t){try{const e=new URL(t);if(!o$1.has(e.protocol))return"about:blank"}catch(e){return t}return t}exportJSON(){return{...super.exportJSON(),rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),type:"link",url:this.getURL(),version:1}}getURL(){return this.getLatest().__url}setURL(t){this.getWritable().__url=t}getTarget(){return this.getLatest().__target}setTarget(t){this.getWritable().__target=t}getRel(){return this.getLatest().__rel}setRel(t){this.getWritable().__rel=t}getTitle(){return this.getLatest().__title}setTitle(t){this.getWritable().__title=t}insertNewAfter(t,e=!0){const r=g$2(this.__url,{rel:this.__rel,target:this.__target,title:this.__title});return this.insertAfter(r,e),r}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}canBeEmpty(){return!1}isInline(){return!0}extractWithChild(t,e,r){if(!$isRangeSelection$1(e))return!1;const i=e.anchor.getNode(),n=e.focus.getNode();return this.isParentOf(i)&&this.isParentOf(n)&&e.getTextContent().length>0}}function a$2(t){let r=null;if(isHTMLAnchorElement$2(t)){const e=t.textContent;(null!==e&&""!==e||t.children.length>0)&&(r=g$2(t.getAttribute("href")||"",{rel:t.getAttribute("rel"),target:t.getAttribute("target"),title:t.getAttribute("title")}))}return{node:r}}function g$2(t,e){return $applyNodeReplacement$1(new _$3(t,e))}function c$2(t){return t instanceof _$3}class h$2 extends _$3{static getType(){return"autolink"}static clone(t){return new h$2(t.__url,{rel:t.__rel,target:t.__target,title:t.__title},t.__key)}static importJSON(t){const e=f$1(t.url,{rel:t.rel,target:t.target,title:t.title});return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e}static importDOM(){return null}exportJSON(){return{...super.exportJSON(),type:"autolink",version:1}}insertNewAfter(t,e=!0){const r=this.getParentOrThrow().insertNewAfter(t,e);if($isElementNode$1(r)){const t=f$1(this.__url,{rel:this.__rel,target:this.__target,title:this.__title});return r.append(t),t}return null}}function f$1(t,e){return $applyNodeReplacement$1(new h$2(t,e))}const d$1=createCommand$1("TOGGLE_LINK_COMMAND");const mod$5=Object.freeze({$createAutoLinkNode:f$1,$createLinkNode:g$2,$isAutoLinkNode:function(t){return t instanceof h$2},$isLinkNode:c$2,AutoLinkNode:h$2,LinkNode:_$3,TOGGLE_LINK_COMMAND:d$1,toggleLink:function(t,e={}){const{target:r,title:i}=e,n=void 0===e.rel?"noreferrer":e.rel,o=$getSelection$1();if(!$isRangeSelection$1(o))return;const _=o.extract();if(null===t)_.forEach(t=>{const e=t.getParent();if(c$2(e)){const t=e.getChildren();for(let r=0;r<t.length;r++)e.insertBefore(t[r]);e.remove()}});else{if(1===_.length){const e=function(t,e){let r=t;for(;null!==r&&null!==r.getParent()&&!e(r);)r=r.getParentOrThrow();return e(r)?r:null}(_[0],c$2);if(null!==e)return e.setURL(t),void 0!==r&&e.setTarget(r),null!==n&&e.setRel(n),void(void 0!==i&&e.setTitle(i))}let e=null,l=null;_.forEach(u=>{const o=u.getParent();if(o!==l&&null!==o&&(!$isElementNode$1(u)||u.isInline())){if(c$2(o))return l=o,o.setURL(t),void 0!==r&&o.setTarget(r),null!==n&&l.setRel(n),void(void 0!==i&&l.setTitle(i));if(o.is(e)||(e=o,l=g$2(t,{rel:n,target:r,title:i}),c$2(o)?null===u.getPreviousSibling()?o.insertBefore(l):o.insertAfter(l):u.insertBefore(l)),c$2(u)){if(u.is(l))return;if(null!==l){const t=u.getChildren();for(let e=0;e<t.length;e++)l.append(t[e])}u.remove()}else null!==l&&l.append(u)}})}}}),$createAutoLinkNode$1=mod$5.$createAutoLinkNode,$createLinkNode$1=mod$5.$createLinkNode,$isAutoLinkNode$1=mod$5.$isAutoLinkNode,$isLinkNode$1=mod$5.$isLinkNode,AutoLinkNode$1=mod$5.AutoLinkNode,LinkNode$1=mod$5.LinkNode,TOGGLE_LINK_COMMAND$1=mod$5.TOGGLE_LINK_COMMAND,toggleLink$1=mod$5.toggleLink;var LexicalLink=Object.freeze({$createAutoLinkNode:$createAutoLinkNode$1,$createLinkNode:$createLinkNode$1,$isAutoLinkNode:$isAutoLinkNode$1,$isLinkNode:$isLinkNode$1,AutoLinkNode:AutoLinkNode$1,LinkNode:LinkNode$1,TOGGLE_LINK_COMMAND:TOGGLE_LINK_COMMAND$1,toggleLink:toggleLink$1});"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement;var g$3=function(e){const t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)};const w$4="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,y$4=e=>w$4?(e||window).getSelection():null;function v$4(t){const n=$getSelection$1();if(null==n)throw Error("Expected valid LexicalSelection");return $isRangeSelection$1(n)&&n.isCollapsed()||0===n.getNodes().length?"":$generateHtmlFromNodes$1(t,n)}function D$4(e){const t=$getSelection$1();if(null==t)throw Error("Expected valid LexicalSelection");return $isRangeSelection$1(t)&&t.isCollapsed()||0===t.getNodes().length?null:JSON.stringify(T$4(e,t))}function N$4(e,t,n){e.dispatchCommand(SELECTION_INSERT_CLIPBOARD_NODES_COMMAND$1,{nodes:t,selection:n})||n.insertNodes(t)}function S$4(e,t,n,r=[]){let i=null===t||n.isSelected(t);const a=$isElementNode$1(n)&&n.excludeFromCopy("html");let c=n;if(null!==t){let e=$cloneWithProperties$1(n);e=$isTextNode$1(e)&&null!==t?$sliceSelectedTextNodeContent$1(t,e):e,c=e}const s=$isElementNode$1(c)?c.getChildren():[],u=function(e){const t=e.exportJSON(),n=e.constructor;if(t.type!==n.getType()&&g$3(58,n.name),$isElementNode$1(e)){const e=t.children;Array.isArray(e)||g$3(59,n.name)}return t}(c);if($isTextNode$1(c)){const e=c.__text;e.length>0?u.text=e:i=!1}for(let o=0;o<s.length;o++){const l=s[o],r=S$4(e,t,l,u.children);!i&&$isElementNode$1(n)&&r&&n.extractWithChild(l,t,"clone")&&(i=!0)}if(i&&!a)r.push(u);else if(Array.isArray(u.children))for(let e=0;e<u.children.length;e++){const t=u.children[e];r.push(t)}return i}function T$4(e,t){const n=[],o=$getRoot$1().getChildren();for(let l=0;l<o.length;l++)S$4(e,t,o[l],n);return{namespace:e._config.namespace,nodes:n}}function _$4(e){const t=[];for(let o=0;o<e.length;o++){const l=e[o],r=$parseSerializedNode$1(l);$isTextNode$1(r)&&$addNodeStyle$1(r),t.push(r)}return t}let A$4=null;function P$4(e,t){const n=y$4(e._window);if(!n)return!1;const o=n.anchorNode,l=n.focusNode;if(null!==o&&null!==l&&!isSelectionWithinEditor$1(e,o,l))return!1;t.preventDefault();const r=t.clipboardData,a=$getSelection$1();if(null===r||null===a)return!1;const c=v$4(e),s=D$4(e);let u="";return null!==a&&(u=a.getTextContent()),null!==c&&r.setData("text/html",c),null!==s&&r.setData("application/x-lexical-editor",s),r.setData("text/plain",u),!0}const mod$6=Object.freeze({$generateJSONFromSelectedNodes:T$4,$generateNodesFromSerializedNodes:_$4,$getHtmlContent:v$4,$getLexicalContent:D$4,$insertDataTransferForPlainText:function(e,t){const n=e.getData("text/plain")||e.getData("text/uri-list");null!=n&&t.insertRawText(n)},$insertDataTransferForRichText:function(e,n,o){const l=e.getData("application/x-lexical-editor");if(l)try{const e=JSON.parse(l);if(e.namespace===o._config.namespace&&Array.isArray(e.nodes))return N$4(o,_$4(e.nodes),n)}catch(e){}const r=e.getData("text/html");if(r)try{const e=(new DOMParser).parseFromString(r,"text/html");return N$4(o,$generateNodesFromDOM$1(o,e),n)}catch(e){}const i=e.getData("text/plain")||e.getData("text/uri-list");if(null!=i)if($isRangeSelection$1(n)){const e=i.split(/(\r?\n|\t)/);""===e[e.length-1]&&e.pop();for(let t=0;t<e.length;t++){const o=e[t];"\n"===o||"\r\n"===o?n.insertParagraph():"\t"===o?n.insertNodes([$createTabNode$1()]):n.insertText(o)}}else n.insertRawText(i)},$insertGeneratedNodes:N$4,copyToClipboard:async function(e,t){if(null!==A$4)return!1;if(null!==t)return new Promise((n,o)=>{e.update(()=>{n(P$4(e,t))})});const n=e.getRootElement(),o=null==e._window?window.document:e._window.document,l=y$4(e._window);if(null===n||null===l)return!1;const i=o.createElement("span");i.style.cssText="position: fixed; top: -1000px;",i.append(o.createTextNode("#")),n.append(i);const a=new Range;return a.setStart(i,0),a.setEnd(i,1),l.removeAllRanges(),l.addRange(a),new Promise((t,n)=>{const l=e.registerCommand(COPY_COMMAND$1,n=>(objectKlassEquals$1(n,ClipboardEvent)&&(l(),null!==A$4&&(window.clearTimeout(A$4),A$4=null),t(P$4(e,n))),!0),COMMAND_PRIORITY_CRITICAL$1);A$4=window.setTimeout(()=>{l(),A$4=null,t(!1)},50),o.execCommand("copy"),i.remove()})}}),$generateJSONFromSelectedNodes$1=mod$6.$generateJSONFromSelectedNodes,$generateNodesFromSerializedNodes$1=mod$6.$generateNodesFromSerializedNodes,$getHtmlContent$1=mod$6.$getHtmlContent,$getLexicalContent$1=mod$6.$getLexicalContent,$insertDataTransferForPlainText$1=mod$6.$insertDataTransferForPlainText,$insertDataTransferForRichText$1=mod$6.$insertDataTransferForRichText,$insertGeneratedNodes$1=mod$6.$insertGeneratedNodes,copyToClipboard$1=mod$6.copyToClipboard;var LexicalClipboard=Object.freeze({$generateJSONFromSelectedNodes:$generateJSONFromSelectedNodes$1,$generateNodesFromSerializedNodes:$generateNodesFromSerializedNodes$1,$getHtmlContent:$getHtmlContent$1,$getLexicalContent:$getLexicalContent$1,$insertDataTransferForPlainText:$insertDataTransferForPlainText$1,$insertDataTransferForRichText:$insertDataTransferForRichText$1,$insertGeneratedNodes:$insertGeneratedNodes$1,copyToClipboard:copyToClipboard$1});function k$4(t,e){let n=Date.now(),r=0;return(o,i,s,c,d,h)=>{const m=Date.now();if(h.has("historic"))return r=0,n=m,2;const g=function(t,e,n,r,o){if(null===t||0===n.size&&0===r.size&&!o)return 0;const i=e._selection,s=t._selection;if(o)return 1;if(!($isRangeSelection$1(i)&&$isRangeSelection$1(s)&&s.isCollapsed()&&i.isCollapsed()))return 0;const c=function(t,e,n){const r=t._nodeMap,o=[];for(const t of e){const e=r.get(t);void 0!==e&&o.push(e)}for(const[t,e]of n){if(!e)continue;const n=r.get(t);void 0===n||$isRootNode$1(n)||o.push(n)}return o}(e,n,r);if(0===c.length)return 0;if(c.length>1){const n=e._nodeMap,r=n.get(i.anchor.key),o=n.get(s.anchor.key);return r&&o&&!t._nodeMap.has(r.__key)&&$isTextNode$1(r)&&1===r.__text.length&&1===i.anchor.offset?2:0}const l=c[0],_=t._nodeMap.get(l.__key);if(!$isTextNode$1(_)||!$isTextNode$1(l)||_.__mode!==l.__mode)return 0;const f=_.__text,S=l.__text;if(f===S)return 0;const k=i.anchor,C=s.anchor;if(k.key!==C.key||"text"!==k.type)return 0;const x=k.offset,M=C.offset,z=S.length-f.length;return 1===z&&M===x-1?2:-1===z&&M===x+1?3:-1===z&&M===x?4:0}(o,i,c,d,t.isComposing()),y=(()=>{const y=null===s||s.editor===t,S=h.has("history-push");if(!S&&y&&h.has("history-merge"))return 0;if(null===o)return 1;const k=i._selection;return c.size>0||d.size>0?!1===S&&0!==g&&g===r&&m<n+e&&y||1===c.size&&function(t,e,n){const r=e._nodeMap.get(t),o=n._nodeMap.get(t),i=e._selection,s=n._selection;let c=!1;return $isRangeSelection$1(i)&&$isRangeSelection$1(s)&&(c="element"===i.anchor.type&&"element"===i.focus.type&&"text"===s.anchor.type&&"text"===s.focus.type),!(c||!$isTextNode$1(r)||!$isTextNode$1(o))&&r.__type===o.__type&&r.__text===o.__text&&r.__mode===o.__mode&&r.__detail===o.__detail&&r.__style===o.__style&&r.__format===o.__format&&r.__parent===o.__parent}(Array.from(c)[0],o,i)?0:1:null!==k?0:2})();return n=m,r=g,y}}function C$5(t){t.undoStack=[],t.redoStack=[],t.current=null}const mod$7=Object.freeze({createEmptyHistoryState:function(){return{current:null,redoStack:[],undoStack:[]}},registerHistory:function(a,u,d){const l=k$4(a,d),p=({editorState:t,prevEditorState:e,dirtyLeaves:n,dirtyElements:r,tags:o})=>{const i=u.current,d=u.redoStack,p=u.undoStack,h=null===i?null:i.editorState;if(null!==i&&t===h)return;const m=l(e,t,i,n,r,o);if(1===m)0!==d.length&&(u.redoStack=[],a.dispatchCommand(CAN_REDO_COMMAND$1,!1)),null!==i&&(p.push({...i}),a.dispatchCommand(CAN_UNDO_COMMAND$1,!0));else if(2===m)return;u.current={editor:a,editorState:t}},h=mergeRegister$1(a.registerCommand(UNDO_COMMAND$1,()=>(function(t,e){const n=e.redoStack,r=e.undoStack;if(0!==r.length){const o=e.current,i=r.pop();null!==o&&(n.push(o),t.dispatchCommand(CAN_REDO_COMMAND$1,!0)),0===r.length&&t.dispatchCommand(CAN_UNDO_COMMAND$1,!1),e.current=i||null,i&&i.editor.setEditorState(i.editorState,{tag:"historic"})}}(a,u),!0),COMMAND_PRIORITY_EDITOR$1),a.registerCommand(REDO_COMMAND$1,()=>(function(t,e){const n=e.redoStack,r=e.undoStack;if(0!==n.length){const o=e.current;null!==o&&(r.push(o),t.dispatchCommand(CAN_UNDO_COMMAND$1,!0));const i=n.pop();0===n.length&&t.dispatchCommand(CAN_REDO_COMMAND$1,!1),e.current=i||null,i&&i.editor.setEditorState(i.editorState,{tag:"historic"})}}(a,u),!0),COMMAND_PRIORITY_EDITOR$1),a.registerCommand(CLEAR_EDITOR_COMMAND$1,()=>(C$5(u),!1),COMMAND_PRIORITY_EDITOR$1),a.registerCommand(CLEAR_HISTORY_COMMAND$1,()=>(C$5(u),a.dispatchCommand(CAN_REDO_COMMAND$1,!1),a.dispatchCommand(CAN_UNDO_COMMAND$1,!1),!0),COMMAND_PRIORITY_EDITOR$1),a.registerUpdateListener(p)),m=a.registerUpdateListener(p);return()=>{h(),m()}}}),createEmptyHistoryState$1=mod$7.createEmptyHistoryState,registerHistory$1=mod$7.registerHistory;var LexicalHistory=Object.freeze({createEmptyHistoryState:createEmptyHistoryState$1,registerHistory:registerHistory$1});function s$2(){return $getRoot$1().getTextContent()}function u$2(t,e=!0){if(t)return!1;let n=s$2();return e&&(n=n.trim()),""===n}function c$3(o){if(!u$2(o,!1))return!1;const l=$getRoot$1().getChildren(),s=l.length;if(s>1)return!1;for(let t=0;t<s;t++){const o=l[t];if($isDecoratorNode$1(o))return!1;if($isElementNode$1(o)){if(!$isParagraphNode$1(o))return!1;if(0!==o.__indent)return!1;const e=o.getChildren(),n=e.length;for(let r=0;r<n;r++){const n=e[t];if(!$isTextNode$1(n))return!1}}}return!0}const mod$8=Object.freeze({$canShowPlaceholder:c$3,$canShowPlaceholderCurry:function(t){return()=>c$3(t)},$findTextIntersectionFromCharacters:function(t,e){let r=t.getFirstChild(),o=0;t:for(;null!==r;){if($isElementNode$1(r)){const t=r.getFirstChild();if(null!==t){r=t;continue}}else if($isTextNode$1(r)){const t=r.getTextContentSize();if(o+t>e)return{node:r,offset:e-o};o+=t}const t=r.getNextSibling();if(null!==t){r=t;continue}let l=r.getParent();for(;null!==l;){const t=l.getNextSibling();if(null!==t){r=t;continue t}l=l.getParent()}break}return null},$isRootTextContentEmpty:u$2,$isRootTextContentEmptyCurry:function(t,e){return()=>u$2(t,e)},$rootTextContent:s$2,registerLexicalTextEntity:function(t,e,n,r){const s=t=>t instanceof n,u=t=>{const e=$createTextNode$1(t.getTextContent());e.setFormat(t.getFormat()),t.replace(e)};return[t.registerNodeTransform(TextNode$1,t=>{if(!t.isSimpleText())return;const n=t.getPreviousSibling();let o,l=t.getTextContent(),f=t;if($isTextNode$1(n)){const r=n.getTextContent(),i=e(r+l);if(s(n)){if(null===i||0!==(t=>t.getLatest().__mode)(n))return void u(n);{const e=i.end-r.length;if(e>0){const i=r+l.slice(0,e);if(n.select(),n.setTextContent(i),e===l.length)t.remove();else{const n=l.slice(e);t.setTextContent(n)}return}}}else if(null===i||i.start<r.length)return}for(;;){o=e(l);let t,c=null===o?"":l.slice(o.end);if(l=c,""===c){const t=f.getNextSibling();if($isTextNode$1(t)){c=f.getTextContent()+t.getTextContent();const n=e(c);if(null===n)return void(s(t)?u(t):t.markDirty());if(0!==n.start)return}}else{const t=e(c);if(null!==t&&0===t.start)return}if(null===o)return;if(0===o.start&&$isTextNode$1(n)&&n.isTextEntity())continue;0===o.start?[t,f]=f.splitText(o.end):[,t,f]=f.splitText(o.start,o.end);const g=r(t);if(g.setFormat(t.getFormat()),t.replace(g),null==f)return}}),t.registerNodeTransform(n,t=>{const n=t.getTextContent(),r=e(n);if(null===r||0!==r.start)return void u(t);if(n.length>r.end)return void t.splitText(r.end);const o=t.getPreviousSibling();$isTextNode$1(o)&&o.isTextEntity()&&(u(o),u(t));const l=t.getNextSibling();$isTextNode$1(l)&&l.isTextEntity()&&(u(l),s(t)&&u(t))})]}}),$canShowPlaceholder$1=mod$8.$canShowPlaceholder,$canShowPlaceholderCurry$1=mod$8.$canShowPlaceholderCurry,$findTextIntersectionFromCharacters$1=mod$8.$findTextIntersectionFromCharacters,$isRootTextContentEmpty$1=mod$8.$isRootTextContentEmpty,$isRootTextContentEmptyCurry$1=mod$8.$isRootTextContentEmptyCurry,$rootTextContent$1=mod$8.$rootTextContent,registerLexicalTextEntity$1=mod$8.registerLexicalTextEntity;var LexicalText=Object.freeze({$canShowPlaceholder:$canShowPlaceholder$1,$canShowPlaceholderCurry:$canShowPlaceholderCurry$1,$findTextIntersectionFromCharacters:$findTextIntersectionFromCharacters$1,$isRootTextContentEmpty:$isRootTextContentEmpty$1,$isRootTextContentEmptyCurry:$isRootTextContentEmptyCurry$1,$rootTextContent:$rootTextContent$1,registerLexicalTextEntity:registerLexicalTextEntity$1});const CAN_USE_DOM$4="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,documentMode$2=CAN_USE_DOM$4&&"documentMode"in document?document.documentMode:null;CAN_USE_DOM$4&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),CAN_USE_DOM$4&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);!(!CAN_USE_DOM$4||!("InputEvent"in window)||documentMode$2)&&new window.InputEvent("input"),CAN_USE_DOM$4&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),CAN_USE_DOM$4&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,CAN_USE_DOM$4&&/Android/.test(navigator.userAgent);const IS_CHROME$3=CAN_USE_DOM$4&&/^(?=.*Chrome).*/i.test(navigator.userAgent);CAN_USE_DOM$4&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent),createCommand$1("DRAG_DROP_PASTE_FILE");function st$1(t,e){if(void 0!==document.caretRangeFromPoint){const n=document.caretRangeFromPoint(t,e);return null===n?null:{node:n.startContainer,offset:n.startOffset}}if("undefined"!==document.caretPositionFromPoint){const n=document.caretPositionFromPoint(t,e);return null===n?null:{node:n.offsetNode,offset:n.offset}}return null}const at$1="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,ct$1=at$1&&"documentMode"in document?document.documentMode:null;at$1&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),at$1&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);const ut$1=!(!at$1||!("InputEvent"in window)||ct$1)&&"getTargetRanges"in new window.InputEvent("input"),lt$1=at$1&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),dt$1=at$1&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,mt$1=(at$1&&/Android/.test(navigator.userAgent),at$1&&/^(?=.*Chrome).*/i.test(navigator.userAgent)),ft$1=at$1&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!mt$1,gt$1=createCommand$1("DRAG_DROP_PASTE_FILE");class pt$1 extends ElementNode$1{static getType(){return"quote"}static clone(t){return new pt$1(t.__key)}constructor(t){super(t)}createDOM(t){const e=document.createElement("blockquote");return addClassNamesToElement$1(e,t.theme.quote),e}updateDOM(t,e){return!1}static importDOM(){return{blockquote:t=>({conversion:xt$1,priority:0})}}exportDOM(t){const{element:e}=super.exportDOM(t);if(e&&isHTMLElement$2(e)){this.isEmpty()&&e.append(document.createElement("br"));const t=this.getFormatType();e.style.textAlign=t;const n=this.getDirection();n&&(e.dir=n)}return{element:e}}static importJSON(t){const e=ht$1();return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e}exportJSON(){return{...super.exportJSON(),type:"quote"}}insertNewAfter(t,e){const n=$createParagraphNode$1(),r=this.getDirection();return n.setDirection(r),this.insertAfter(n,e),n}collapseAtStart(){const t=$createParagraphNode$1();return this.getChildren().forEach(e=>t.append(e)),this.replace(t),!0}}function ht$1(){return $applyNodeReplacement$1(new pt$1)}class Ct$1 extends ElementNode$1{static getType(){return"heading"}static clone(t){return new Ct$1(t.__tag,t.__key)}constructor(t,e){super(e),this.__tag=t}getTag(){return this.__tag}createDOM(t){const e=this.__tag,n=document.createElement(e),r=t.theme.heading;if(void 0!==r){const t=r[e];addClassNamesToElement$1(n,t)}return n}updateDOM(t,e){return!1}static importDOM(){return{h1:t=>({conversion:Dt$1,priority:0}),h2:t=>({conversion:Dt$1,priority:0}),h3:t=>({conversion:Dt$1,priority:0}),h4:t=>({conversion:Dt$1,priority:0}),h5:t=>({conversion:Dt$1,priority:0}),h6:t=>({conversion:Dt$1,priority:0}),p:t=>{const e=t.firstChild;return null!==e&&yt$1(e)?{conversion:()=>({node:null}),priority:3}:null},span:t=>yt$1(t)?{conversion:t=>({node:wt$1("h1")}),priority:3}:null}}exportDOM(t){const{element:e}=super.exportDOM(t);if(e&&isHTMLElement$2(e)){this.isEmpty()&&e.append(document.createElement("br"));const t=this.getFormatType();e.style.textAlign=t;const n=this.getDirection();n&&(e.dir=n)}return{element:e}}static importJSON(t){const e=wt$1(t.tag);return e.setFormat(t.format),e.setIndent(t.indent),e.setDirection(t.direction),e}exportJSON(){return{...super.exportJSON(),tag:this.getTag(),type:"heading",version:1}}insertNewAfter(t,e=!0){const n=t?t.anchor.offset:0,r=n!==this.getTextContentSize()&&t?wt$1(this.getTag()):$createParagraphNode$1(),o=this.getDirection();if(r.setDirection(o),this.insertAfter(r,e),0===n&&!this.isEmpty()&&t){const t=$createParagraphNode$1();t.select(),this.replace(t,!0)}return r}collapseAtStart(){const t=this.isEmpty()?$createParagraphNode$1():wt$1(this.getTag());return this.getChildren().forEach(e=>t.append(e)),this.replace(t),!0}extractWithChild(){return!0}}function yt$1(t){return"span"===t.nodeName.toLowerCase()&&"26pt"===t.style.fontSize}function Dt$1(t){const e=t.nodeName.toLowerCase();let n=null;return"h1"!==e&&"h2"!==e&&"h3"!==e&&"h4"!==e&&"h5"!==e&&"h6"!==e||(n=wt$1(e),null!==t.style&&n.setFormat(t.style.textAlign)),{node:n}}function xt$1(t){const e=ht$1();return null!==t.style&&e.setFormat(t.style.textAlign),{node:e}}function wt$1(t){return $applyNodeReplacement$1(new Ct$1(t))}function Nt$1(t){let e=null;if(objectKlassEquals$1(t,DragEvent)?e=t.dataTransfer:objectKlassEquals$1(t,ClipboardEvent)&&(e=t.clipboardData),null===e)return[!1,[],!1];const n=e.types,r=n.includes("Files"),o=n.includes("text/html")||n.includes("text/plain");return[r,Array.from(e.files),o]}function At$1(t){const e=$getSelection$1();if(!$isRangeSelection$1(e))return!1;const n=new Set,r=e.getNodes();for(let e=0;e<r.length;e++){const o=r[e],i=o.getKey();if(n.has(i))continue;const s=$getNearestBlockElementAncestorOrThrow$1(o),a=s.getKey();s.canIndent()&&!n.has(a)&&(n.add(a),t(s))}return n.size>0}function Pt$1(t){const e=$getNearestNodeFromDOMNode$1(t);return $isDecoratorNode$1(e)}const mod$9=Object.freeze({$createHeadingNode:wt$1,$createQuoteNode:ht$1,$isHeadingNode:function(t){return t instanceof Ct$1},$isQuoteNode:function(t){return t instanceof pt$1},DRAG_DROP_PASTE:gt$1,HeadingNode:Ct$1,QuoteNode:pt$1,eventFiles:Nt$1,registerRichText:function(o){return mergeRegister$1(o.registerCommand(CLICK_COMMAND$1,t=>{const e=$getSelection$1();return!!$isNodeSelection$1(e)&&(e.clear(),!0)},0),o.registerCommand(DELETE_CHARACTER_COMMAND$1,t=>{const e=$getSelection$1();return!!$isRangeSelection$1(e)&&(e.deleteCharacter(t),!0)},COMMAND_PRIORITY_EDITOR$1),o.registerCommand(DELETE_WORD_COMMAND$1,t=>{const e=$getSelection$1();return!!$isRangeSelection$1(e)&&(e.deleteWord(t),!0)},COMMAND_PRIORITY_EDITOR$1),o.registerCommand(DELETE_LINE_COMMAND$1,t=>{const e=$getSelection$1();return!!$isRangeSelection$1(e)&&(e.deleteLine(t),!0)},COMMAND_PRIORITY_EDITOR$1),o.registerCommand(CONTROLLED_TEXT_INSERTION_COMMAND$1,e=>{const n=$getSelection$1();if("string"==typeof e)null!==n&&n.insertText(e);else{if(null===n)return!1;const r=e.dataTransfer;if(null!=r)$insertDataTransferForRichText$1(r,n,o);else if($isRangeSelection$1(n)){const t=e.data;return t&&n.insertText(t),!0}}return!0},COMMAND_PRIORITY_EDITOR$1),o.registerCommand(REMOVE_TEXT_COMMAND$1,()=>{const t=$getSelection$1();return!!$isRangeSelection$1(t)&&(t.removeText(),!0)},COMMAND_PRIORITY_EDITOR$1),o.registerCommand(FORMAT_TEXT_COMMAND$1,t=>{const e=$getSelection$1();return!!$isRangeSelection$1(e)&&(e.formatText(t),!0)},COMMAND_PRIORITY_EDITOR$1),o.registerCommand(FORMAT_ELEMENT_COMMAND$1,t=>{const e=$getSelection$1();if(!$isRangeSelection$1(e)&&!$isNodeSelection$1(e))return!1;const n=e.getNodes();for(const e of n){const n=$findMatchingParent$1(e,t=>$isElementNode$1(t)&&!t.isInline());null!==n&&n.setFormat(t)}return!0},COMMAND_PRIORITY_EDITOR$1),o.registerCommand(INSERT_LINE_BREAK_COMMAND$1,t=>{const e=$getSelection$1();return!!$isRangeSelection$1(e)&&(e.insertLineBreak(t),!0)},COMMAND_PRIORITY_EDITOR$1),o.registerCommand(INSERT_PARAGRAPH_COMMAND$1,()=>{const t=$getSelection$1();return!!$isRangeSelection$1(t)&&(t.insertParagraph(),!0)},COMMAND_PRIORITY_EDITOR$1),o.registerCommand(INSERT_TAB_COMMAND$1,()=>($insertNodes$1([$createTabNode$1()]),!0),COMMAND_PRIORITY_EDITOR$1),o.registerCommand(INDENT_CONTENT_COMMAND$1,()=>At$1(t=>{const e=t.getIndent();t.setIndent(e+1)}),COMMAND_PRIORITY_EDITOR$1),o.registerCommand(OUTDENT_CONTENT_COMMAND$1,()=>At$1(t=>{const e=t.getIndent();e>0&&t.setIndent(e-1)}),COMMAND_PRIORITY_EDITOR$1),o.registerCommand(KEY_ARROW_UP_COMMAND$1,t=>{const e=$getSelection$1();if($isNodeSelection$1(e)&&!Pt$1(t.target)){const t=e.getNodes();if(t.length>0)return t[0].selectPrevious(),!0}else if($isRangeSelection$1(e)){const n=$getAdjacentNode$1(e.focus,!0);if(!t.shiftKey&&$isDecoratorNode$1(n)&&!n.isIsolated()&&!n.isInline())return n.selectPrevious(),t.preventDefault(),!0}return!1},COMMAND_PRIORITY_EDITOR$1),o.registerCommand(KEY_ARROW_DOWN_COMMAND$1,t=>{const e=$getSelection$1();if($isNodeSelection$1(e)){const t=e.getNodes();if(t.length>0)return t[0].selectNext(0,0),!0}else if($isRangeSelection$1(e)){if(function(t){const e=t.focus;return"root"===e.key&&e.offset===$getRoot$1().getChildrenSize()}(e))return t.preventDefault(),!0;const n=$getAdjacentNode$1(e.focus,!1);if(!t.shiftKey&&$isDecoratorNode$1(n)&&!n.isIsolated()&&!n.isInline())return n.selectNext(),t.preventDefault(),!0}return!1},COMMAND_PRIORITY_EDITOR$1),o.registerCommand(KEY_ARROW_LEFT_COMMAND$1,t=>{const e=$getSelection$1();if($isNodeSelection$1(e)){const n=e.getNodes();if(n.length>0)return t.preventDefault(),n[0].selectPrevious(),!0}if(!$isRangeSelection$1(e))return!1;if($shouldOverrideDefaultCharacterSelection$1(e,!0)){const n=t.shiftKey;return t.preventDefault(),$moveCharacter$1(e,n,!0),!0}return!1},COMMAND_PRIORITY_EDITOR$1),o.registerCommand(KEY_ARROW_RIGHT_COMMAND$1,t=>{const e=$getSelection$1();if($isNodeSelection$1(e)&&!Pt$1(t.target)){const n=e.getNodes();if(n.length>0)return t.preventDefault(),n[0].selectNext(0,0),!0}if(!$isRangeSelection$1(e))return!1;const o=t.shiftKey;return!!$shouldOverrideDefaultCharacterSelection$1(e,!1)&&(t.preventDefault(),$moveCharacter$1(e,o,!1),!0)},COMMAND_PRIORITY_EDITOR$1),o.registerCommand(KEY_BACKSPACE_COMMAND$1,t=>{if(Pt$1(t.target))return!1;const e=$getSelection$1();if(!$isRangeSelection$1(e))return!1;t.preventDefault();const{anchor:n}=e,r=n.getNode();return e.isCollapsed()&&0===n.offset&&!$isRootNode$1(r)&&$getNearestBlockElementAncestorOrThrow$1(r).getIndent()>0?o.dispatchCommand(OUTDENT_CONTENT_COMMAND$1,void 0):o.dispatchCommand(DELETE_CHARACTER_COMMAND$1,!0)},COMMAND_PRIORITY_EDITOR$1),o.registerCommand(KEY_DELETE_COMMAND$1,t=>{if(Pt$1(t.target))return!1;const e=$getSelection$1();return!!$isRangeSelection$1(e)&&(t.preventDefault(),o.dispatchCommand(DELETE_CHARACTER_COMMAND$1,!1))},COMMAND_PRIORITY_EDITOR$1),o.registerCommand(KEY_ENTER_COMMAND$1,t=>{const e=$getSelection$1();if(!$isRangeSelection$1(e))return!1;if(null!==t){if((dt$1||lt$1||ft$1)&&ut$1)return!1;if(t.preventDefault(),t.shiftKey)return o.dispatchCommand(INSERT_LINE_BREAK_COMMAND$1,!1)}return o.dispatchCommand(INSERT_PARAGRAPH_COMMAND$1,void 0)},COMMAND_PRIORITY_EDITOR$1),o.registerCommand(KEY_ESCAPE_COMMAND$1,()=>{const t=$getSelection$1();return!!$isRangeSelection$1(t)&&(o.blur(),!0)},COMMAND_PRIORITY_EDITOR$1),o.registerCommand(DROP_COMMAND$1,t=>{const[,e]=Nt$1(t);if(e.length>0){const n=st$1(t.clientX,t.clientY);if(null!==n){const{offset:t,node:r}=n,i=$getNearestNodeFromDOMNode$1(r);if(null!==i){const e=$createRangeSelection$1();if($isTextNode$1(i))e.anchor.set(i.getKey(),t,"text"),e.focus.set(i.getKey(),t,"text");else{const t=i.getParentOrThrow().getKey(),n=i.getIndexWithinParent()+1;e.anchor.set(t,n,"element"),e.focus.set(t,n,"element")}const n=$normalizeSelection__EXPERIMENTAL(e);$setSelection$1(n)}o.dispatchCommand(gt$1,e)}return t.preventDefault(),!0}const n=$getSelection$1();return!!$isRangeSelection$1(n)},COMMAND_PRIORITY_EDITOR$1),o.registerCommand(DRAGSTART_COMMAND$1,t=>{const[e]=Nt$1(t),n=$getSelection$1();return!(e&&!$isRangeSelection$1(n))},COMMAND_PRIORITY_EDITOR$1),o.registerCommand(DRAGOVER_COMMAND$1,t=>{const[e]=Nt$1(t),n=$getSelection$1();if(e&&!$isRangeSelection$1(n))return!1;const r=st$1(t.clientX,t.clientY);if(null!==r){const e=$getNearestNodeFromDOMNode$1(r.node);$isDecoratorNode$1(e)&&t.preventDefault()}return!0},COMMAND_PRIORITY_EDITOR$1),o.registerCommand(SELECT_ALL_COMMAND$1,()=>($selectAll$1(),!0),COMMAND_PRIORITY_EDITOR$1),o.registerCommand(COPY_COMMAND$1,t=>(copyToClipboard$1(o,objectKlassEquals$1(t,ClipboardEvent)?t:null),!0),COMMAND_PRIORITY_EDITOR$1),o.registerCommand(CUT_COMMAND$1,t=>(async function(t,n){await copyToClipboard$1(n,objectKlassEquals$1(t,ClipboardEvent)?t:null),n.update(()=>{const t=$getSelection$1();$isRangeSelection$1(t)?t.removeText():$isNodeSelection$1(t)&&t.getNodes().forEach(t=>t.remove())})}(t,o),!0),COMMAND_PRIORITY_EDITOR$1),o.registerCommand(PASTE_COMMAND$1,e=>{const[,n,r]=Nt$1(e);return n.length>0&&!r?(o.dispatchCommand(gt$1,n),!0):!isSelectionCapturedInDecoratorInput$1(e.target)&&(null!==$getSelection$1()&&(function(e,n){e.preventDefault(),n.update(()=>{const r=$getSelection$1(),o=objectKlassEquals$1(e,InputEvent)||objectKlassEquals$1(e,KeyboardEvent)?null:e.clipboardData;null!=o&&null!==r&&$insertDataTransferForRichText$1(o,r,n)},{tag:"paste"})}(e,o),!0))},COMMAND_PRIORITY_EDITOR$1))}}),$createHeadingNode$1=mod$9.$createHeadingNode,$createQuoteNode$1=mod$9.$createQuoteNode,$isHeadingNode$1=mod$9.$isHeadingNode,$isQuoteNode$1=mod$9.$isQuoteNode,DRAG_DROP_PASTE$1=mod$9.DRAG_DROP_PASTE,HeadingNode$1=mod$9.HeadingNode,QuoteNode$1=mod$9.QuoteNode,eventFiles$1=mod$9.eventFiles,registerRichText$1=mod$9.registerRichText;var LexicalRichText=Object.freeze({$createHeadingNode:$createHeadingNode$1,$createQuoteNode:$createQuoteNode$1,$isHeadingNode:$isHeadingNode$1,$isQuoteNode:$isQuoteNode$1,DRAG_DROP_PASTE:DRAG_DROP_PASTE$1,HeadingNode:HeadingNode$1,QuoteNode:QuoteNode$1,eventFiles:eventFiles$1,registerRichText:registerRichText$1});createCommand$1("INSERT_TABLE_COMMAND"),"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement;const X$1=/^(\d+(?:\.\d+)?)px$/,Y$1={BOTH:3,COLUMN:2,NO_STATUS:0,ROW:1};class J$2 extends ElementNode$1{static getType(){return"tablecell"}static clone(e){const t=new J$2(e.__headerState,e.__colSpan,e.__width,e.__key);return t.__rowSpan=e.__rowSpan,t.__backgroundColor=e.__backgroundColor,t}static importDOM(){return{td:e=>({conversion:$$4,priority:0}),th:e=>({conversion:$$4,priority:0})}}static importJSON(e){const t=e.colSpan||1,n=e.rowSpan||1,o=j$3(e.headerState,t,e.width||void 0);return o.__rowSpan=n,o.__backgroundColor=e.backgroundColor||null,o}constructor(e=Y$1.NO_STATUS,t=1,n,o){super(o),this.__colSpan=t,this.__rowSpan=1,this.__headerState=e,this.__width=n,this.__backgroundColor=null}createDOM(t){const n=document.createElement(this.getTag());return this.__width&&(n.style.width=this.__width+"px"),this.__colSpan>1&&(n.colSpan=this.__colSpan),this.__rowSpan>1&&(n.rowSpan=this.__rowSpan),null!==this.__backgroundColor&&(n.style.backgroundColor=this.__backgroundColor),addClassNamesToElement$1(n,t.theme.tableCell,this.hasHeader()&&t.theme.tableCellHeader),n}exportDOM(e){const{element:t}=super.exportDOM(e);if(t){const e=t,n=700,o=this.getParentOrThrow().getChildrenSize();e.style.border="1px solid black",this.__colSpan>1&&(e.colSpan=this.__colSpan),this.__rowSpan>1&&(e.rowSpan=this.__rowSpan),e.style.width=(this.getWidth()||Math.max(90,n/o))+"px",e.style.verticalAlign="top",e.style.textAlign="start";const r=this.getBackgroundColor();null!==r?e.style.backgroundColor=r:this.hasHeader()&&(e.style.backgroundColor="#f2f3f5")}return{element:t}}exportJSON(){return{...super.exportJSON(),backgroundColor:this.getBackgroundColor(),colSpan:this.__colSpan,headerState:this.__headerState,rowSpan:this.__rowSpan,type:"tablecell",width:this.getWidth()}}getColSpan(){return this.__colSpan}setColSpan(e){return this.getWritable().__colSpan=e,this}getRowSpan(){return this.__rowSpan}setRowSpan(e){return this.getWritable().__rowSpan=e,this}getTag(){return this.hasHeader()?"th":"td"}setHeaderStyles(e){return this.getWritable().__headerState=e,this.__headerState}getHeaderStyles(){return this.getLatest().__headerState}setWidth(e){return this.getWritable().__width=e,this.__width}getWidth(){return this.getLatest().__width}getBackgroundColor(){return this.getLatest().__backgroundColor}setBackgroundColor(e){this.getWritable().__backgroundColor=e}toggleHeaderStyle(e){const t=this.getWritable();return(t.__headerState&e)===e?t.__headerState-=e:t.__headerState+=e,t}hasHeaderState(e){return(this.getHeaderStyles()&e)===e}hasHeader(){return this.getLatest().__headerState!==Y$1.NO_STATUS}updateDOM(e){return e.__headerState!==this.__headerState||e.__width!==this.__width||e.__colSpan!==this.__colSpan||e.__rowSpan!==this.__rowSpan||e.__backgroundColor!==this.__backgroundColor}isShadowRoot(){return!0}collapseAtStart(){return!0}canBeEmpty(){return!1}canIndent(){return!1}}function $$4(e){const t=e,n=e.nodeName.toLowerCase();let o;X$1.test(t.style.width)&&(o=parseFloat(t.style.width));const r=j$3("th"===n?Y$1.ROW:Y$1.NO_STATUS,t.colSpan,o);r.__rowSpan=t.rowSpan;const l=t.style.backgroundColor;""!==l&&(r.__backgroundColor=l);const h=t.style,d="700"===h.fontWeight||"bold"===h.fontWeight,u="line-through"===h.textDecoration,g="italic"===h.fontStyle,f="underline"===h.textDecoration;return{after:e=>(0===e.length&&e.push($createParagraphNode$1()),e),forChild:(e,t)=>{if(q$2(t)&&!$isElementNode$1(e)){const t=$createParagraphNode$1();return $isLineBreakNode$1(e)&&"\n"===e.getTextContent()?null:($isTextNode$1(e)&&(d&&e.toggleFormat("bold"),u&&e.toggleFormat("strikethrough"),g&&e.toggleFormat("italic"),f&&e.toggleFormat("underline")),t.append(e),t)}return e},node:r}}function j$3(e,t=1,n){return $applyNodeReplacement$1(new J$2(e,t,n))}function q$2(e){return e instanceof J$2}const G$1=createCommand$1("INSERT_TABLE_COMMAND");class Q$1 extends ElementNode$1{static getType(){return"tablerow"}static clone(e){return new Q$1(e.__height,e.__key)}static importDOM(){return{tr:e=>({conversion:V$3,priority:0})}}static importJSON(e){return Z$1(e.height)}constructor(e,t){super(t),this.__height=e}exportJSON(){return{...super.exportJSON(),...this.getHeight()&&{height:this.getHeight()},type:"tablerow",version:1}}createDOM(t){const n=document.createElement("tr");return this.__height&&(n.style.height=this.__height+"px"),addClassNamesToElement$1(n,t.theme.tableRow),n}isShadowRoot(){return!0}setHeight(e){return this.getWritable().__height=e,this.__height}getHeight(){return this.getLatest().__height}updateDOM(e){return e.__height!==this.__height}canBeEmpty(){return!1}canIndent(){return!1}}function V$3(e){const t=e;let n;return X$1.test(t.style.height)&&(n=parseFloat(t.style.height)),{node:Z$1(n)}}function Z$1(e){return $applyNodeReplacement$1(new Q$1(e))}function ee$1(e){return e instanceof Q$1}var te$1=function(e){const t=new URLSearchParams;t.append("code",e);for(let e=1;e<arguments.length;e++)t.append("v",arguments[e]);throw Error(`Minified Lexical error #${e}; visit https://lexical.dev/docs/error?${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)};const ne$1="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function le$1(e){const n=$findMatchingParent$1(e,e=>ee$1(e));if(ee$1(n))return n;throw new Error("Expected table cell to be inside of table row.")}function se$1(e){const n=$findMatchingParent$1(e,e=>nt$1(e));if(nt$1(n))return n;throw new Error("Expected table cell to be inside of table.")}function ce$1(e,t){const n=se$1(e),{x:o,y:r}=n.getCordsFromCellNode(e,t);return{above:n.getCellNodeFromCords(o,r-1,t),below:n.getCellNodeFromCords(o,r+1,t),left:n.getCellNodeFromCords(o-1,r,t),right:n.getCellNodeFromCords(o+1,r,t)}}const ue$1=(e,t)=>e===Y$1.BOTH||e===t?t:Y$1.NO_STATUS;function _e$1(e){const t=e.getFirstDescendant();null==t?e.selectStart():t.getParentOrThrow().selectStart()}function we$1(e,t){const n=e.getFirstChild();null!==n?n.insertBefore(t):e.append(t)}function ye$1(e,t,n){const o=[];let r=null,l=null;function s(e,s,i){const a={cell:i,startColumn:s,startRow:e},c=i.__rowSpan,h=i.__colSpan;for(let t=0;t<c;t++){void 0===o[e+t]&&(o[e+t]=[]);for(let n=0;n<h;n++)o[e+t][s+n]=a}t.is(i)&&(r=a),n.is(i)&&(l=a)}function i(e,t){return void 0===o[e]||void 0===o[e][t]}const a=e.getChildren();for(let e=0;e<a.length;e++){const t=a[e];ee$1(t)||te$1(146);const n=t.getChildren();let o=0;for(const t of n){for(q$2(t)||te$1(147);!i(e,o);)o++;s(e,o,t),o+=t.__colSpan}}return null===r&&te$1(110),null===l&&te$1(111),[o,r,l]}function Ne$1(e){let n;if(e instanceof J$2)n=e;else if("__type"in e){const o=$findMatchingParent$1(e,q$2);q$2(o)||te$1(148),n=o}else{const o=$findMatchingParent$1(e.getNode(),q$2);q$2(o)||te$1(148),n=o}const o=n.getParent();ee$1(o)||te$1(149);const r=o.getParent();return nt$1(r)||te$1(150),[n,o,r]}function xe$1(e){const[t,,n]=Ne$1(e),o=n.getChildren(),r=o.length,l=o[0].getChildren().length,s=new Array(r);for(let e=0;e<r;e++)s[e]=new Array(l);for(let e=0;e<r;e++){const n=o[e].getChildren();let r=0;for(let o=0;o<n.length;o++){for(;s[e][r];)r++;const l=n[o],i=l.__rowSpan||1,a=l.__colSpan||1;for(let t=0;t<i;t++)for(let n=0;n<a;n++)s[e+t][r+n]=l;if(t===l)return{colSpan:a,columnIndex:r,rowIndex:e,rowSpan:i};r+=a}}return null}class Te$1{constructor(e,t,n){this.anchor=t,this.focus=n,t._selection=this,n._selection=this,this._cachedNodes=null,this.dirty=!1,this.tableKey=e}getStartEndPoints(){return[this.anchor,this.focus]}isBackward(){return this.focus.isBefore(this.anchor)}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!ve$1(e)&&this.tableKey===e.tableKey&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)}set(e,t,n){this.dirty=!0,this.tableKey=e,this.anchor.key=t,this.focus.key=n,this._cachedNodes=null}clone(){return new Te$1(this.tableKey,this.anchor,this.focus)}isCollapsed(){return!1}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){const t=this.focus.getNode();$isElementNode$1(t)||te$1(151),$normalizeSelection__EXPERIMENTAL(t.select(0,t.getChildrenSize())).insertNodes(e)}getShape(){const e=$getNodeByKey$1(this.anchor.key);q$2(e)||te$1(152);const t=xe$1(e);null===t&&te$1(153);const n=$getNodeByKey$1(this.focus.key);q$2(n)||te$1(154);const o=xe$1(n);null===o&&te$1(155);const r=Math.min(t.columnIndex,o.columnIndex),l=Math.max(t.columnIndex,o.columnIndex),s=Math.min(t.rowIndex,o.rowIndex),i=Math.max(t.rowIndex,o.rowIndex);return{fromX:Math.min(r,l),fromY:Math.min(s,i),toX:Math.max(r,l),toY:Math.max(s,i)}}getNodes(){const e=this._cachedNodes;if(null!==e)return e;const n=this.anchor.getNode(),o=this.focus.getNode(),r=$findMatchingParent$1(n,q$2),l=$findMatchingParent$1(o,q$2);q$2(r)||te$1(152),q$2(l)||te$1(154);const s=r.getParent();ee$1(s)||te$1(156);const i=s.getParent();nt$1(i)||te$1(157);const a=l.getParents()[1];if(a!==i){if(i.isParentOf(l)){const e=a.getParent();null==e&&te$1(159),this.set(this.tableKey,l.getKey(),e.getKey())}else{const e=i.getParent();null==e&&te$1(158),this.set(this.tableKey,e.getKey(),l.getKey())}return this.getNodes()}const[c,h,d]=ye$1(i,r,l);let u=Math.min(h.startColumn,d.startColumn),g=Math.min(h.startRow,d.startRow),f=Math.max(h.startColumn+h.cell.__colSpan-1,d.startColumn+d.cell.__colSpan-1),m=Math.max(h.startRow+h.cell.__rowSpan-1,d.startRow+d.cell.__rowSpan-1),C=u,S=g,_=u,w=g;function b(e){const{cell:t,startColumn:n,startRow:o}=e;u=Math.min(u,n),g=Math.min(g,o),f=Math.max(f,n+t.__colSpan-1),m=Math.max(m,o+t.__rowSpan-1)}for(;u<C||g<S||f>_||m>w;){if(u<C){const e=w-S,t=C-1;for(let n=0;n<=e;n++)b(c[S+n][t]);C=t}if(g<S){const e=_-C,t=S-1;for(let n=0;n<=e;n++)b(c[t][C+n]);S=t}if(f>_){const e=w-S,t=_+1;for(let n=0;n<=e;n++)b(c[S+n][t]);_=t}if(m>w){const e=_-C,t=w+1;for(let n=0;n<=e;n++)b(c[t][C+n]);w=t}}const y=[i];let N=null;for(let e=g;e<=m;e++)for(let t=u;t<=f;t++){const{cell:n}=c[e][t],o=n.getParent();ee$1(o)||te$1(160),o!==N&&y.push(o),y.push(n,...Oe$1(n)),N=o}return isCurrentlyReadOnlyMode$1()||(this._cachedNodes=y),y}getTextContent(){const e=this.getNodes();let t="";for(let n=0;n<e.length;n++)t+=e[n].getTextContent();return t}}function ve$1(e){return e instanceof Te$1}function Ee$1(){const e=$createPoint$1("root",0,"element"),t=$createPoint$1("root",0,"element");return new Te$1("root",e,t)}function Oe$1(e){const t=[],n=[e];for(;n.length>0;){const o=n.pop();void 0===o&&te$1(112),$isElementNode$1(o)&&n.unshift(...o.getChildren()),o!==e&&t.push(o)}return t}class Me$1{constructor(e,t){this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.listenersToRemove=new Set,this.tableNodeKey=t,this.editor=e,this.table={columns:0,domRows:[],rows:0},this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.trackTable(),this.isSelecting=!1}getTable(){return this.table}removeListeners(){Array.from(this.listenersToRemove).forEach(e=>e())}trackTable(){const e=new MutationObserver(e=>{this.editor.update(()=>{let t=!1;for(let n=0;n<e.length;n++){const o=e[n].target.nodeName;if("TABLE"===o||"TR"===o){t=!0;break}}if(!t)return;const n=this.editor.getElementByKey(this.tableNodeKey);if(!n)throw new Error("Expected to find TableElement in DOM");this.table=Pe$1(n)})});this.editor.update(()=>{const t=this.editor.getElementByKey(this.tableNodeKey);if(!t)throw new Error("Expected to find TableElement in DOM");this.table=Pe$1(t),e.observe(t,{childList:!0,subtree:!0})})}clearHighlight(){const e=this.editor;this.isHighlightingCells=!1,this.anchorX=-1,this.anchorY=-1,this.focusX=-1,this.focusY=-1,this.tableSelection=null,this.anchorCellNodeKey=null,this.focusCellNodeKey=null,this.anchorCell=null,this.focusCell=null,this.hasHijackedSelectionStyles=!1,this.enableHighlightStyle(),e.update(()=>{if(!nt$1($getNodeByKey$1(this.tableNodeKey)))throw new Error("Expected TableNode.");const t=e.getElementByKey(this.tableNodeKey);if(!t)throw new Error("Expected to find TableElement in DOM");const n=Pe$1(t);Ae$1(e,n,null),$setSelection$1(null),e.dispatchCommand(SELECTION_CHANGE_COMMAND$1,void 0)})}enableHighlightStyle(){const e=this.editor;e.update(()=>{const t=e.getElementByKey(this.tableNodeKey);if(!t)throw new Error("Expected to find TableElement in DOM");removeClassNamesFromElement$1(t,e._config.theme.tableSelection),t.classList.remove("disable-selection"),this.hasHijackedSelectionStyles=!1})}disableHighlightStyle(){const t=this.editor;t.update(()=>{const n=t.getElementByKey(this.tableNodeKey);if(!n)throw new Error("Expected to find TableElement in DOM");addClassNamesToElement$1(n,t._config.theme.tableSelection),this.hasHijackedSelectionStyles=!0})}updateTableTableSelection(e){if(null!==e&&e.tableKey===this.tableNodeKey){const t=this.editor;this.tableSelection=e,this.isHighlightingCells=!0,this.disableHighlightStyle(),Ae$1(t,this.table,this.tableSelection)}else null==e?this.clearHighlight():(this.tableNodeKey=e.tableKey,this.updateTableTableSelection(e))}setFocusCellForSelection(e,t=!1){const n=this.editor;n.update(()=>{const o=$getNodeByKey$1(this.tableNodeKey);if(!nt$1(o))throw new Error("Expected TableNode.");if(!n.getElementByKey(this.tableNodeKey))throw new Error("Expected to find TableElement in DOM");const r=e.x,l=e.y;if(this.focusCell=e,null!==this.anchorCell){const e=Ke$1(n._window);e&&e.setBaseAndExtent(this.anchorCell.elem,0,this.focusCell.elem,0)}if(this.isHighlightingCells||this.anchorX===r&&this.anchorY===l&&!t){if(r===this.focusX&&l===this.focusY)return}else this.isHighlightingCells=!0,this.disableHighlightStyle();if(this.focusX=r,this.focusY=l,this.isHighlightingCells){const t=$getNearestNodeFromDOMNode$1(e.elem);if(null!=this.tableSelection&&null!=this.anchorCellNodeKey&&q$2(t)&&o.is($e$1(t))){const e=t.getKey();this.tableSelection=this.tableSelection.clone()||Ee$1(),this.focusCellNodeKey=e,this.tableSelection.set(this.tableNodeKey,this.anchorCellNodeKey,this.focusCellNodeKey),$setSelection$1(this.tableSelection),n.dispatchCommand(SELECTION_CHANGE_COMMAND$1,void 0),Ae$1(n,this.table,this.tableSelection)}}})}setAnchorCellForSelection(e){this.isHighlightingCells=!1,this.anchorCell=e,this.anchorX=e.x,this.anchorY=e.y,this.editor.update(()=>{const t=$getNearestNodeFromDOMNode$1(e.elem);if(q$2(t)){const e=t.getKey();this.tableSelection=null!=this.tableSelection?this.tableSelection.clone():Ee$1(),this.anchorCellNodeKey=e}})}formatCells(e){this.editor.update(()=>{const t=$getSelection$1();ve$1(t)||te$1(11);const n=$createRangeSelection$1(),o=n.anchor,r=n.focus;t.getNodes().forEach(t=>{q$2(t)&&0!==t.getTextContentSize()&&(o.set(t.getKey(),0,"element"),r.set(t.getKey(),t.getChildrenSize(),"element"),n.formatText(e))}),$setSelection$1(t),this.editor.dispatchCommand(SELECTION_CHANGE_COMMAND$1,void 0)})}clearText(){const e=this.editor;e.update(()=>{const t=$getNodeByKey$1(this.tableNodeKey);if(!nt$1(t))throw new Error("Expected TableNode.");const n=$getSelection$1();ve$1(n)||te$1(11);const o=n.getNodes().filter(q$2);o.length!==this.table.columns*this.table.rows?(o.forEach(e=>{if($isElementNode$1(e)){const t=$createParagraphNode$1(),n=$createTextNode$1();t.append(n),e.append(t),e.getChildren().forEach(e=>{e!==t&&e.remove()})}}),Ae$1(e,this.table,null),$setSelection$1(null),e.dispatchCommand(SELECTION_CHANGE_COMMAND$1,void 0)):(t.selectPrevious(),t.remove(),$getRoot$1().selectStart())})}}const Re$1="__lexicalTableSelection",Ke$1=e=>ne$1?(e||window).getSelection():null;function He$1(e){let t=e;for(;null!=t;){const e=t.nodeName;if("TD"===e||"TH"===e){const e=t._cell;return void 0===e?null:e}t=t.parentNode}return null}function Pe$1(e){const t=[],n={columns:0,domRows:t,rows:0};let o=e.firstChild,r=0,l=0;for(t.length=0;null!=o;){const e=o.nodeName;if("TD"===e||"TH"===e){const e={elem:o,hasBackgroundColor:""!==o.style.backgroundColor,highlighted:!1,x:r,y:l};o._cell=e;let n=t[l];void 0===n&&(n=t[l]=[]),n[r]=e}else{const e=o.firstChild;if(null!=e){o=e;continue}}const n=o.nextSibling;if(null!=n){r++,o=n;continue}const s=o.parentNode;if(null!=s){const e=s.nextSibling;if(null==e)break;l++,r=0,o=e}}return n.columns=r+1,n.rows=l+1,n}function Ae$1(e,t,n){const o=new Set(n?n.getNodes():[]);Be$1(t,(t,n)=>{const r=t.elem;o.has(n)?(t.highlighted=!0,Xe$1(e,t)):(t.highlighted=!1,Ye$1(e,t),r.getAttribute("style")||r.removeAttribute("style"))})}function Be$1(e,t){const{domRows:n}=e;for(let e=0;e<n.length;e++){const o=n[e];if(o)for(let n=0;n<o.length;n++){const r=o[n];if(!r)continue;const l=$getNearestNodeFromDOMNode$1(r.elem);null!==l&&t(r,l,{x:n,y:e})}}}function De$1(e,t){t.disableHighlightStyle(),Be$1(t.table,t=>{t.highlighted=!0,Xe$1(e,t)})}const Ie$1=(e,t,n,o,r)=>{const l="forward"===r;switch(r){case"backward":case"forward":return n!==(l?e.table.columns-1:0)?Ue$1(t.getCellNodeFromCordsOrThrow(n+(l?1:-1),o,e.table),l):o!==(l?e.table.rows-1:0)?Ue$1(t.getCellNodeFromCordsOrThrow(l?0:e.table.columns-1,o+(l?1:-1),e.table),l):l?t.selectNext():t.selectPrevious(),!0;case"up":return 0!==o?Ue$1(t.getCellNodeFromCordsOrThrow(n,o-1,e.table),!1):t.selectPrevious(),!0;case"down":return o!==e.table.rows-1?Ue$1(t.getCellNodeFromCordsOrThrow(n,o+1,e.table),!0):t.selectNext(),!0;default:return!1}};function We$1(e,t){if($isRangeSelection$1(e)||ve$1(e)){const n=t.isParentOf(e.anchor.getNode()),o=t.isParentOf(e.focus.getNode());return n&&o}return!1}function Ue$1(e,t){t?e.selectStart():e.selectEnd()}const ze$1="172,206,247";function Xe$1(e,t){const n=t.elem,o=$getNearestNodeFromDOMNode$1(n);q$2(o)||te$1(131),null===o.getBackgroundColor()?n.style.setProperty("background-color",`rgb(${ze$1})`):n.style.setProperty("background-image",`linear-gradient(to right, rgba(${ze$1},0.85), rgba(${ze$1},0.85))`),n.style.setProperty("caret-color","transparent")}function Ye$1(e,t){const n=t.elem,o=$getNearestNodeFromDOMNode$1(n);q$2(o)||te$1(131),null===o.getBackgroundColor()&&n.style.removeProperty("background-color"),n.style.removeProperty("background-image"),n.style.removeProperty("caret-color")}function Je$1(e){const n=$findMatchingParent$1(e,q$2);return q$2(n)?n:null}function $e$1(e){const n=$findMatchingParent$1(e,nt$1);return nt$1(n)?n:null}function je$1(e,n,o,r,l){const s=$getSelection$1();if(!We$1(s,r)){if("backward"===o&&$isRangeSelection$1(s)&&s.isCollapsed()){const e=s.anchor.type,o=s.anchor.offset;if("element"!==e&&("text"!==e||0!==o))return!1;const r=s.anchor.getNode();if(!r)return!1;const l=$findMatchingParent$1(r,e=>$isElementNode$1(e)&&!e.isInline());if(!l)return!1;const a=l.getPreviousSibling();return!(!a||!nt$1(a)||(qe$1(n),a.selectEnd(),0))}return!1}if($isRangeSelection$1(s)&&s.isCollapsed()){const{anchor:a,focus:c}=s,h=$findMatchingParent$1(a.getNode(),q$2),d=$findMatchingParent$1(c.getNode(),q$2);if(!q$2(h)||!h.is(d))return!1;const u=$e$1(h);if(u!==r&&null!=u){const t=e.getElementByKey(u.getKey());if(null!=t)return l.table=Pe$1(t),je$1(e,n,o,u,l)}if("backward"===o||"forward"===o){const e=a.type,l=a.offset,s=a.getNode();return!!s&&!!function(e,n,o,r){return function(e,t,n){return"element"===e&&("backward"===n?null===t.getPreviousSibling():null===t.getNextSibling())}(e,o,r)||function(e,n,o,r){const l=$findMatchingParent$1(o,e=>$isElementNode$1(e)&&!e.isInline());if(!l)return!1;const s="backward"===r?0===n:n===o.getTextContentSize();return"text"===e&&s&&("backward"===r?null===l.getPreviousSibling():null===l.getNextSibling())}(e,n,o,r)}(e,l,s,o)&&function(e,n,o,r){const l=$findMatchingParent$1(n,q$2);if(!q$2(l))return!1;const[s,a]=ye$1(o,l,l);if(!function(e,t,n){const o=e[0][0],r=e[e.length-1][e[0].length-1],{startColumn:l,startRow:s}=t;return"backward"===n?l===o.startColumn&&s===o.startRow:l===r.startColumn&&s===r.startRow}(s,a,r))return!1;const c=function(e,n,o){const r=$findMatchingParent$1(e,e=>$isElementNode$1(e)&&!e.isInline());if(!r)return;const l="backward"===n?r.getPreviousSibling():r.getNextSibling();return l&&nt$1(l)?l:"backward"===n?o.getPreviousSibling():o.getNextSibling()}(n,r,o);return!(!c||nt$1(c))&&(qe$1(e),"backward"===r?c.selectEnd():c.selectStart(),!0)}(n,s,r,o)}const g=e.getElementByKey(h.__key),f=e.getElementByKey(a.key);if(null==f||null==g)return!1;let m;if("element"===a.type)m=f.getBoundingClientRect();else{const e=window.getSelection();if(null===e||0===e.rangeCount)return!1;m=e.getRangeAt(0).getBoundingClientRect()}const p="up"===o?h.getFirstChild():h.getLastChild();if(null==p)return!1;const C=e.getElementByKey(p.__key);if(null==C)return!1;const S=C.getBoundingClientRect();if("up"===o?S.top>m.top-m.height:m.bottom+m.height>S.bottom){qe$1(n);const e=r.getCordsFromCellNode(h,l.table);if(!n.shiftKey)return Ie$1(l,r,e.x,e.y,o);{const t=r.getDOMCellFromCordsOrThrow(e.x,e.y,l.table);l.setAnchorCellForSelection(t),l.setFocusCellForSelection(t,!0)}return!0}}else if(ve$1(s)){const{anchor:i,focus:a}=s,c=$findMatchingParent$1(i.getNode(),q$2),h=$findMatchingParent$1(a.getNode(),q$2),[d]=s.getNodes(),u=e.getElementByKey(d.getKey());if(!q$2(c)||!q$2(h)||!nt$1(d)||null==u)return!1;l.updateTableTableSelection(s);const g=Pe$1(u),f=r.getCordsFromCellNode(c,g),m=r.getDOMCellFromCordsOrThrow(f.x,f.y,g);if(l.setAnchorCellForSelection(m),qe$1(n),n.shiftKey){const e=r.getCordsFromCellNode(h,g);return((e,t,n,o,r)=>{const l="forward"===r;switch(r){case"backward":case"forward":return n!==(l?e.table.columns-1:0)&&e.setFocusCellForSelection(t.getDOMCellFromCordsOrThrow(n+(l?1:-1),o,e.table)),!0;case"up":return 0!==o&&(e.setFocusCellForSelection(t.getDOMCellFromCordsOrThrow(n,o-1,e.table)),!0);case"down":return o!==e.table.rows-1&&(e.setFocusCellForSelection(t.getDOMCellFromCordsOrThrow(n,o+1,e.table)),!0);default:return!1}})(l,d,e.x,e.y,o)}return h.selectEnd(),!0}return!1}function qe$1(e){e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation()}function Ge$1(e,t,n){const o=$createParagraphNode$1();"first"===e?t.insertBefore(o):t.insertAfter(o),o.append(...n||[]),o.selectEnd()}function Qe$1(e,n,o){const r=window.getSelection();if(!r||r.anchorNode!==e.getRootElement())return;const l=$findMatchingParent$1(n.anchor.getNode(),e=>q$2(e));if(!l)return;const s=$findMatchingParent$1(l,e=>nt$1(e));if(!nt$1(s)||!s.is(o))return;const[i,a]=ye$1(o,l,l),c=i[0][0],h=i[i.length-1][i[0].length-1],{startRow:d,startColumn:u}=a,g=d===c.startRow&&u===c.startColumn,f=d===h.startRow&&u===h.startColumn;return g?"first":f?"last":void 0}class Ve$1 extends ElementNode$1{static getType(){return"table"}static clone(e){return new Ve$1(e.__key)}static importDOM(){return{table:e=>({conversion:et$1,priority:1})}}static importJSON(e){return tt$1()}constructor(e){super(e)}exportJSON(){return{...super.exportJSON(),type:"table",version:1}}createDOM(t,n){const o=document.createElement("table");return addClassNamesToElement$1(o,t.theme.table),o}updateDOM(){return!1}exportDOM(e){return{...super.exportDOM(e),after:e=>{if(e){const t=e.cloneNode(),n=document.createElement("colgroup"),r=document.createElement("tbody");isHTMLElement$2(e)&&r.append(...e.children);const l=this.getFirstChildOrThrow();if(!ee$1(l))throw new Error("Expected to find row node.");const s=l.getChildrenSize();for(let e=0;e<s;e++){const e=document.createElement("col");n.append(e)}return t.replaceChildren(n,r),t}}}}canBeEmpty(){return!1}isShadowRoot(){return!0}getCordsFromCellNode(e,t){const{rows:n,domRows:o}=t;for(let t=0;t<n;t++){const n=o[t];if(null==n)continue;const r=n.findIndex(t=>{if(!t)return;const{elem:n}=t;return $getNearestNodeFromDOMNode$1(n)===e});if(-1!==r)return{x:r,y:t}}throw new Error("Cell not found in table.")}getDOMCellFromCords(e,t,n){const{domRows:o}=n,r=o[t];if(null==r)return null;const l=r[e];return null==l?null:l}getDOMCellFromCordsOrThrow(e,t,n){const o=this.getDOMCellFromCords(e,t,n);if(!o)throw new Error("Cell not found at cords.");return o}getCellNodeFromCords(e,t,n){const o=this.getDOMCellFromCords(e,t,n);if(null==o)return null;const r=$getNearestNodeFromDOMNode$1(o.elem);return q$2(r)?r:null}getCellNodeFromCordsOrThrow(e,t,n){const o=this.getCellNodeFromCords(e,t,n);if(!o)throw new Error("Node at cords not TableCellNode.");return o}canSelectBefore(){return!0}canIndent(){return!1}}function et$1(e){return{node:tt$1()}}function tt$1(){return $applyNodeReplacement$1(new Ve$1)}function nt$1(e){return e instanceof Ve$1}const mod$a=Object.freeze({$computeTableMap:ye$1,$createTableCellNode:j$3,$createTableNode:tt$1,$createTableNodeWithDimensions:function(e,t,n=!0){const o=tt$1();for(let r=0;r<e;r++){const e=Z$1();for(let o=0;o<t;o++){let t=Y$1.NO_STATUS;"object"==typeof n?(0===r&&n.rows&&(t|=Y$1.ROW),0===o&&n.columns&&(t|=Y$1.COLUMN)):n&&(0===r&&(t|=Y$1.ROW),0===o&&(t|=Y$1.COLUMN));const l=j$3(t),i=$createParagraphNode$1();i.append($createTextNode$1()),l.append(i),e.append(l)}o.append(e)}return o},$createTableRowNode:Z$1,$createTableSelection:Ee$1,$deleteTableColumn:function(e,t){const n=e.getChildren();for(let e=0;e<n.length;e++){const o=n[e];if(ee$1(o)){const e=o.getChildren();if(t>=e.length||t<0)throw new Error("Table column target index out of range");e[t].remove()}}return e},$deleteTableColumn__EXPERIMENTAL:function(){const e=$getSelection$1();$isRangeSelection$1(e)||ve$1(e)||te$1(118);const t=e.anchor.getNode(),n=e.focus.getNode(),[o,,r]=Ne$1(t),[l]=Ne$1(n),[s,i,a]=ye$1(r,o,l),{startColumn:c}=i,{startRow:h,startColumn:d}=a,f=Math.min(c,d),m=Math.max(c+o.__colSpan-1,d+l.__colSpan-1),p=m-f+1;if(s[0].length===m-f+1)return r.selectPrevious(),void r.remove();const C=s.length;for(let e=0;e<C;e++)for(let t=f;t<=m;t++){const{cell:n,startColumn:o}=s[e][t];if(o<f){if(t===f){const e=f-o;n.setColSpan(n.__colSpan-Math.min(p,n.__colSpan-e))}}else if(o+n.__colSpan-1>m){if(t===m){const e=m-o+1;n.setColSpan(n.__colSpan-e)}}else n.remove()}const S=s[h],_=S[d+l.__colSpan];if(void 0!==_){const{cell:e}=_;_e$1(e)}else{const e=S[d-1],{cell:t}=e;_e$1(t)}},$deleteTableRow__EXPERIMENTAL:function(){const e=$getSelection$1();$isRangeSelection$1(e)||ve$1(e)||te$1(118);const t=e.anchor.getNode(),n=e.focus.getNode(),[o,,r]=Ne$1(t),[l]=Ne$1(n),[s,i,a]=ye$1(r,o,l),{startRow:c}=i,{startRow:h}=a,d=h+l.__rowSpan-1;if(s.length===d-c+1)return void r.remove();const f=s[0].length,m=s[d+1],p=r.getChildAtIndex(d+1);for(let e=d;e>=c;e--){for(let t=f-1;t>=0;t--){const{cell:n,startRow:o,startColumn:r}=s[e][t];if(r===t&&(e===c&&o<c&&n.setRowSpan(n.__rowSpan-(o-c)),o>=c&&o+n.__rowSpan-1>d))if(n.setRowSpan(n.__rowSpan-(d-o+1)),null===p&&te$1(122),0===t)we$1(p,n);else{const{cell:e}=m[t-1];e.insertAfter(n)}}const t=r.getChildAtIndex(e);ee$1(t)||te$1(123,String(e)),t.remove()}if(void 0!==m){const{cell:e}=m[0];_e$1(e)}else{const e=s[c-1],{cell:t}=e[0];_e$1(t)}},$getElementForTableNode:function(e,t){const n=e.getElementByKey(t.getKey());if(null==n)throw new Error("Table Element Not Found");return Pe$1(n)},$getNodeTriplet:Ne$1,$getTableCellNodeFromLexicalNode:function(e){const n=$findMatchingParent$1(e,e=>q$2(e));return q$2(n)?n:null},$getTableCellNodeRect:xe$1,$getTableColumnIndexFromTableCellNode:function(e){return le$1(e).getChildren().findIndex(t=>t.is(e))},$getTableNodeFromLexicalNodeOrThrow:se$1,$getTableRowIndexFromTableCellNode:function(e){const t=le$1(e);return se$1(t).getChildren().findIndex(e=>e.is(t))},$getTableRowNodeFromTableCellNodeOrThrow:le$1,$insertTableColumn:function(e,t,n=!0,o,r){const l=e.getChildren(),i=[];for(let e=0;e<l.length;e++){const n=l[e];if(ee$1(n))for(let e=0;e<o;e++){const e=n.getChildren();if(t>=e.length||t<0)throw new Error("Table column target index out of range");const o=e[t];q$2(o)||te$1(12);const{left:l,right:a}=ce$1(o,r);let c=Y$1.NO_STATUS;(l&&l.hasHeaderState(Y$1.ROW)||a&&a.hasHeaderState(Y$1.ROW))&&(c|=Y$1.ROW);const h=j$3(c);h.append($createParagraphNode$1()),i.push({newTableCell:h,targetCell:o})}}return i.forEach(({newTableCell:e,targetCell:t})=>{n?t.insertAfter(e):t.insertBefore(e)}),e},$insertTableColumn__EXPERIMENTAL:function(e=!0){const t=$getSelection$1();$isRangeSelection$1(t)||ve$1(t)||te$1(118);const n=t.anchor.getNode(),o=t.focus.getNode(),[r]=Ne$1(n),[l,,i]=Ne$1(o),[a,c,h]=ye$1(i,l,r),d=a.length,f=e?Math.max(c.startColumn,h.startColumn):Math.min(c.startColumn,h.startColumn),m=e?f+l.__colSpan-1:f-1,p=i.getFirstChild();ee$1(p)||te$1(120);let C=null;function S(e=Y$1.NO_STATUS){const t=j$3(e).append($createParagraphNode$1());return null===C&&(C=t),t}let _=p;e:for(let e=0;e<d;e++){if(0!==e){const e=_.getNextSibling();ee$1(e)||te$1(121),_=e}const t=a[e],n=t[m<0?0:m].cell.__headerState,o=ue$1(n,Y$1.ROW);if(m<0){we$1(_,S(o));continue}const{cell:r,startColumn:l,startRow:s}=t[m];if(l+r.__colSpan-1<=m){let n=r,l=s,i=m;for(;l!==e&&n.__rowSpan>1;){if(i-=r.__colSpan,!(i>=0)){_.append(S(o));continue e}{const{cell:e,startRow:o}=t[i];n=e,l=o}}n.insertAfter(S(o))}else r.setColSpan(r.__colSpan+1)}null!==C&&_e$1(C)},$insertTableRow:function(e,t,n=!0,o,r){const l=e.getChildren();if(t>=l.length||t<0)throw new Error("Table row target index out of range");const i=l[t];if(!ee$1(i))throw new Error("Row before insertion index does not exist.");for(let e=0;e<o;e++){const e=i.getChildren(),t=e.length,o=Z$1();for(let n=0;n<t;n++){const t=e[n];q$2(t)||te$1(12);const{above:l,below:i}=ce$1(t,r);let a=Y$1.NO_STATUS;const c=l&&l.getWidth()||i&&i.getWidth()||void 0;(l&&l.hasHeaderState(Y$1.COLUMN)||i&&i.hasHeaderState(Y$1.COLUMN))&&(a|=Y$1.COLUMN);const h=j$3(a,1,c);h.append($createParagraphNode$1()),o.append(h)}n?i.insertAfter(o):i.insertBefore(o)}return e},$insertTableRow__EXPERIMENTAL:function(e=!0){const t=$getSelection$1();$isRangeSelection$1(t)||ve$1(t)||te$1(118);const n=t.focus.getNode(),[o,,r]=Ne$1(n),[l,i]=ye$1(r,o,o),a=l[0].length,{startRow:c}=i;if(e){const e=c+o.__rowSpan-1,t=l[e],n=Z$1();for(let o=0;o<a;o++){const{cell:r,startRow:l}=t[o];if(l+r.__rowSpan-1<=e){const e=t[o].cell.__headerState,r=ue$1(e,Y$1.COLUMN);n.append(j$3(r).append($createParagraphNode$1()))}else r.setRowSpan(r.__rowSpan+1)}const i=r.getChildAtIndex(e);ee$1(i)||te$1(145),i.insertAfter(n)}else{const e=l[c],t=Z$1();for(let n=0;n<a;n++){const{cell:o,startRow:r}=e[n];if(r===c){const o=e[n].cell.__headerState,r=ue$1(o,Y$1.COLUMN);t.append(j$3(r).append($createParagraphNode$1()))}else o.setRowSpan(o.__rowSpan+1)}const n=r.getChildAtIndex(c);ee$1(n)||te$1(145),n.insertBefore(t)}},$isTableCellNode:q$2,$isTableNode:nt$1,$isTableRowNode:ee$1,$isTableSelection:ve$1,$removeTableRowAtIndex:function(e,t){const n=e.getChildren();if(t>=n.length||t<0)throw new Error("Expected table cell to be inside of table row.");return n[t].remove(),e},$unmergeCell:function(){const e=$getSelection$1();$isRangeSelection$1(e)||ve$1(e)||te$1(118);const t=e.anchor.getNode(),[n,o,r]=Ne$1(t),l=n.__colSpan,s=n.__rowSpan;if(l>1){for(let e=1;e<l;e++)n.insertAfter(j$3(Y$1.NO_STATUS));n.setColSpan(1)}if(s>1){const[e,t]=ye$1(r,n,n),{startColumn:i,startRow:a}=t;let c;for(let t=1;t<s;t++){const n=a+t,r=e[n];c=(c||o).getNextSibling(),ee$1(c)||te$1(125);let s=null;for(let e=0;e<i;e++){const t=r[e],o=t.cell;t.startRow===n&&(s=o),o.__colSpan>1&&(e+=o.__colSpan-1)}if(null===s)for(let e=0;e<l;e++)we$1(c,j$3(Y$1.NO_STATUS));else for(let e=0;e<l;e++)s.insertAfter(j$3(Y$1.NO_STATUS))}n.setRowSpan(1)}},INSERT_TABLE_COMMAND:G$1,TableCellHeaderStates:Y$1,TableCellNode:J$2,TableNode:Ve$1,TableObserver:Me$1,TableRowNode:Q$1,applyTableHandlers:function(e,n,o,r){const l=o.getRootElement();if(null===l)throw new Error("No root element.");const a=new Me$1(o,e.getKey()),h=o._window||window;!function(e,t){e[Re$1]=t}(n,a);const f=()=>{const e=()=>{a.isSelecting=!1,h.removeEventListener("mouseup",e),h.removeEventListener("mousemove",t)},t=e=>{const t=He$1(e.target);null===t||a.anchorX===t.x&&a.anchorY===t.y||(e.preventDefault(),a.setFocusCellForSelection(t))};return{onMouseMove:t,onMouseUp:e}};n.addEventListener("mousedown",e=>{setTimeout(()=>{if(0!==e.button)return;if(!h)return;const t=He$1(e.target);null!==t&&(qe$1(e),a.setAnchorCellForSelection(t));const{onMouseUp:n,onMouseMove:o}=f();a.isSelecting=!0,h.addEventListener("mouseup",n),h.addEventListener("mousemove",o)},0)});const m=e=>{0===e.button&&o.update(()=>{const t=$getSelection$1(),n=e.target;ve$1(t)&&t.tableKey===a.tableNodeKey&&l.contains(n)&&a.clearHighlight()})};h.addEventListener("mousedown",m),a.listenersToRemove.add(()=>h.removeEventListener("mousedown",m)),a.listenersToRemove.add(o.registerCommand(KEY_ARROW_DOWN_COMMAND$1,t=>je$1(o,t,"down",e,a),COMMAND_PRIORITY_HIGH$1)),a.listenersToRemove.add(o.registerCommand(KEY_ARROW_UP_COMMAND$1,t=>je$1(o,t,"up",e,a),COMMAND_PRIORITY_HIGH$1)),a.listenersToRemove.add(o.registerCommand(KEY_ARROW_LEFT_COMMAND$1,t=>je$1(o,t,"backward",e,a),COMMAND_PRIORITY_HIGH$1)),a.listenersToRemove.add(o.registerCommand(KEY_ARROW_RIGHT_COMMAND$1,t=>je$1(o,t,"forward",e,a),COMMAND_PRIORITY_HIGH$1)),a.listenersToRemove.add(o.registerCommand(KEY_ESCAPE_COMMAND$1,e=>{const n=$getSelection$1();if(ve$1(n)){const o=$findMatchingParent$1(n.focus.getNode(),q$2);if(q$2(o))return qe$1(e),o.selectEnd(),!0}return!1},COMMAND_PRIORITY_HIGH$1)),[DELETE_WORD_COMMAND$1,DELETE_LINE_COMMAND$1,DELETE_CHARACTER_COMMAND$1].forEach(n=>{a.listenersToRemove.add(o.registerCommand(n,(n=>()=>{const o=$getSelection$1();if(!We$1(o,e))return!1;if(ve$1(o))return a.clearText(),!0;if($isRangeSelection$1(o)){const r=$findMatchingParent$1(o.anchor.getNode(),e=>q$2(e));if(!q$2(r))return!1;const l=o.anchor.getNode(),s=o.focus.getNode(),c=e.isParentOf(l),h=e.isParentOf(s);if(c&&!h||h&&!c)return a.clearText(),!0;const d=$findMatchingParent$1(o.anchor.getNode(),e=>$isElementNode$1(e)),u=d&&$findMatchingParent$1(d,e=>$isElementNode$1(e)&&q$2(e.getParent()));if(!$isElementNode$1(u)||!$isElementNode$1(d))return!1;if(n===DELETE_LINE_COMMAND$1&&null===u.getPreviousSibling())return!0}return!1})(n),COMMAND_PRIORITY_CRITICAL$1))});const p=n=>{const o=$getSelection$1();if(!We$1(o,e))return!1;if(ve$1(o))return n.preventDefault(),n.stopPropagation(),a.clearText(),!0;if($isRangeSelection$1(o)){const e=$findMatchingParent$1(o.anchor.getNode(),e=>q$2(e));if(!q$2(e))return!1}return!1};function C(t){const n=e.getCordsFromCellNode(t,a.table);return e.getDOMCellFromCordsOrThrow(n.x,n.y,a.table)}return a.listenersToRemove.add(o.registerCommand(KEY_BACKSPACE_COMMAND$1,p,COMMAND_PRIORITY_CRITICAL$1)),a.listenersToRemove.add(o.registerCommand(KEY_DELETE_COMMAND$1,p,COMMAND_PRIORITY_CRITICAL$1)),a.listenersToRemove.add(o.registerCommand(FORMAT_TEXT_COMMAND$1,n=>{const o=$getSelection$1();if(!We$1(o,e))return!1;if(ve$1(o))return a.formatCells(n),!0;if($isRangeSelection$1(o)){const e=$findMatchingParent$1(o.anchor.getNode(),e=>q$2(e));if(!q$2(e))return!1}return!1},COMMAND_PRIORITY_CRITICAL$1)),a.listenersToRemove.add(o.registerCommand(FORMAT_ELEMENT_COMMAND$1,t=>{const n=$getSelection$1();if(!ve$1(n)||!We$1(n,e))return!1;const o=n.anchor.getNode(),r=n.focus.getNode();if(!q$2(o)||!q$2(r))return!1;const[l,s,a]=ye$1(e,o,r),c=Math.max(s.startRow,a.startRow),h=Math.max(s.startColumn,a.startColumn),d=Math.min(s.startRow,a.startRow),g=Math.min(s.startColumn,a.startColumn);for(let e=d;e<=c;e++)for(let n=g;n<=h;n++){const o=l[e][n].cell;o.setFormat(t);const r=o.getChildren();for(let e=0;e<r.length;e++){const n=r[e];$isElementNode$1(n)&&!n.isInline()&&n.setFormat(t)}}return!0},COMMAND_PRIORITY_CRITICAL$1)),a.listenersToRemove.add(o.registerCommand(CONTROLLED_TEXT_INSERTION_COMMAND$1,n=>{const r=$getSelection$1();if(!We$1(r,e))return!1;if(ve$1(r))return a.clearHighlight(),!1;if($isRangeSelection$1(r)){const l=$findMatchingParent$1(r.anchor.getNode(),e=>q$2(e));if(!q$2(l))return!1;if("string"==typeof n){const t=Qe$1(o,r,e);if(t)return Ge$1(t,e,[$createTextNode$1(n)]),!0}}return!1},COMMAND_PRIORITY_CRITICAL$1)),r&&a.listenersToRemove.add(o.registerCommand(KEY_TAB_COMMAND$1,t=>{const n=$getSelection$1();if(!$isRangeSelection$1(n)||!n.isCollapsed()||!We$1(n,e))return!1;const o=Je$1(n.anchor.getNode());if(null===o)return!1;qe$1(t);const r=e.getCordsFromCellNode(o,a.table);return Ie$1(a,e,r.x,r.y,t.shiftKey?"backward":"forward"),!0},COMMAND_PRIORITY_CRITICAL$1)),a.listenersToRemove.add(o.registerCommand(FOCUS_COMMAND$1,t=>e.isSelected(),COMMAND_PRIORITY_HIGH$1)),a.listenersToRemove.add(o.registerCommand(SELECTION_INSERT_CLIPBOARD_NODES_COMMAND$1,e=>{const{nodes:n,selection:o}=e,r=o.getStartEndPoints(),l=ve$1(o),i=$isRangeSelection$1(o)&&null!==$findMatchingParent$1(o.anchor.getNode(),e=>q$2(e))&&null!==$findMatchingParent$1(o.focus.getNode(),e=>q$2(e))||l;if(1!==n.length||!nt$1(n[0])||!i||null===r)return!1;const[a]=r,h=n[0],d=h.getChildren(),u=h.getFirstChildOrThrow().getChildrenSize(),f=h.getChildrenSize(),m=$findMatchingParent$1(a.getNode(),e=>q$2(e)),p=m&&$findMatchingParent$1(m,e=>ee$1(e)),C=p&&$findMatchingParent$1(p,e=>nt$1(e));if(!q$2(m)||!ee$1(p)||!nt$1(C))return!1;const _=p.getIndexWithinParent(),w=Math.min(C.getChildrenSize()-1,_+f-1),b=m.getIndexWithinParent(),y=Math.min(p.getChildrenSize()-1,b+u-1),N=Math.min(b,y),x=Math.min(_,w),T=Math.max(b,y),v=Math.max(_,w),E=C.getChildren();let O,M,R=0;for(let e=x;e<=v;e++){const t=E[e];if(!ee$1(t))return!1;const n=d[R];if(!ee$1(n))return!1;const o=t.getChildren(),r=n.getChildren();let l=0;for(let t=N;t<=T;t++){const n=o[t];if(!q$2(n))return!1;const i=r[l];if(!q$2(i))return!1;e===x&&t===N?O=n.getKey():e===v&&t===T&&(M=n.getKey());const a=n.getChildren();i.getChildren().forEach(e=>{$isTextNode$1(e)?($createParagraphNode$1().append(e),n.append(e)):n.append(e)}),a.forEach(e=>e.remove()),l++}R++}if(O&&M){const e=Ee$1();e.set(n[0].getKey(),O,M),$setSelection$1(e)}return!0},COMMAND_PRIORITY_CRITICAL$1)),a.listenersToRemove.add(o.registerCommand(SELECTION_CHANGE_COMMAND$1,()=>{const t=$getSelection$1(),n=$getPreviousSelection$1();if($isRangeSelection$1(t)){const{anchor:n,focus:r}=t,l=n.getNode(),s=r.getNode(),i=Je$1(l),c=Je$1(s),d=!(!i||!e.is($e$1(i))),u=!(!c||!e.is($e$1(c))),g=d!==u,m=d&&u,p=t.isBackward();if(g){const n=t.clone();u?n.focus.set(e.getParentOrThrow().getKey(),p?e.getIndexWithinParent():e.getIndexWithinParent()+1,"element"):n.anchor.set(e.getParentOrThrow().getKey(),p?e.getIndexWithinParent()+1:e.getIndexWithinParent(),"element"),$setSelection$1(n),De$1(o,a)}else m&&(i.is(c)||(a.setAnchorCellForSelection(C(i)),a.setFocusCellForSelection(C(c),!0),a.isSelecting||setTimeout(()=>{const{onMouseUp:e,onMouseMove:t}=f();a.isSelecting=!0,h.addEventListener("mouseup",e),h.addEventListener("mousemove",t)},0)))}else if(t&&ve$1(t)&&t.is(n)&&t.tableKey===e.getKey()){const n=Ke$1(o._window);if(n&&n.anchorNode&&n.focusNode){const r=$getNearestNodeFromDOMNode$1(n.focusNode),l=r&&!e.is($e$1(r)),s=$getNearestNodeFromDOMNode$1(n.anchorNode),i=s&&e.is($e$1(s));if(l&&i&&n.rangeCount>0){const r=$createRangeSelectionFromDom$1(n,o);r&&(r.anchor.set(e.getKey(),t.isBackward()?e.getChildrenSize():0,"element"),n.removeAllRanges(),$setSelection$1(r))}}}return t&&!t.is(n)&&(ve$1(t)||ve$1(n))&&a.tableSelection&&!a.tableSelection.is(n)?(ve$1(t)&&t.tableKey===a.tableNodeKey?a.updateTableTableSelection(t):!ve$1(t)&&ve$1(n)&&n.tableKey===a.tableNodeKey&&a.updateTableTableSelection(null),!1):(a.hasHijackedSelectionStyles&&!e.isSelected()?function(e,t){t.enableHighlightStyle(),Be$1(t.table,t=>{const n=t.elem;t.highlighted=!1,Ye$1(e,t),n.getAttribute("style")||n.removeAttribute("style")})}(o,a):!a.hasHijackedSelectionStyles&&e.isSelected()&&De$1(o,a),!1)},COMMAND_PRIORITY_CRITICAL$1)),a.listenersToRemove.add(o.registerCommand(INSERT_PARAGRAPH_COMMAND$1,()=>{const t=$getSelection$1();if(!$isRangeSelection$1(t)||!t.isCollapsed()||!We$1(t,e))return!1;const n=Qe$1(o,t,e);return!!n&&(Ge$1(n,e),!0)},COMMAND_PRIORITY_CRITICAL$1)),a},getDOMCellFromTarget:He$1,getTableObserverFromTableElement:function(e){return e[Re$1]}}),$computeTableMap$1=mod$a.$computeTableMap,$createTableCellNode$1=mod$a.$createTableCellNode,$createTableNode$1=mod$a.$createTableNode,$createTableNodeWithDimensions$1=mod$a.$createTableNodeWithDimensions,$createTableRowNode$1=mod$a.$createTableRowNode,$createTableSelection$1=mod$a.$createTableSelection,$deleteTableColumn$1=mod$a.$deleteTableColumn,$deleteTableColumn__EXPERIMENTAL$1=mod$a.$deleteTableColumn__EXPERIMENTAL,$deleteTableRow__EXPERIMENTAL$1=mod$a.$deleteTableRow__EXPERIMENTAL,$getElementForTableNode$1=mod$a.$getElementForTableNode,$getNodeTriplet$1=mod$a.$getNodeTriplet,$getTableCellNodeFromLexicalNode$1=mod$a.$getTableCellNodeFromLexicalNode,$getTableCellNodeRect$1=mod$a.$getTableCellNodeRect,$getTableColumnIndexFromTableCellNode$1=mod$a.$getTableColumnIndexFromTableCellNode,$getTableNodeFromLexicalNodeOrThrow$1=mod$a.$getTableNodeFromLexicalNodeOrThrow,$getTableRowIndexFromTableCellNode$1=mod$a.$getTableRowIndexFromTableCellNode,$getTableRowNodeFromTableCellNodeOrThrow$1=mod$a.$getTableRowNodeFromTableCellNodeOrThrow,$insertTableColumn$1=mod$a.$insertTableColumn,$insertTableColumn__EXPERIMENTAL$1=mod$a.$insertTableColumn__EXPERIMENTAL,$insertTableRow$1=mod$a.$insertTableRow,$insertTableRow__EXPERIMENTAL$1=mod$a.$insertTableRow__EXPERIMENTAL,$isTableCellNode$1=mod$a.$isTableCellNode,$isTableNode$1=mod$a.$isTableNode,$isTableRowNode$1=mod$a.$isTableRowNode,$isTableSelection$1=mod$a.$isTableSelection,$removeTableRowAtIndex$1=mod$a.$removeTableRowAtIndex,$unmergeCell$1=mod$a.$unmergeCell,INSERT_TABLE_COMMAND$1=mod$a.INSERT_TABLE_COMMAND,TableCellHeaderStates$1=mod$a.TableCellHeaderStates,TableCellNode$1=mod$a.TableCellNode,TableNode$1=mod$a.TableNode,TableObserver$1=mod$a.TableObserver,TableRowNode$1=mod$a.TableRowNode,applyTableHandlers$1=mod$a.applyTableHandlers,getDOMCellFromTarget$1=mod$a.getDOMCellFromTarget,getTableObserverFromTableElement$1=mod$a.getTableObserverFromTableElement;var LexicalTable=Object.freeze({$computeTableMap:$computeTableMap$1,$createTableCellNode:$createTableCellNode$1,$createTableNode:$createTableNode$1,$createTableNodeWithDimensions:$createTableNodeWithDimensions$1,$createTableRowNode:$createTableRowNode$1,$createTableSelection:$createTableSelection$1,$deleteTableColumn:$deleteTableColumn$1,$deleteTableColumn__EXPERIMENTAL:$deleteTableColumn__EXPERIMENTAL$1,$deleteTableRow__EXPERIMENTAL:$deleteTableRow__EXPERIMENTAL$1,$getElementForTableNode:$getElementForTableNode$1,$getNodeTriplet:$getNodeTriplet$1,$getTableCellNodeFromLexicalNode:$getTableCellNodeFromLexicalNode$1,$getTableCellNodeRect:$getTableCellNodeRect$1,$getTableColumnIndexFromTableCellNode:$getTableColumnIndexFromTableCellNode$1,$getTableNodeFromLexicalNodeOrThrow:$getTableNodeFromLexicalNodeOrThrow$1,$getTableRowIndexFromTableCellNode:$getTableRowIndexFromTableCellNode$1,$getTableRowNodeFromTableCellNodeOrThrow:$getTableRowNodeFromTableCellNodeOrThrow$1,$insertTableColumn:$insertTableColumn$1,$insertTableColumn__EXPERIMENTAL:$insertTableColumn__EXPERIMENTAL$1,$insertTableRow:$insertTableRow$1,$insertTableRow__EXPERIMENTAL:$insertTableRow__EXPERIMENTAL$1,$isTableCellNode:$isTableCellNode$1,$isTableNode:$isTableNode$1,$isTableRowNode:$isTableRowNode$1,$isTableSelection:$isTableSelection$1,$removeTableRowAtIndex:$removeTableRowAtIndex$1,$unmergeCell:$unmergeCell$1,INSERT_TABLE_COMMAND:INSERT_TABLE_COMMAND$1,TableCellHeaderStates:TableCellHeaderStates$1,TableCellNode:TableCellNode$1,TableNode:TableNode$1,TableObserver:TableObserver$1,TableRowNode:TableRowNode$1,applyTableHandlers:applyTableHandlers$1,getDOMCellFromTarget:getDOMCellFromTarget$1,getTableObserverFromTableElement:getTableObserverFromTableElement$1});exports.Core=Lexical,exports.Html=LexicalHtml,exports.List=LexicalList,exports.Link=LexicalLink,exports.Clipboard=LexicalClipboard,exports.Selection=LexicalSelection,exports.History=LexicalHistory,exports.Utils=LexicalUtils,exports.Text=LexicalText,exports.RichText=LexicalRichText,exports.Table=LexicalTable}(this.BX.UI.Lexical=this.BX.UI.Lexical||{});
